{"ast":null,"code":"import _objectSpread from\"E:/Visual Studio Code/WhaleCorpProject/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/components/AdminPanel.jsx\nimport React,{useState,useMemo,useEffect,useRef}from\"react\";import Modal from\"react-modal\";import Select,{components as RSComponents}from\"react-select\";import MiscellaneumClasses from\"./admin/MiscellaneumClasses\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";Modal.setAppElement(\"#root\");const SPECIAL_TAIL=new Set([\"Bard\",\"Paladin\",\"Artist\",\"Valkyrie\"]);const ACTIVE_STATUSES=new Set([\"upcoming\",\"live\"]);const INACTIVE_HINTS=new Set([\"ended\",\"done\",\"finished\",\"archived\",\"past\",\"cancelled\"]);const nameKey=c=>{if(!c)return\"\";if(typeof c===\"string\")return c.trim().toLowerCase();if(typeof c.name===\"string\")return c.name.trim().toLowerCase();return\"\";};const getNote=obj=>(obj===null||obj===void 0?void 0:obj.userNote)||(obj===null||obj===void 0?void 0:obj.note)||(obj===null||obj===void 0?void 0:obj.profileNote)||\"\";// Ordena equipos (soporta roles al final)\nconst sortTeam=arr=>{const withIndex=(arr||[]).map((c,i)=>({c,i}));withIndex.sort((a,b)=>{var _a$c,_a$c$class,_b$c,_b$c$class;const aIsTail=SPECIAL_TAIL.has((_a$c=a.c)===null||_a$c===void 0?void 0:(_a$c$class=_a$c.class)===null||_a$c$class===void 0?void 0:_a$c$class.name);const bIsTail=SPECIAL_TAIL.has((_b$c=b.c)===null||_b$c===void 0?void 0:(_b$c$class=_b$c.class)===null||_b$c$class===void 0?void 0:_b$c$class.name);if(aIsTail!==bIsTail)return aIsTail?1:-1;return a.i-b.i;});return withIndex.map(x=>x.c);};// ---------- Fecha (MM-DD) ----------\nconst z2=n=>String(n).padStart(2,\"0\");const mmddRegex=/^(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;const ymdRegex=/^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;const toMMDD=s=>{if(!s||typeof s!==\"string\")return\"\";const t=s.trim();if(mmddRegex.test(t))return t;if(/^(0[1-9]|1[0-2])\\/(0[1-9]|[12]\\d|3[01])$/.test(t)){const[m,d]=t.split(\"/\");return\"\".concat(m,\"-\").concat(d);}const ymd=t.match(ymdRegex);if(ymd){const[,,m,d]=ymd;return\"\".concat(m,\"-\").concat(d);}return t;};const isValidMMDD=mmdd=>{if(!mmddRegex.test(mmdd))return false;const[m,d]=mmdd.split(\"-\").map(x=>parseInt(x,10));const date=new Date(2001,m-1,d);return date.getMonth()+1===m&&date.getDate()===d;};// Dedupe\nconst dedupeCharsByName=function(){let arr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const seen=new Set();const out=[];for(const c of arr){const k=nameKey(c);if(!k||seen.has(k))continue;seen.add(k);out.push(c);}return out;};const dedupeOptionsByName=function(){let opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const seen=new Set();const out=[];for(const o of opts){const k=nameKey(o===null||o===void 0?void 0:o.value);if(!k||seen.has(k))continue;seen.add(k);out.push(o);}return out;};// Mini calendario\nconst MONTHS=[\"Ene\",\"Feb\",\"Mar\",\"Abr\",\"May\",\"Jun\",\"Jul\",\"Ago\",\"Sep\",\"Oct\",\"Nov\",\"Dic\"];const WD=[\"D\",\"L\",\"M\",\"M\",\"J\",\"V\",\"S\"];function buildMonthMatrix(month/*1-12*/){const first=new Date(2001,month-1,1);const firstWd=first.getDay();const daysInMonth=new Date(2001,month,0).getDate();const cells=[];for(let i=0;i<firstWd;i++)cells.push(null);for(let d=1;d<=daysInMonth;d++)cells.push(d);while(cells.length%7!==0)cells.push(null);const rows=[];for(let i=0;i<cells.length;i+=7)rows.push(cells.slice(i,i+7));return rows;}// ¿Tarjeta activa?\nconst isActiveCard=c=>{const st=String((c===null||c===void 0?void 0:c.status)||\"\").toLowerCase();if(!st)return true;if(INACTIVE_HINTS.has(st))return false;return ACTIVE_STATUSES.has(st);};const AdminPanel=_ref=>{let{cards,allCharacters,onSaveCards}=_ref;// Creación rápida\nconst[createTitle,setCreateTitle]=useState(\"\");// Modal crear/editar\nconst[modalOpen,setModalOpen]=useState(false);const[editingCardId,setEditingCardId]=useState(null);const[modalTitle,setModalTitle]=useState(\"\");const[selectedDate,setSelectedDate]=useState(\"\");const[selectedTime,setSelectedTime]=useState(\"\");const[selectedTeam1,setSelectedTeam1]=useState([]);const[selectedTeam2,setSelectedTeam2]=useState([]);// Modal ver nota 📩\nconst[noteOpen,setNoteOpen]=useState(false);const[noteText,setNoteText]=useState(\"\");const[noteTitle,setNoteTitle]=useState(\"\");// Calendario\nconst[showCal,setShowCal]=useState(false);const[calMonth,setCalMonth]=useState(()=>new Date().getMonth()+1);const calRef=useRef(null);// Confirm “eliminar todas”\nconst[confirmAllOpen,setConfirmAllOpen]=useState(false);// Bloqueados globales (tarjetas activas ≠ tarjeta en edición)\nconst blockedActiveNames=useMemo(()=>{const s=new Set();(cards||[]).forEach(c=>{if(!isActiveCard(c))return;if((c===null||c===void 0?void 0:c.id)===editingCardId)return;const pool=Array.isArray(c===null||c===void 0?void 0:c.characters)?c.characters:[...((c===null||c===void 0?void 0:c.team1)||[]),...((c===null||c===void 0?void 0:c.team2)||[])];pool.forEach(ch=>{const k=nameKey(ch);if(k)s.add(k);});});return s;},[cards,editingCardId]);// Opciones base con icono (usa class.image)\nconst baseOptions=useMemo(()=>(allCharacters!==null&&allCharacters!==void 0?allCharacters:[]).map(char=>{var _char$class;return{value:char,label:typeof(char===null||char===void 0?void 0:char.name)===\"string\"?char.name:String(char||\"\"),icon:(char===null||char===void 0?void 0:(_char$class=char.class)===null||_char$class===void 0?void 0:_char$class.image)||null};}),[allCharacters]);// Selecciones actuales\nconst sel1Names=useMemo(()=>new Set(selectedTeam1.map(o=>nameKey(o.value))),[selectedTeam1]);const sel2Names=useMemo(()=>new Set(selectedTeam2.map(o=>nameKey(o.value))),[selectedTeam2]);// Bloqueados efectivos (desbloquea los ya elegidos en este modal)\nconst effectiveBlocked=useMemo(()=>{const s=new Set(blockedActiveNames);selectedTeam1.forEach(o=>s.delete(nameKey(o.value)));selectedTeam2.forEach(o=>s.delete(nameKey(o.value)));return s;},[blockedActiveNames,selectedTeam1,selectedTeam2]);// Opciones visibles por team\nconst optionsTeam1=useMemo(()=>{const filtered=baseOptions.filter(opt=>{const k=nameKey(opt.value);if(effectiveBlocked.has(k))return false;return!sel2Names.has(k);});return dedupeOptionsByName(filtered);},[baseOptions,sel2Names,effectiveBlocked]);const optionsTeam2=useMemo(()=>{const filtered=baseOptions.filter(opt=>{const k=nameKey(opt.value);if(effectiveBlocked.has(k))return false;return!sel1Names.has(k);});return dedupeOptionsByName(filtered);},[baseOptions,sel1Names,effectiveBlocked]);// Cerrar calendario si clic fuera\nuseEffect(()=>{const onDocClick=e=>{if(!showCal)return;if(calRef.current&&!calRef.current.contains(e.target))setShowCal(false);};document.addEventListener(\"mousedown\",onDocClick);return()=>document.removeEventListener(\"mousedown\",onDocClick);},[showCal]);// Cargar equipos en modal\nconst loadTeamsFromCard=card=>{const fallback=Array.isArray(card===null||card===void 0?void 0:card.characters)?card.characters:[];const t1raw=Array.isArray(card===null||card===void 0?void 0:card.team1)?card.team1:fallback.slice(0,4);const t2raw=Array.isArray(card===null||card===void 0?void 0:card.team2)?card.team2:fallback.slice(4,8);const t1=dedupeCharsByName(sortTeam(t1raw)).slice(0,4);const t1Set=new Set(t1.map(nameKey));const t2=dedupeCharsByName(sortTeam(t2raw).filter(c=>!t1Set.has(nameKey(c)))).slice(0,4);setSelectedTeam1(t1.map(c=>{var _c$class;return{value:c,label:typeof(c===null||c===void 0?void 0:c.name)===\"string\"?c.name:String(c||\"\"),icon:(c===null||c===void 0?void 0:(_c$class=c.class)===null||_c$class===void 0?void 0:_c$class.image)||null};}));setSelectedTeam2(t2.map(c=>{var _c$class2;return{value:c,label:typeof(c===null||c===void 0?void 0:c.name)===\"string\"?c.name:String(c||\"\"),icon:(c===null||c===void 0?void 0:(_c$class2=c.class)===null||_c$class2===void 0?void 0:_c$class2.image)||null};}));};const openModal=card=>{setEditingCardId((card===null||card===void 0?void 0:card.id)||null);setModalTitle((card===null||card===void 0?void 0:card.title)||(createTitle||\"\").trim());const mmdd=toMMDD((card===null||card===void 0?void 0:card.date)||\"\");setSelectedDate(mmdd);setSelectedTime((card===null||card===void 0?void 0:card.time)||\"\");setCalMonth(mmddRegex.test(mmdd)?parseInt(mmdd.split(\"-\")[0],10):new Date().getMonth()+1);loadTeamsFromCard(card);setModalOpen(true);};// Guardar\nconst saveModal=()=>{const title=(modalTitle||createTitle||\"\").trim();if(!title)return alert(\"Debe ingresar un título para la tarjeta\");const normalizedDate=toMMDD(selectedDate);if(normalizedDate&&!isValidMMDD(normalizedDate)){return alert(\"La fecha debe estar en formato MM-DD y ser válida. Ej: 08-17\");}const team1=dedupeCharsByName(sortTeam(selectedTeam1.map(o=>o.value))).slice(0,4);const preTeam2=dedupeCharsByName(sortTeam(selectedTeam2.map(o=>o.value))).slice(0,4);const t1Set=new Set(team1.map(nameKey));const team2=preTeam2.filter(c=>!t1Set.has(nameKey(c))).slice(0,4);const currentNames=new Set([...team1,...team2].map(nameKey));const conflicts=[];currentNames.forEach(k=>{if(blockedActiveNames.has(k))conflicts.push(k);});if(conflicts.length){return alert(\"No puedes usar personajes que ya est\\xE1n en tarjetas ACTIVAS (upcoming/live).\\nBloqueados: \".concat([...new Set(conflicts)].join(\", \")));}const characters=dedupeCharsByName([...team1,...team2]);const newCardData={title,date:normalizedDate,time:selectedTime,team1,team2,characters,status:\"upcoming\"// nueva tarjeta = activa\n};if(editingCardId){const updated=(cards||[]).map(c=>c.id===editingCardId?_objectSpread(_objectSpread({},c),newCardData):c);onSaveCards(updated);}else{const newCard=_objectSpread({id:Date.now()},newCardData);onSaveCards([...(cards||[]),newCard]);setCreateTitle(\"\");}setModalOpen(false);setShowCal(false);};const deleteCard=cardId=>{if(window.confirm(\"¿Seguro que quieres eliminar esta tarjeta?\")){onSaveCards((cards||[]).filter(c=>c.id!==cardId));}};// Eliminar todas (confirm)\nconst openDeleteAllConfirm=()=>setConfirmAllOpen(true);const closeDeleteAllConfirm=()=>setConfirmAllOpen(false);const confirmDeleteAll=()=>{onSaveCards([]);setConfirmAllOpen(false);};// Handlers selects\nconst onTeamChange=(teamKey,value)=>{const incoming=dedupeOptionsByName((value||[]).slice(0,4));if(teamKey===\"team1\"){const filtered=incoming.filter(o=>{const k=nameKey(o.value);return!effectiveBlocked.has(k)&&!sel2Names.has(k);});setSelectedTeam1(dedupeOptionsByName(filtered));}else{const filtered=incoming.filter(o=>{const k=nameKey(o.value);return!effectiveBlocked.has(k)&&!sel1Names.has(k);});setSelectedTeam2(dedupeOptionsByName(filtered));}};const handleDateInput=e=>{let v=e.target.value.replace(/[^\\d\\-\\/]/g,\"\").replace(/\\//g,\"-\");if(v.length>5)v=v.slice(0,5);if(/^\\d{3,4}$/.test(v)&&!v.includes(\"-\"))v=\"\".concat(v.slice(0,2),\"-\").concat(v.slice(2));setSelectedDate(v);if(/^\\d{2}-?$/.test(v)){const m=parseInt(v.slice(0,2),10);if(m>=1&&m<=12)setCalMonth(m);}};// Orden de tarjetas\nconst sortedCards=useMemo(()=>{const dateKey=d=>{if(!d)return Number.POSITIVE_INFINITY;const s=String(d).trim();if(mmddRegex.test(s)){const[m,day]=s.split(\"-\");return parseInt(\"\".concat(m).concat(day),10);}const y=s.match(ymdRegex);if(y){const[,,m,day]=y;return parseInt(\"\".concat(m).concat(day),10);}const dt=new Date(s);if(!isNaN(dt))return parseInt(\"\".concat(z2(dt.getMonth()+1)).concat(z2(dt.getDate())),10);return Number.POSITIVE_INFINITY;};const minutes=t=>{if(!t)return Number.POSITIVE_INFINITY;const m=t.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);if(m)return parseInt(m[1],10)*60+parseInt(m[2],10);return Number.POSITIVE_INFINITY;};const list=Array.isArray(cards)?[...cards]:[];return list.sort((a,b)=>{const da=dateKey(a===null||a===void 0?void 0:a.date),db=dateKey(b===null||b===void 0?void 0:b.date);if(da!==db)return da-db;const ta=minutes(a===null||a===void 0?void 0:a.time),tb=minutes(b===null||b===void 0?void 0:b.time);if(ta!==tb)return ta-tb;return String((a===null||a===void 0?void 0:a.title)||\"\").localeCompare(String((b===null||b===void 0?void 0:b.title)||\"\"));});},[cards]);// Render etiqueta para opciones (menú) — con icono e indicador 📩 (tooltip)\nconst renderOption=opt=>{const note=getNote(opt.value);return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:8},title:note||undefined,children:[opt.icon?/*#__PURE__*/_jsx(\"img\",{src:opt.icon,alt:\"\",style:{width:20,height:20,borderRadius:4,objectFit:\"cover\"}}):/*#__PURE__*/_jsx(\"div\",{style:{width:20,height:20,borderRadius:4,background:\"#e5e7eb\"}}),/*#__PURE__*/_jsx(\"span\",{children:opt.label}),note?/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:4},children:\"\\uD83D\\uDCE9\"}):null]});};// Personalizamos MultiValueLabel para que el 📩 sea clickeable en las \"chips\" seleccionadas\nconst MultiValueLabel=props=>{const{data}=props;// option\nconst note=getNote(data===null||data===void 0?void 0:data.value);const icon=data===null||data===void 0?void 0:data.icon;const label=data===null||data===void 0?void 0:data.label;return/*#__PURE__*/_jsx(RSComponents.MultiValueLabel,_objectSpread(_objectSpread({},props),{},{children:/*#__PURE__*/_jsxs(\"span\",{style:{display:\"inline-flex\",alignItems:\"center\",gap:6},children:[icon?/*#__PURE__*/_jsx(\"img\",{src:icon,alt:\"\",style:{width:16,height:16,borderRadius:4,objectFit:\"cover\"}}):null,/*#__PURE__*/_jsx(\"span\",{children:label}),note?/*#__PURE__*/_jsx(\"button\",{type:\"button\",title:\"Ver mensaje\",onMouseDown:e=>e.stopPropagation(),onClick:e=>{e.preventDefault();e.stopPropagation();setNoteTitle(label);setNoteText(note);setNoteOpen(true);},style:{border:\"none\",background:\"transparent\",cursor:\"pointer\",lineHeight:1,padding:0,margin:0},children:\"\\uD83D\\uDCE9\"}):null]})}));};const selectComponents={MultiValueLabel};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20,maxWidth:1100,margin:\"0 auto\",fontFamily:\"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",color:\"#34495e\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:20,color:\"#1e88e5\",fontWeight:700},children:\"Panel de Administraci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:20,display:\"flex\",gap:10},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xEDtulo para nueva tarjeta\",value:createTitle,onChange:e=>setCreateTitle(e.target.value),style:{flex:1,padding:10,borderRadius:8,border:\"1px solid #ccc\",fontSize:\"1rem\"}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>openModal(null),style:{padding:\"10px 20px\",cursor:\"pointer\",backgroundColor:\"#1e88e5\",color:\"white\",border:\"none\",borderRadius:8,fontWeight:600},children:\"Crear Tarjeta\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openDeleteAllConfirm,disabled:!cards||cards.length===0,title:\"Eliminar todas las tarjetas\",style:{padding:\"10px 16px\",cursor:!cards||cards.length===0?\"not-allowed\":\"pointer\",backgroundColor:!cards||cards.length===0?\"#ef9a9a\":\"#d32f2f\",color:\"white\",border:\"none\",borderRadius:8,fontWeight:700,fontSize:\"0.95rem\",opacity:!cards||cards.length===0?0.7:1},children:\"Eliminar todas\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(3, 1fr)\",gap:24},children:!sortedCards||sortedCards.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No hay tarjetas creadas\"}):sortedCards.map(card=>{var _card$characters;return/*#__PURE__*/_jsxs(\"div\",{style:{borderRadius:12,boxShadow:\"0 12px 20px rgba(0,0,0,0.08)\",backgroundColor:\"#f0f5ff\",padding:12},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{title:card.title,style:{color:\"#1e88e5\",fontWeight:700,marginBottom:6,whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\"},children:card.title}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",fontSize:\"0.9rem\",color:\"#607d8b\",fontWeight:600},children:[/*#__PURE__*/_jsx(\"span\",{children:toMMDD(card.date)||\"No asignada\"}),/*#__PURE__*/_jsx(\"span\",{children:card.time||\"No asignada\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:\"#0d47a1\"},children:\"Personajes:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:6,marginTop:6},children:((_card$characters=card.characters)!==null&&_card$characters!==void 0?_card$characters:[]).map((c,i)=>{var _c$class3,_c$class4;const note=getNote(c);const label=typeof(c===null||c===void 0?void 0:c.name)===\"string\"?c.name:String(c);return/*#__PURE__*/_jsxs(\"span\",{style:{display:\"inline-flex\",alignItems:\"center\",gap:6,backgroundColor:\"#bbdefb\",padding:\"5px 10px\",borderRadius:20,fontSize:\"0.9em\",fontWeight:600,color:\"#0d47a1\"},title:note||undefined,children:[(c===null||c===void 0?void 0:(_c$class3=c.class)===null||_c$class3===void 0?void 0:_c$class3.image)&&/*#__PURE__*/_jsx(\"img\",{src:c.class.image,alt:((_c$class4=c.class)===null||_c$class4===void 0?void 0:_c$class4.name)||\"Clase\",style:{width:18,height:18,borderRadius:\"50%\"}}),label,note?/*#__PURE__*/_jsx(\"button\",{type:\"button\",title:\"Leer mensaje\",onClick:()=>{setNoteTitle(label);setNoteText(note);setNoteOpen(true);},style:{border:\"none\",background:\"transparent\",cursor:\"pointer\",padding:0,margin:0,lineHeight:1},children:\"\\uD83D\\uDCE9\"}):null]},i);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:14,display:\"flex\",gap:8},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openModal(card),style:{flex:1,padding:\"8px 0\",borderRadius:8,border:\"none\",backgroundColor:\"#1976d2\",color:\"white\",fontWeight:600},children:\"Editar Tarjeta\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteCard(card.id),style:{flex:1,padding:\"8px 0\",borderRadius:8,border:\"none\",backgroundColor:\"#d32f2f\",color:\"white\",fontWeight:600},children:\"Eliminar Tarjeta\"})]})]},card.id);})}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalOpen,onRequestClose:()=>{setModalOpen(false);setShowCal(false);},contentLabel:\"Configurar Tarjeta\",style:{content:{maxWidth:\"720px\",margin:\"auto\",padding:20,borderRadius:12,height:\"auto\",inset:\"40px auto auto\"},overlay:{display:\"flex\",alignItems:\"flex-start\",justifyContent:\"center\",backgroundColor:\"rgba(0,0,0,0.45)\",zIndex:1000}},children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:16},children:editingCardId?\"Editar Tarjeta\":\"Nueva Tarjeta\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xEDtulo para la tarjeta\",value:modalTitle,onChange:e=>setModalTitle(e.target.value),style:{width:\"100%\",padding:12,marginBottom:16,borderRadius:8,border:\"1px solid #ccc\"}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:12,marginBottom:16},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\"},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:\"block\"},children:[\"Fecha (MM-DD):\",/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,marginTop:6},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",inputMode:\"numeric\",placeholder:\"MM-DD\",value:selectedDate,onChange:handleDateInput,onBlur:()=>setSelectedDate(toMMDD(selectedDate)),style:{width:\"100%\",padding:10,borderRadius:8,border:\"1px solid #ccc\"}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowCal(s=>!s),style:{padding:\"0 12px\",borderRadius:8,border:\"1px solid #ccc\",background:\"#f8fafc\",cursor:\"pointer\",fontWeight:600},children:\"\\uD83D\\uDCC5\"})]})]}),showCal&&/*#__PURE__*/_jsxs(\"div\",{ref:calRef,style:{position:\"absolute\",top:64,left:0,background:\"white\",border:\"1px solid #e2e8f0\",borderRadius:10,boxShadow:\"0 10px 20px rgba(0,0,0,0.12)\",padding:10,width:280,zIndex:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",marginBottom:8},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCalMonth(m=>m===1?12:m-1),style:{border:\"none\",background:\"transparent\",cursor:\"pointer\",fontSize:18},children:\"\\u25C0\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700},children:MONTHS[calMonth-1]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCalMonth(m=>m===12?1:m+1),style:{border:\"none\",background:\"transparent\",cursor:\"pointer\",fontSize:18},children:\"\\u25B6\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(7, 1fr)\",gap:4,marginBottom:6},children:WD.map(w=>/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",fontSize:12,color:\"#64748b\"},children:w},w))}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(7, 1fr)\",gap:4},children:buildMonthMatrix(calMonth).flat().map((cell,idx)=>{if(cell===null)return/*#__PURE__*/_jsx(\"div\",{style:{height:32}},idx);const mmdd=\"\".concat(z2(calMonth),\"-\").concat(z2(cell));const isSelected=selectedDate===mmdd;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedDate(mmdd);setShowCal(false);},style:{height:32,borderRadius:6,border:\"1px solid #e2e8f0\",background:isSelected?\"#1e88e5\":\"white\",color:isSelected?\"white\":\"#0f172a\",cursor:\"pointer\",fontWeight:600},children:cell},idx);})})]})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:\"block\"},children:[\"Hora:\",/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:selectedTime,onChange:e=>setSelectedTime(e.target.value),style:{width:\"100%\",padding:10,marginTop:6,borderRadius:8,border:\"1px solid #ccc\"}})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:8},children:\"Selecciona personajes por equipo (m\\xE1x 4 por equipo):\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:16},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginBottom:6},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:700},children:\"Party 1\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:12,color:\"#64748b\"},children:[selectedTeam1.length,\"/4\"]})]}),/*#__PURE__*/_jsx(Select,{isMulti:true,options:optionsTeam1,value:selectedTeam1,onChange:v=>onTeamChange(\"team1\",v),placeholder:\"Buscar personajes...\",closeMenuOnSelect:false,getOptionValue:opt=>nameKey(opt.value),isOptionDisabled:opt=>{const k=nameKey(opt.value);return effectiveBlocked.has(k)||sel1Names.has(k)||sel2Names.has(k);},formatOptionLabel:renderOption,components:selectComponents})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginBottom:6},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:700},children:\"Party 2\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:12,color:\"#64748b\"},children:[selectedTeam2.length,\"/4\"]})]}),/*#__PURE__*/_jsx(Select,{isMulti:true,options:optionsTeam2,value:selectedTeam2,onChange:v=>onTeamChange(\"team2\",v),placeholder:\"Buscar personajes...\",closeMenuOnSelect:false,getOptionValue:opt=>nameKey(opt.value),isOptionDisabled:opt=>{const k=nameKey(opt.value);return effectiveBlocked.has(k)||sel1Names.has(k)||sel2Names.has(k);},formatOptionLabel:renderOption,components:selectComponents})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20,display:\"flex\",justifyContent:\"flex-end\",gap:12},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setModalOpen(false);setShowCal(false);},style:{padding:\"10px 20px\",borderRadius:8,border:\"1px solid #ccc\",backgroundColor:\"white\",cursor:\"pointer\",fontWeight:600},children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveModal,style:{padding:\"10px 20px\",borderRadius:8,border:\"none\",backgroundColor:\"#1e88e5\",color:\"white\",cursor:\"pointer\",fontWeight:600},children:\"Guardar\"})]})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:confirmAllOpen,onRequestClose:closeDeleteAllConfirm,contentLabel:\"Confirmar eliminaci\\xF3n masiva\",style:{content:{maxWidth:\"520px\",margin:\"auto\",padding:22,borderRadius:12,height:\"auto\",inset:\"40px auto auto\"},overlay:{display:\"flex\",alignItems:\"flex-start\",justifyContent:\"center\",backgroundColor:\"rgba(0,0,0,0.45)\",zIndex:1000}},children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:0,marginBottom:10,color:\"#d32f2f\"},children:\"Eliminar todas las tarjetas\"}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0},children:[\"Vas a eliminar \",/*#__PURE__*/_jsx(\"strong\",{children:(cards===null||cards===void 0?void 0:cards.length)||0}),\" tarjeta(s). Esta acci\\xF3n \",/*#__PURE__*/_jsx(\"strong\",{children:\"no se puede deshacer\"}),\".\"]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:8,color:\"#6b7280\",fontSize:14},children:\"\\xBFDeseas continuar?\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:18,display:\"flex\",justifyContent:\"flex-end\",gap:10},children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeDeleteAllConfirm,style:{padding:\"10px 16px\",borderRadius:8,border:\"1px solid #d1d5db\",backgroundColor:\"white\",cursor:\"pointer\",fontWeight:600},children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmDeleteAll,style:{padding:\"10px 16px\",borderRadius:8,border:\"none\",backgroundColor:\"#d32f2f\",color:\"white\",cursor:\"pointer\",fontWeight:700},children:\"S\\xED, eliminar todo\"})]})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:noteOpen,onRequestClose:()=>setNoteOpen(false),contentLabel:\"Mensaje del jugador\",style:{content:{maxWidth:\"640px\",margin:\"auto\",padding:20,borderRadius:12,height:\"auto\",inset:\"60px auto auto\"},overlay:{display:\"flex\",alignItems:\"flex-start\",justifyContent:\"center\",backgroundColor:\"rgba(0,0,0,0.45)\",zIndex:1100}},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:10,marginBottom:8},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:22},role:\"img\",\"aria-label\":\"mensaje\",children:\"\\uD83D\\uDCE9\"}),/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0},children:[\"Mensaje de \",noteTitle]})]}),/*#__PURE__*/_jsx(\"div\",{style:{whiteSpace:\"pre-wrap\",lineHeight:1.5,color:\"#0f172a\",background:\"#f8fafc\",border:\"1px solid #e2e8f0\",borderRadius:8,padding:12,fontSize:14},children:noteText||\"Sin contenido\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\",marginTop:16},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNoteOpen(false),style:{padding:\"8px 14px\",borderRadius:8,border:\"1px solid #d1d5db\",background:\"white\",cursor:\"pointer\",fontWeight:600},children:\"Cerrar\"})})]}),/*#__PURE__*/_jsx(MiscellaneumClasses,{title:\"Clases\",sortMode:\"asIs\"})]});};export default AdminPanel;","map":{"version":3,"names":["React","useState","useMemo","useEffect","useRef","Modal","Select","components","RSComponents","MiscellaneumClasses","jsx","_jsx","jsxs","_jsxs","setAppElement","SPECIAL_TAIL","Set","ACTIVE_STATUSES","INACTIVE_HINTS","nameKey","c","trim","toLowerCase","name","getNote","obj","userNote","note","profileNote","sortTeam","arr","withIndex","map","i","sort","a","b","_a$c","_a$c$class","_b$c","_b$c$class","aIsTail","has","class","bIsTail","x","z2","n","String","padStart","mmddRegex","ymdRegex","toMMDD","s","t","test","m","d","split","concat","ymd","match","isValidMMDD","mmdd","parseInt","date","Date","getMonth","getDate","dedupeCharsByName","arguments","length","undefined","seen","out","k","add","push","dedupeOptionsByName","opts","o","value","MONTHS","WD","buildMonthMatrix","month","first","firstWd","getDay","daysInMonth","cells","rows","slice","isActiveCard","st","status","AdminPanel","_ref","cards","allCharacters","onSaveCards","createTitle","setCreateTitle","modalOpen","setModalOpen","editingCardId","setEditingCardId","modalTitle","setModalTitle","selectedDate","setSelectedDate","selectedTime","setSelectedTime","selectedTeam1","setSelectedTeam1","selectedTeam2","setSelectedTeam2","noteOpen","setNoteOpen","noteText","setNoteText","noteTitle","setNoteTitle","showCal","setShowCal","calMonth","setCalMonth","calRef","confirmAllOpen","setConfirmAllOpen","blockedActiveNames","forEach","id","pool","Array","isArray","characters","team1","team2","ch","baseOptions","char","_char$class","label","icon","image","sel1Names","sel2Names","effectiveBlocked","delete","optionsTeam1","filtered","filter","opt","optionsTeam2","onDocClick","e","current","contains","target","document","addEventListener","removeEventListener","loadTeamsFromCard","card","fallback","t1raw","t2raw","t1","t1Set","t2","_c$class","_c$class2","openModal","title","time","saveModal","alert","normalizedDate","preTeam2","currentNames","conflicts","join","newCardData","updated","_objectSpread","newCard","now","deleteCard","cardId","window","confirm","openDeleteAllConfirm","closeDeleteAllConfirm","confirmDeleteAll","onTeamChange","teamKey","incoming","handleDateInput","v","replace","includes","sortedCards","dateKey","Number","POSITIVE_INFINITY","day","y","dt","isNaN","minutes","list","da","db","ta","tb","localeCompare","renderOption","style","display","alignItems","gap","children","src","alt","width","height","borderRadius","objectFit","background","marginLeft","MultiValueLabel","props","data","type","onMouseDown","stopPropagation","onClick","preventDefault","border","cursor","lineHeight","padding","margin","selectComponents","maxWidth","fontFamily","color","marginBottom","fontWeight","placeholder","onChange","flex","fontSize","backgroundColor","disabled","opacity","gridTemplateColumns","_card$characters","boxShadow","whiteSpace","overflow","textOverflow","justifyContent","marginTop","flexWrap","_c$class3","_c$class4","isOpen","onRequestClose","contentLabel","content","inset","overlay","zIndex","position","inputMode","onBlur","ref","top","left","w","textAlign","flat","cell","idx","isSelected","isMulti","options","closeMenuOnSelect","getOptionValue","isOptionDisabled","formatOptionLabel","role","sortMode"],"sources":["E:/Visual Studio Code/WhaleCorpProject/frontend/src/components/AdminPanel.jsx"],"sourcesContent":["// frontend/src/components/AdminPanel.jsx\r\nimport React, { useState, useMemo, useEffect, useRef } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport Select, { components as RSComponents } from \"react-select\";\r\nimport MiscellaneumClasses from \"./admin/MiscellaneumClasses\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst SPECIAL_TAIL = new Set([\"Bard\", \"Paladin\", \"Artist\", \"Valkyrie\"]);\r\nconst ACTIVE_STATUSES = new Set([\"upcoming\", \"live\"]);\r\nconst INACTIVE_HINTS = new Set([\"ended\", \"done\", \"finished\", \"archived\", \"past\", \"cancelled\"]);\r\n\r\nconst nameKey = (c) => {\r\n  if (!c) return \"\";\r\n  if (typeof c === \"string\") return c.trim().toLowerCase();\r\n  if (typeof c.name === \"string\") return c.name.trim().toLowerCase();\r\n  return \"\";\r\n};\r\nconst getNote = (obj) => obj?.userNote || obj?.note || obj?.profileNote || \"\";\r\n\r\n// Ordena equipos (soporta roles al final)\r\nconst sortTeam = (arr) => {\r\n  const withIndex = (arr || []).map((c, i) => ({ c, i }));\r\n  withIndex.sort((a, b) => {\r\n    const aIsTail = SPECIAL_TAIL.has(a.c?.class?.name);\r\n    const bIsTail = SPECIAL_TAIL.has(b.c?.class?.name);\r\n    if (aIsTail !== bIsTail) return aIsTail ? 1 : -1;\r\n    return a.i - b.i;\r\n  });\r\n  return withIndex.map((x) => x.c);\r\n};\r\n\r\n// ---------- Fecha (MM-DD) ----------\r\nconst z2 = (n) => String(n).padStart(2, \"0\");\r\nconst mmddRegex = /^(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\r\nconst ymdRegex = /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\r\nconst toMMDD = (s) => {\r\n  if (!s || typeof s !== \"string\") return \"\";\r\n  const t = s.trim();\r\n  if (mmddRegex.test(t)) return t;\r\n  if (/^(0[1-9]|1[0-2])\\/(0[1-9]|[12]\\d|3[01])$/.test(t)) {\r\n    const [m, d] = t.split(\"/\");\r\n    return `${m}-${d}`;\r\n  }\r\n  const ymd = t.match(ymdRegex);\r\n  if (ymd) {\r\n    const [, , m, d] = ymd;\r\n    return `${m}-${d}`;\r\n  }\r\n  return t;\r\n};\r\nconst isValidMMDD = (mmdd) => {\r\n  if (!mmddRegex.test(mmdd)) return false;\r\n  const [m, d] = mmdd.split(\"-\").map((x) => parseInt(x, 10));\r\n  const date = new Date(2001, m - 1, d);\r\n  return date.getMonth() + 1 === m && date.getDate() === d;\r\n};\r\n\r\n// Dedupe\r\nconst dedupeCharsByName = (arr = []) => {\r\n  const seen = new Set();\r\n  const out = [];\r\n  for (const c of arr) {\r\n    const k = nameKey(c);\r\n    if (!k || seen.has(k)) continue;\r\n    seen.add(k);\r\n    out.push(c);\r\n  }\r\n  return out;\r\n};\r\nconst dedupeOptionsByName = (opts = []) => {\r\n  const seen = new Set();\r\n  const out = [];\r\n  for (const o of opts) {\r\n    const k = nameKey(o?.value);\r\n    if (!k || seen.has(k)) continue;\r\n    seen.add(k);\r\n    out.push(o);\r\n  }\r\n  return out;\r\n};\r\n\r\n// Mini calendario\r\nconst MONTHS = [\"Ene\",\"Feb\",\"Mar\",\"Abr\",\"May\",\"Jun\",\"Jul\",\"Ago\",\"Sep\",\"Oct\",\"Nov\",\"Dic\"];\r\nconst WD     = [\"D\",\"L\",\"M\",\"M\",\"J\",\"V\",\"S\"];\r\nfunction buildMonthMatrix(month /*1-12*/) {\r\n  const first = new Date(2001, month - 1, 1);\r\n  const firstWd = first.getDay();\r\n  const daysInMonth = new Date(2001, month, 0).getDate();\r\n  const cells = [];\r\n  for (let i=0;i<firstWd;i++) cells.push(null);\r\n  for (let d=1; d<=daysInMonth; d++) cells.push(d);\r\n  while (cells.length % 7 !== 0) cells.push(null);\r\n  const rows = [];\r\n  for (let i=0;i<cells.length;i+=7) rows.push(cells.slice(i, i+7));\r\n  return rows;\r\n}\r\n\r\n// ¿Tarjeta activa?\r\nconst isActiveCard = (c) => {\r\n  const st = String(c?.status || \"\").toLowerCase();\r\n  if (!st) return true;\r\n  if (INACTIVE_HINTS.has(st)) return false;\r\n  return ACTIVE_STATUSES.has(st);\r\n};\r\n\r\nconst AdminPanel = ({ cards, allCharacters, onSaveCards }) => {\r\n  // Creación rápida\r\n  const [createTitle, setCreateTitle] = useState(\"\");\r\n\r\n  // Modal crear/editar\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [editingCardId, setEditingCardId] = useState(null);\r\n  const [modalTitle, setModalTitle] = useState(\"\");\r\n  const [selectedDate, setSelectedDate] = useState(\"\");\r\n  const [selectedTime, setSelectedTime] = useState(\"\");\r\n  const [selectedTeam1, setSelectedTeam1] = useState([]);\r\n  const [selectedTeam2, setSelectedTeam2] = useState([]);\r\n\r\n  // Modal ver nota 📩\r\n  const [noteOpen, setNoteOpen] = useState(false);\r\n  const [noteText, setNoteText] = useState(\"\");\r\n  const [noteTitle, setNoteTitle] = useState(\"\");\r\n\r\n  // Calendario\r\n  const [showCal, setShowCal] = useState(false);\r\n  const [calMonth, setCalMonth] = useState(() => new Date().getMonth() + 1);\r\n  const calRef = useRef(null);\r\n\r\n  // Confirm “eliminar todas”\r\n  const [confirmAllOpen, setConfirmAllOpen] = useState(false);\r\n\r\n  // Bloqueados globales (tarjetas activas ≠ tarjeta en edición)\r\n  const blockedActiveNames = useMemo(() => {\r\n    const s = new Set();\r\n    (cards || []).forEach((c) => {\r\n      if (!isActiveCard(c)) return;\r\n      if (c?.id === editingCardId) return;\r\n      const pool = Array.isArray(c?.characters)\r\n        ? c.characters\r\n        : [...(c?.team1 || []), ...(c?.team2 || [])];\r\n      pool.forEach((ch) => {\r\n        const k = nameKey(ch);\r\n        if (k) s.add(k);\r\n      });\r\n    });\r\n    return s;\r\n  }, [cards, editingCardId]);\r\n\r\n  // Opciones base con icono (usa class.image)\r\n  const baseOptions = useMemo(\r\n    () =>\r\n      (allCharacters ?? []).map((char) => ({\r\n        value: char,\r\n        label: typeof char?.name === \"string\" ? char.name : String(char || \"\"),\r\n        icon: char?.class?.image || null,\r\n      })),\r\n    [allCharacters]\r\n  );\r\n\r\n  // Selecciones actuales\r\n  const sel1Names = useMemo(() => new Set(selectedTeam1.map((o) => nameKey(o.value))), [selectedTeam1]);\r\n  const sel2Names = useMemo(() => new Set(selectedTeam2.map((o) => nameKey(o.value))), [selectedTeam2]);\r\n\r\n  // Bloqueados efectivos (desbloquea los ya elegidos en este modal)\r\n  const effectiveBlocked = useMemo(() => {\r\n    const s = new Set(blockedActiveNames);\r\n    selectedTeam1.forEach((o) => s.delete(nameKey(o.value)));\r\n    selectedTeam2.forEach((o) => s.delete(nameKey(o.value)));\r\n    return s;\r\n  }, [blockedActiveNames, selectedTeam1, selectedTeam2]);\r\n\r\n  // Opciones visibles por team\r\n  const optionsTeam1 = useMemo(() => {\r\n    const filtered = baseOptions.filter((opt) => {\r\n      const k = nameKey(opt.value);\r\n      if (effectiveBlocked.has(k)) return false;\r\n      return !sel2Names.has(k);\r\n    });\r\n    return dedupeOptionsByName(filtered);\r\n  }, [baseOptions, sel2Names, effectiveBlocked]);\r\n\r\n  const optionsTeam2 = useMemo(() => {\r\n    const filtered = baseOptions.filter((opt) => {\r\n      const k = nameKey(opt.value);\r\n      if (effectiveBlocked.has(k)) return false;\r\n      return !sel1Names.has(k);\r\n    });\r\n    return dedupeOptionsByName(filtered);\r\n  }, [baseOptions, sel1Names, effectiveBlocked]);\r\n\r\n  // Cerrar calendario si clic fuera\r\n  useEffect(() => {\r\n    const onDocClick = (e) => {\r\n      if (!showCal) return;\r\n      if (calRef.current && !calRef.current.contains(e.target)) setShowCal(false);\r\n    };\r\n    document.addEventListener(\"mousedown\", onDocClick);\r\n    return () => document.removeEventListener(\"mousedown\", onDocClick);\r\n  }, [showCal]);\r\n\r\n  // Cargar equipos en modal\r\n  const loadTeamsFromCard = (card) => {\r\n    const fallback = Array.isArray(card?.characters) ? card.characters : [];\r\n    const t1raw = Array.isArray(card?.team1) ? card.team1 : fallback.slice(0, 4);\r\n    const t2raw = Array.isArray(card?.team2) ? card.team2 : fallback.slice(4, 8);\r\n\r\n    const t1 = dedupeCharsByName(sortTeam(t1raw)).slice(0, 4);\r\n    const t1Set = new Set(t1.map(nameKey));\r\n    const t2 = dedupeCharsByName(sortTeam(t2raw).filter((c) => !t1Set.has(nameKey(c)))).slice(0, 4);\r\n\r\n    setSelectedTeam1(\r\n      t1.map((c) => ({\r\n        value: c,\r\n        label: typeof c?.name === \"string\" ? c.name : String(c || \"\"),\r\n        icon: c?.class?.image || null,\r\n      }))\r\n    );\r\n    setSelectedTeam2(\r\n      t2.map((c) => ({\r\n        value: c,\r\n        label: typeof c?.name === \"string\" ? c.name : String(c || \"\"),\r\n        icon: c?.class?.image || null,\r\n      }))\r\n    );\r\n  };\r\n\r\n  const openModal = (card) => {\r\n    setEditingCardId(card?.id || null);\r\n    setModalTitle(card?.title || (createTitle || \"\").trim());\r\n    const mmdd = toMMDD(card?.date || \"\");\r\n    setSelectedDate(mmdd);\r\n    setSelectedTime(card?.time || \"\");\r\n    setCalMonth(mmddRegex.test(mmdd) ? parseInt(mmdd.split(\"-\")[0], 10) : new Date().getMonth() + 1);\r\n    loadTeamsFromCard(card);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  // Guardar\r\n  const saveModal = () => {\r\n    const title = (modalTitle || createTitle || \"\").trim();\r\n    if (!title) return alert(\"Debe ingresar un título para la tarjeta\");\r\n\r\n    const normalizedDate = toMMDD(selectedDate);\r\n    if (normalizedDate && !isValidMMDD(normalizedDate)) {\r\n      return alert(\"La fecha debe estar en formato MM-DD y ser válida. Ej: 08-17\");\r\n    }\r\n\r\n    const team1 = dedupeCharsByName(sortTeam(selectedTeam1.map((o) => o.value))).slice(0, 4);\r\n    const preTeam2 = dedupeCharsByName(sortTeam(selectedTeam2.map((o) => o.value))).slice(0, 4);\r\n    const t1Set = new Set(team1.map(nameKey));\r\n    const team2 = preTeam2.filter((c) => !t1Set.has(nameKey(c))).slice(0, 4);\r\n\r\n    const currentNames = new Set([...team1, ...team2].map(nameKey));\r\n    const conflicts = [];\r\n    currentNames.forEach((k) => {\r\n      if (blockedActiveNames.has(k)) conflicts.push(k);\r\n    });\r\n    if (conflicts.length) {\r\n      return alert(\r\n        `No puedes usar personajes que ya están en tarjetas ACTIVAS (upcoming/live).\\nBloqueados: ${[\r\n          ...new Set(conflicts),\r\n        ].join(\", \")}`\r\n      );\r\n    }\r\n\r\n    const characters = dedupeCharsByName([...team1, ...team2]);\r\n    const newCardData = {\r\n      title,\r\n      date: normalizedDate,\r\n      time: selectedTime,\r\n      team1,\r\n      team2,\r\n      characters,\r\n      status: \"upcoming\", // nueva tarjeta = activa\r\n    };\r\n\r\n    if (editingCardId) {\r\n      const updated = (cards || []).map((c) => (c.id === editingCardId ? { ...c, ...newCardData } : c));\r\n      onSaveCards(updated);\r\n    } else {\r\n      const newCard = { id: Date.now(), ...newCardData };\r\n      onSaveCards([...(cards || []), newCard]);\r\n      setCreateTitle(\"\");\r\n    }\r\n\r\n    setModalOpen(false);\r\n    setShowCal(false);\r\n  };\r\n\r\n  const deleteCard = (cardId) => {\r\n    if (window.confirm(\"¿Seguro que quieres eliminar esta tarjeta?\")) {\r\n      onSaveCards((cards || []).filter((c) => c.id !== cardId));\r\n    }\r\n  };\r\n\r\n  // Eliminar todas (confirm)\r\n  const openDeleteAllConfirm  = () => setConfirmAllOpen(true);\r\n  const closeDeleteAllConfirm = () => setConfirmAllOpen(false);\r\n  const confirmDeleteAll      = () => { onSaveCards([]); setConfirmAllOpen(false); };\r\n\r\n  // Handlers selects\r\n  const onTeamChange = (teamKey, value) => {\r\n    const incoming = dedupeOptionsByName((value || []).slice(0, 4));\r\n    if (teamKey === \"team1\") {\r\n      const filtered = incoming.filter((o) => {\r\n        const k = nameKey(o.value);\r\n        return !effectiveBlocked.has(k) && !sel2Names.has(k);\r\n      });\r\n      setSelectedTeam1(dedupeOptionsByName(filtered));\r\n    } else {\r\n      const filtered = incoming.filter((o) => {\r\n        const k = nameKey(o.value);\r\n        return !effectiveBlocked.has(k) && !sel1Names.has(k);\r\n      });\r\n      setSelectedTeam2(dedupeOptionsByName(filtered));\r\n    }\r\n  };\r\n\r\n  const handleDateInput = (e) => {\r\n    let v = e.target.value.replace(/[^\\d\\-\\/]/g, \"\").replace(/\\//g, \"-\");\r\n    if (v.length > 5) v = v.slice(0, 5);\r\n    if (/^\\d{3,4}$/.test(v) && !v.includes(\"-\")) v = `${v.slice(0, 2)}-${v.slice(2)}`;\r\n    setSelectedDate(v);\r\n    if (/^\\d{2}-?$/.test(v)) {\r\n      const m = parseInt(v.slice(0, 2), 10);\r\n      if (m >= 1 && m <= 12) setCalMonth(m);\r\n    }\r\n  };\r\n\r\n  // Orden de tarjetas\r\n  const sortedCards = useMemo(() => {\r\n    const dateKey = (d) => {\r\n      if (!d) return Number.POSITIVE_INFINITY;\r\n      const s = String(d).trim();\r\n      if (mmddRegex.test(s)) {\r\n        const [m, day] = s.split(\"-\");\r\n        return parseInt(`${m}${day}`, 10);\r\n      }\r\n      const y = s.match(ymdRegex);\r\n      if (y) {\r\n        const [, , m, day] = y;\r\n        return parseInt(`${m}${day}`, 10);\r\n      }\r\n      const dt = new Date(s);\r\n      if (!isNaN(dt)) return parseInt(`${z2(dt.getMonth()+1)}${z2(dt.getDate())}`, 10);\r\n      return Number.POSITIVE_INFINITY;\r\n    };\r\n    const minutes = (t) => {\r\n      if (!t) return Number.POSITIVE_INFINITY;\r\n      const m = t.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);\r\n      if (m) return parseInt(m[1],10)*60 + parseInt(m[2],10);\r\n      return Number.POSITIVE_INFINITY;\r\n    };\r\n    const list = Array.isArray(cards) ? [...cards] : [];\r\n    return list.sort((a,b)=>{\r\n      const da = dateKey(a?.date), db = dateKey(b?.date);\r\n      if (da!==db) return da-db;\r\n      const ta = minutes(a?.time), tb = minutes(b?.time);\r\n      if (ta!==tb) return ta-tb;\r\n      return String(a?.title||\"\").localeCompare(String(b?.title||\"\"));\r\n    });\r\n  }, [cards]);\r\n\r\n  // Render etiqueta para opciones (menú) — con icono e indicador 📩 (tooltip)\r\n  const renderOption = (opt) => {\r\n    const note = getNote(opt.value);\r\n    return (\r\n      <div style={{ display: \"flex\", alignItems: \"center\", gap: 8 }} title={note || undefined}>\r\n        {opt.icon ? (\r\n          <img src={opt.icon} alt=\"\" style={{ width: 20, height: 20, borderRadius: 4, objectFit: \"cover\" }} />\r\n        ) : (\r\n          <div style={{ width: 20, height: 20, borderRadius: 4, background: \"#e5e7eb\" }} />\r\n        )}\r\n        <span>{opt.label}</span>\r\n        {note ? <span style={{ marginLeft: 4 }}>📩</span> : null}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Personalizamos MultiValueLabel para que el 📩 sea clickeable en las \"chips\" seleccionadas\r\n  const MultiValueLabel = (props) => {\r\n    const { data } = props; // option\r\n    const note = getNote(data?.value);\r\n    const icon = data?.icon;\r\n    const label = data?.label;\r\n\r\n    return (\r\n      <RSComponents.MultiValueLabel {...props}>\r\n        <span style={{ display: \"inline-flex\", alignItems: \"center\", gap: 6 }}>\r\n          {icon ? (\r\n            <img src={icon} alt=\"\" style={{ width: 16, height: 16, borderRadius: 4, objectFit: \"cover\" }} />\r\n          ) : null}\r\n          <span>{label}</span>\r\n          {note ? (\r\n            <button\r\n              type=\"button\"\r\n              title=\"Ver mensaje\"\r\n              onMouseDown={(e) => e.stopPropagation()}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                setNoteTitle(label);\r\n                setNoteText(note);\r\n                setNoteOpen(true);\r\n              }}\r\n              style={{\r\n                border: \"none\",\r\n                background: \"transparent\",\r\n                cursor: \"pointer\",\r\n                lineHeight: 1,\r\n                padding: 0,\r\n                margin: 0,\r\n              }}\r\n            >\r\n              📩\r\n            </button>\r\n          ) : null}\r\n        </span>\r\n      </RSComponents.MultiValueLabel>\r\n    );\r\n  };\r\n\r\n  const selectComponents = { MultiValueLabel };\r\n\r\n  return (\r\n    <div style={{ padding: 20, maxWidth: 1100, margin: \"0 auto\", fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\", color: \"#34495e\" }}>\r\n      <h1 style={{ marginBottom: 20, color: \"#1e88e5\", fontWeight: 700 }}>Panel de Administración</h1>\r\n\r\n      {/* Header creación */}\r\n      <div style={{ marginBottom: 20, display: \"flex\", gap: 10 }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Título para nueva tarjeta\"\r\n          value={createTitle}\r\n          onChange={(e) => setCreateTitle(e.target.value)}\r\n          style={{ flex: 1, padding: 10, borderRadius: 8, border: \"1px solid #ccc\", fontSize: \"1rem\" }}\r\n        />\r\n        <button\r\n          onClick={() => openModal(null)}\r\n          style={{ padding: \"10px 20px\", cursor: \"pointer\", backgroundColor: \"#1e88e5\", color: \"white\", border: \"none\", borderRadius: 8, fontWeight: 600 }}\r\n        >\r\n          Crear Tarjeta\r\n        </button>\r\n\r\n        {/* Eliminar todas */}\r\n        <button\r\n          onClick={openDeleteAllConfirm}\r\n          disabled={!cards || cards.length === 0}\r\n          title=\"Eliminar todas las tarjetas\"\r\n          style={{\r\n            padding: \"10px 16px\",\r\n            cursor: !cards || cards.length === 0 ? \"not-allowed\" : \"pointer\",\r\n            backgroundColor: !cards || cards.length === 0 ? \"#ef9a9a\" : \"#d32f2f\",\r\n            color: \"white\",\r\n            border: \"none\",\r\n            borderRadius: 8,\r\n            fontWeight: 700,\r\n            fontSize: \"0.95rem\",\r\n            opacity: !cards || cards.length === 0 ? 0.7 : 1,\r\n          }}\r\n        >\r\n          Eliminar todas\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tarjetas */}\r\n      <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, 1fr)\", gap: 24 }}>\r\n        {(!sortedCards || sortedCards.length === 0) ? (\r\n          <p>No hay tarjetas creadas</p>\r\n        ) : (\r\n          sortedCards.map((card) => (\r\n            <div key={card.id} style={{ borderRadius: 12, boxShadow: \"0 12px 20px rgba(0,0,0,0.08)\", backgroundColor: \"#f0f5ff\", padding: 12 }}>\r\n              <div>\r\n                <h3 title={card.title} style={{ color: \"#1e88e5\", fontWeight: 700, marginBottom: 6, whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\" }}>\r\n                  {card.title}\r\n                </h3>\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", fontSize: \"0.9rem\", color: \"#607d8b\", fontWeight: 600 }}>\r\n                  <span>{toMMDD(card.date) || \"No asignada\"}</span>\r\n                  <span>{card.time || \"No asignada\"}</span>\r\n                </div>\r\n\r\n                <div style={{ marginTop: 10 }}>\r\n                  <strong style={{ color: \"#0d47a1\" }}>Personajes:</strong>\r\n                  <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 6, marginTop: 6 }}>\r\n                    {(card.characters ?? []).map((c, i) => {\r\n                      const note = getNote(c);\r\n                      const label = typeof c?.name === \"string\" ? c.name : String(c);\r\n                      return (\r\n                        <span key={i} style={{ display: \"inline-flex\", alignItems: \"center\", gap: 6, backgroundColor: \"#bbdefb\", padding: \"5px 10px\", borderRadius: 20, fontSize: \"0.9em\", fontWeight: 600, color: \"#0d47a1\" }} title={note || undefined}>\r\n                          {c?.class?.image && <img src={c.class.image} alt={c.class?.name || \"Clase\"} style={{ width: 18, height: 18, borderRadius: \"50%\" }} />}\r\n                          {label}\r\n                          {note ? (\r\n                            <button\r\n                              type=\"button\"\r\n                              title=\"Leer mensaje\"\r\n                              onClick={() => { setNoteTitle(label); setNoteText(note); setNoteOpen(true); }}\r\n                              style={{ border: \"none\", background: \"transparent\", cursor: \"pointer\", padding: 0, margin: 0, lineHeight: 1 }}\r\n                            >\r\n                              📩\r\n                            </button>\r\n                          ) : null}\r\n                        </span>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ marginTop: 14, display: \"flex\", gap: 8 }}>\r\n                <button onClick={() => openModal(card)} style={{ flex: 1, padding: \"8px 0\", borderRadius: 8, border: \"none\", backgroundColor: \"#1976d2\", color: \"white\", fontWeight: 600 }}>\r\n                  Editar Tarjeta\r\n                </button>\r\n                <button onClick={() => deleteCard(card.id)} style={{ flex: 1, padding: \"8px 0\", borderRadius: 8, border: \"none\", backgroundColor: \"#d32f2f\", color: \"white\", fontWeight: 600 }}>\r\n                  Eliminar Tarjeta\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* MODAL: crear/editar — auto height y alineado arriba */}\r\n      <Modal\r\n        isOpen={modalOpen}\r\n        onRequestClose={() => { setModalOpen(false); setShowCal(false); }}\r\n        contentLabel=\"Configurar Tarjeta\"\r\n        style={{\r\n          content: {\r\n            maxWidth: \"720px\",\r\n            margin: \"auto\",\r\n            padding: 20,\r\n            borderRadius: 12,\r\n            height: \"auto\",\r\n            inset: \"40px auto auto\",\r\n          },\r\n          overlay: {\r\n            display: \"flex\",\r\n            alignItems: \"flex-start\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: \"rgba(0,0,0,0.45)\",\r\n            zIndex: 1000,\r\n          },\r\n        }}\r\n      >\r\n        <h2 style={{ marginBottom: 16 }}>{editingCardId ? \"Editar Tarjeta\" : \"Nueva Tarjeta\"}</h2>\r\n\r\n        {/* Título */}\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Título para la tarjeta\"\r\n          value={modalTitle}\r\n          onChange={(e) => setModalTitle(e.target.value)}\r\n          style={{ width: \"100%\", padding: 12, marginBottom: 16, borderRadius: 8, border: \"1px solid #ccc\" }}\r\n        />\r\n\r\n        {/* Fecha / Hora */}\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 12, marginBottom: 16 }}>\r\n          <div style={{ position: \"relative\" }}>\r\n            <label style={{ display: \"block\" }}>\r\n              Fecha (MM-DD):\r\n              <div style={{ display: \"flex\", gap: 8, marginTop: 6 }}>\r\n                <input\r\n                  type=\"text\"\r\n                  inputMode=\"numeric\"\r\n                  placeholder=\"MM-DD\"\r\n                  value={selectedDate}\r\n                  onChange={handleDateInput}\r\n                  onBlur={() => setSelectedDate(toMMDD(selectedDate))}\r\n                  style={{ width: \"100%\", padding: 10, borderRadius: 8, border: \"1px solid #ccc\" }}\r\n                />\r\n                <button type=\"button\" onClick={() => setShowCal((s) => !s)} style={{ padding: \"0 12px\", borderRadius: 8, border: \"1px solid #ccc\", background: \"#f8fafc\", cursor: \"pointer\", fontWeight: 600 }}>\r\n                  📅\r\n                </button>\r\n              </div>\r\n            </label>\r\n\r\n            {showCal && (\r\n              <div ref={calRef} style={{ position: \"absolute\", top: 64, left: 0, background: \"white\", border: \"1px solid #e2e8f0\", borderRadius: 10, boxShadow: \"0 10px 20px rgba(0,0,0,0.12)\", padding: 10, width: 280, zIndex: 10 }}>\r\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", marginBottom: 8 }}>\r\n                  <button onClick={() => setCalMonth((m) => (m === 1 ? 12 : m - 1))} style={{ border: \"none\", background: \"transparent\", cursor: \"pointer\", fontSize: 18 }}>◀</button>\r\n                  <div style={{ fontWeight: 700 }}>{MONTHS[calMonth - 1]}</div>\r\n                  <button onClick={() => setCalMonth((m) => (m === 12 ? 1 : m + 1))} style={{ border: \"none\", background: \"transparent\", cursor: \"pointer\", fontSize: 18 }}>▶</button>\r\n                </div>\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(7, 1fr)\", gap: 4, marginBottom: 6 }}>\r\n                  {WD.map((w) => <div key={w} style={{ textAlign: \"center\", fontSize: 12, color: \"#64748b\" }}>{w}</div>)}\r\n                </div>\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(7, 1fr)\", gap: 4 }}>\r\n                  {buildMonthMatrix(calMonth).flat().map((cell, idx) => {\r\n                    if (cell === null) return <div key={idx} style={{ height: 32 }} />;\r\n                    const mmdd = `${z2(calMonth)}-${z2(cell)}`;\r\n                    const isSelected = selectedDate === mmdd;\r\n                    return (\r\n                      <button key={idx} onClick={() => { setSelectedDate(mmdd); setShowCal(false); }} style={{ height: 32, borderRadius: 6, border: \"1px solid #e2e8f0\", background: isSelected ? \"#1e88e5\" : \"white\", color: isSelected ? \"white\" : \"#0f172a\", cursor: \"pointer\", fontWeight: 600 }}>\r\n                        {cell}\r\n                      </button>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <label style={{ display: \"block\" }}>\r\n            Hora:\r\n            <input\r\n              type=\"time\"\r\n              value={selectedTime}\r\n              onChange={(e) => setSelectedTime(e.target.value)}\r\n              style={{ width: \"100%\", padding: 10, marginTop: 6, borderRadius: 8, border: \"1px solid #ccc\" }}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        {/* Equipos */}\r\n        <div style={{ fontWeight: 600, marginBottom: 8 }}>Selecciona personajes por equipo (máx 4 por equipo):</div>\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 16 }}>\r\n          {/* Team 1 */}\r\n          <div>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 6 }}>\r\n              <span style={{ fontWeight: 700 }}>Party 1</span>\r\n              <span style={{ fontSize: 12, color: \"#64748b\" }}>{selectedTeam1.length}/4</span>\r\n            </div>\r\n            <Select\r\n              isMulti\r\n              options={optionsTeam1}\r\n              value={selectedTeam1}\r\n              onChange={(v) => onTeamChange(\"team1\", v)}\r\n              placeholder=\"Buscar personajes...\"\r\n              closeMenuOnSelect={false}\r\n              getOptionValue={(opt) => nameKey(opt.value)}\r\n              isOptionDisabled={(opt) => {\r\n                const k = nameKey(opt.value);\r\n                return effectiveBlocked.has(k) || sel1Names.has(k) || sel2Names.has(k);\r\n              }}\r\n              formatOptionLabel={renderOption}\r\n              components={selectComponents}\r\n            />\r\n          </div>\r\n\r\n          {/* Team 2 */}\r\n          <div>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 6 }}>\r\n              <span style={{ fontWeight: 700 }}>Party 2</span>\r\n              <span style={{ fontSize: 12, color: \"#64748b\" }}>{selectedTeam2.length}/4</span>\r\n            </div>\r\n            <Select\r\n              isMulti\r\n              options={optionsTeam2}\r\n              value={selectedTeam2}\r\n              onChange={(v) => onTeamChange(\"team2\", v)}\r\n              placeholder=\"Buscar personajes...\"\r\n              closeMenuOnSelect={false}\r\n              getOptionValue={(opt) => nameKey(opt.value)}\r\n              isOptionDisabled={(opt) => {\r\n                const k = nameKey(opt.value);\r\n                return effectiveBlocked.has(k) || sel1Names.has(k) || sel2Names.has(k);\r\n              }}\r\n              formatOptionLabel={renderOption}\r\n              components={selectComponents}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div style={{ marginTop: 20, display: \"flex\", justifyContent: \"flex-end\", gap: 12 }}>\r\n          <button onClick={() => { setModalOpen(false); setShowCal(false); }} style={{ padding: \"10px 20px\", borderRadius: 8, border: \"1px solid #ccc\", backgroundColor: \"white\", cursor: \"pointer\", fontWeight: 600 }}>\r\n            Cancelar\r\n          </button>\r\n          <button onClick={saveModal} style={{ padding: \"10px 20px\", borderRadius: 8, border: \"none\", backgroundColor: \"#1e88e5\", color: \"white\", cursor: \"pointer\", fontWeight: 600 }}>\r\n            Guardar\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n\r\n      {/* MODAL: confirmar “eliminar todas” — auto height y arriba */}\r\n      <Modal\r\n        isOpen={confirmAllOpen}\r\n        onRequestClose={closeDeleteAllConfirm}\r\n        contentLabel=\"Confirmar eliminación masiva\"\r\n        style={{\r\n          content: {\r\n            maxWidth: \"520px\",\r\n            margin: \"auto\",\r\n            padding: 22,\r\n            borderRadius: 12,\r\n            height: \"auto\",\r\n            inset: \"40px auto auto\",\r\n          },\r\n          overlay: {\r\n            display: \"flex\",\r\n            alignItems: \"flex-start\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: \"rgba(0,0,0,0.45)\",\r\n            zIndex: 1000,\r\n          },\r\n        }}\r\n      >\r\n        <h2 style={{ marginTop: 0, marginBottom: 10, color: \"#d32f2f\" }}>Eliminar todas las tarjetas</h2>\r\n        <p style={{ margin: 0 }}>\r\n          Vas a eliminar <strong>{cards?.length || 0}</strong> tarjeta(s). Esta acción <strong>no se puede deshacer</strong>.\r\n        </p>\r\n        <p style={{ marginTop: 8, color: \"#6b7280\", fontSize: 14 }}>\r\n          ¿Deseas continuar?\r\n        </p>\r\n\r\n        <div style={{ marginTop: 18, display: \"flex\", justifyContent: \"flex-end\", gap: 10 }}>\r\n          <button\r\n            onClick={closeDeleteAllConfirm}\r\n            style={{ padding: \"10px 16px\", borderRadius: 8, border: \"1px solid #d1d5db\", backgroundColor: \"white\", cursor: \"pointer\", fontWeight: 600 }}\r\n          >\r\n            Cancelar\r\n          </button>\r\n          <button\r\n            onClick={confirmDeleteAll}\r\n            style={{ padding: \"10px 16px\", borderRadius: 8, border: \"none\", backgroundColor: \"#d32f2f\", color: \"white\", cursor: \"pointer\", fontWeight: 700 }}\r\n          >\r\n            Sí, eliminar todo\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n\r\n      {/* MODAL: ver nota 📩 — auto height y arriba */}\r\n      <Modal\r\n        isOpen={noteOpen}\r\n        onRequestClose={() => setNoteOpen(false)}\r\n        contentLabel=\"Mensaje del jugador\"\r\n        style={{\r\n          content: {\r\n            maxWidth: \"640px\",\r\n            margin: \"auto\",\r\n            padding: 20,\r\n            borderRadius: 12,\r\n            height: \"auto\",\r\n            inset: \"60px auto auto\",\r\n          },\r\n          overlay: {\r\n            display: \"flex\",\r\n            alignItems: \"flex-start\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: \"rgba(0,0,0,0.45)\",\r\n            zIndex: 1100,\r\n          },\r\n        }}\r\n      >\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 10, marginBottom: 8 }}>\r\n          <span style={{ fontSize: 22 }} role=\"img\" aria-label=\"mensaje\">📩</span>\r\n          <h3 style={{ margin: 0 }}>Mensaje de {noteTitle}</h3>\r\n        </div>\r\n        <div\r\n          style={{\r\n            whiteSpace: \"pre-wrap\",\r\n            lineHeight: 1.5,\r\n            color: \"#0f172a\",\r\n            background: \"#f8fafc\",\r\n            border: \"1px solid #e2e8f0\",\r\n            borderRadius: 8,\r\n            padding: 12,\r\n            fontSize: 14,\r\n          }}\r\n        >\r\n          {noteText || \"Sin contenido\"}\r\n        </div>\r\n\r\n        <div style={{ display: \"flex\", justifyContent: \"flex-end\", marginTop: 16 }}>\r\n          <button\r\n            onClick={() => setNoteOpen(false)}\r\n            style={{ padding: \"8px 14px\", borderRadius: 8, border: \"1px solid #d1d5db\", background: \"white\", cursor: \"pointer\", fontWeight: 600 }}\r\n          >\r\n            Cerrar\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n\r\n      <MiscellaneumClasses title=\"Clases\" sortMode=\"asIs\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}