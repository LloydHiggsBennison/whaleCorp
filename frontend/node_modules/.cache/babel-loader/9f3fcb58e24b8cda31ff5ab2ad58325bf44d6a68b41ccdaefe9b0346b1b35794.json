{"ast":null,"code":"var _jsxFileName = \"E:\\\\Visual Studio Code\\\\WhaleCorpProject\\\\frontend\\\\src\\\\components\\\\AdminPanel.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/components/AdminPanel.jsx\nimport React, { useState, useMemo, useEffect, useRef } from \"react\";\nimport Modal from \"react-modal\";\nimport Select, { components as RSComponents } from \"react-select\";\nimport MiscellaneumClasses from \"./admin/MiscellaneumClasses\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nModal.setAppElement(\"#root\");\nconst SPECIAL_TAIL = new Set([\"Bard\", \"Paladin\", \"Artist\", \"Valkyrie\"]);\nconst ACTIVE_STATUSES = new Set([\"upcoming\", \"live\"]);\nconst INACTIVE_HINTS = new Set([\"ended\", \"done\", \"finished\", \"archived\", \"past\", \"cancelled\"]);\nconst nameKey = c => {\n  if (!c) return \"\";\n  if (typeof c === \"string\") return c.trim().toLowerCase();\n  if (typeof c.name === \"string\") return c.name.trim().toLowerCase();\n  return \"\";\n};\nconst getNote = obj => (obj === null || obj === void 0 ? void 0 : obj.userNote) || (obj === null || obj === void 0 ? void 0 : obj.note) || (obj === null || obj === void 0 ? void 0 : obj.profileNote) || \"\";\n\n// Ordena equipos (soporta roles al final)\nconst sortTeam = arr => {\n  const withIndex = (arr || []).map((c, i) => ({\n    c,\n    i\n  }));\n  withIndex.sort((a, b) => {\n    var _a$c, _a$c$class, _b$c, _b$c$class;\n    const aIsTail = SPECIAL_TAIL.has((_a$c = a.c) === null || _a$c === void 0 ? void 0 : (_a$c$class = _a$c.class) === null || _a$c$class === void 0 ? void 0 : _a$c$class.name);\n    const bIsTail = SPECIAL_TAIL.has((_b$c = b.c) === null || _b$c === void 0 ? void 0 : (_b$c$class = _b$c.class) === null || _b$c$class === void 0 ? void 0 : _b$c$class.name);\n    if (aIsTail !== bIsTail) return aIsTail ? 1 : -1;\n    return a.i - b.i;\n  });\n  return withIndex.map(x => x.c);\n};\n\n// ---------- Fecha (MM-DD) ----------\nconst z2 = n => String(n).padStart(2, \"0\");\nconst mmddRegex = /^(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\nconst ymdRegex = /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\nconst toMMDD = s => {\n  if (!s || typeof s !== \"string\") return \"\";\n  const t = s.trim();\n  if (mmddRegex.test(t)) return t;\n  if (/^(0[1-9]|1[0-2])\\/(0[1-9]|[12]\\d|3[01])$/.test(t)) {\n    const [m, d] = t.split(\"/\");\n    return `${m}-${d}`;\n  }\n  const ymd = t.match(ymdRegex);\n  if (ymd) {\n    const [,, m, d] = ymd;\n    return `${m}-${d}`;\n  }\n  return t;\n};\nconst isValidMMDD = mmdd => {\n  if (!mmddRegex.test(mmdd)) return false;\n  const [m, d] = mmdd.split(\"-\").map(x => parseInt(x, 10));\n  const date = new Date(2001, m - 1, d);\n  return date.getMonth() + 1 === m && date.getDate() === d;\n};\n\n// Dedupe\nconst dedupeCharsByName = (arr = []) => {\n  const seen = new Set();\n  const out = [];\n  for (const c of arr) {\n    const k = nameKey(c);\n    if (!k || seen.has(k)) continue;\n    seen.add(k);\n    out.push(c);\n  }\n  return out;\n};\nconst dedupeOptionsByName = (opts = []) => {\n  const seen = new Set();\n  const out = [];\n  for (const o of opts) {\n    const k = nameKey(o === null || o === void 0 ? void 0 : o.value);\n    if (!k || seen.has(k)) continue;\n    seen.add(k);\n    out.push(o);\n  }\n  return out;\n};\n\n// Mini calendario\nconst MONTHS = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nconst WD = [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"];\nfunction buildMonthMatrix(month /*1-12*/) {\n  const first = new Date(2001, month - 1, 1);\n  const firstWd = first.getDay();\n  const daysInMonth = new Date(2001, month, 0).getDate();\n  const cells = [];\n  for (let i = 0; i < firstWd; i++) cells.push(null);\n  for (let d = 1; d <= daysInMonth; d++) cells.push(d);\n  while (cells.length % 7 !== 0) cells.push(null);\n  const rows = [];\n  for (let i = 0; i < cells.length; i += 7) rows.push(cells.slice(i, i + 7));\n  return rows;\n}\n\n// ¿Tarjeta activa?\nconst isActiveCard = c => {\n  const st = String((c === null || c === void 0 ? void 0 : c.status) || \"\").toLowerCase();\n  if (!st) return true;\n  if (INACTIVE_HINTS.has(st)) return false;\n  return ACTIVE_STATUSES.has(st);\n};\nconst AdminPanel = ({\n  cards,\n  allCharacters,\n  onSaveCards\n}) => {\n  _s();\n  // Creación rápida\n  const [createTitle, setCreateTitle] = useState(\"\");\n\n  // Modal crear/editar\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editingCardId, setEditingCardId] = useState(null);\n  const [modalTitle, setModalTitle] = useState(\"\");\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const [selectedTime, setSelectedTime] = useState(\"\");\n  const [selectedTeam1, setSelectedTeam1] = useState([]);\n  const [selectedTeam2, setSelectedTeam2] = useState([]);\n\n  // Modal ver nota 📩\n  const [noteOpen, setNoteOpen] = useState(false);\n  const [noteText, setNoteText] = useState(\"\");\n  const [noteTitle, setNoteTitle] = useState(\"\");\n\n  // Calendario\n  const [showCal, setShowCal] = useState(false);\n  const [calMonth, setCalMonth] = useState(() => new Date().getMonth() + 1);\n  const calRef = useRef(null);\n\n  // Confirm “eliminar todas”\n  const [confirmAllOpen, setConfirmAllOpen] = useState(false);\n\n  // Bloqueados globales (tarjetas activas ≠ tarjeta en edición)\n  const blockedActiveNames = useMemo(() => {\n    const s = new Set();\n    (cards || []).forEach(c => {\n      if (!isActiveCard(c)) return;\n      if ((c === null || c === void 0 ? void 0 : c.id) === editingCardId) return;\n      const pool = Array.isArray(c === null || c === void 0 ? void 0 : c.characters) ? c.characters : [...((c === null || c === void 0 ? void 0 : c.team1) || []), ...((c === null || c === void 0 ? void 0 : c.team2) || [])];\n      pool.forEach(ch => {\n        const k = nameKey(ch);\n        if (k) s.add(k);\n      });\n    });\n    return s;\n  }, [cards, editingCardId]);\n\n  // Opciones base con icono (usa class.image)\n  const baseOptions = useMemo(() => (allCharacters !== null && allCharacters !== void 0 ? allCharacters : []).map(char => {\n    var _char$class;\n    return {\n      value: char,\n      label: typeof (char === null || char === void 0 ? void 0 : char.name) === \"string\" ? char.name : String(char || \"\"),\n      icon: (char === null || char === void 0 ? void 0 : (_char$class = char.class) === null || _char$class === void 0 ? void 0 : _char$class.image) || null\n    };\n  }), [allCharacters]);\n\n  // Selecciones actuales\n  const sel1Names = useMemo(() => new Set(selectedTeam1.map(o => nameKey(o.value))), [selectedTeam1]);\n  const sel2Names = useMemo(() => new Set(selectedTeam2.map(o => nameKey(o.value))), [selectedTeam2]);\n\n  // Bloqueados efectivos (desbloquea los ya elegidos en este modal)\n  const effectiveBlocked = useMemo(() => {\n    const s = new Set(blockedActiveNames);\n    selectedTeam1.forEach(o => s.delete(nameKey(o.value)));\n    selectedTeam2.forEach(o => s.delete(nameKey(o.value)));\n    return s;\n  }, [blockedActiveNames, selectedTeam1, selectedTeam2]);\n\n  // Opciones visibles por team\n  const optionsTeam1 = useMemo(() => {\n    const filtered = baseOptions.filter(opt => {\n      const k = nameKey(opt.value);\n      if (effectiveBlocked.has(k)) return false;\n      return !sel2Names.has(k);\n    });\n    return dedupeOptionsByName(filtered);\n  }, [baseOptions, sel2Names, effectiveBlocked]);\n  const optionsTeam2 = useMemo(() => {\n    const filtered = baseOptions.filter(opt => {\n      const k = nameKey(opt.value);\n      if (effectiveBlocked.has(k)) return false;\n      return !sel1Names.has(k);\n    });\n    return dedupeOptionsByName(filtered);\n  }, [baseOptions, sel1Names, effectiveBlocked]);\n\n  // Cerrar calendario si clic fuera\n  useEffect(() => {\n    const onDocClick = e => {\n      if (!showCal) return;\n      if (calRef.current && !calRef.current.contains(e.target)) setShowCal(false);\n    };\n    document.addEventListener(\"mousedown\", onDocClick);\n    return () => document.removeEventListener(\"mousedown\", onDocClick);\n  }, [showCal]);\n\n  // Cargar equipos en modal\n  const loadTeamsFromCard = card => {\n    const fallback = Array.isArray(card === null || card === void 0 ? void 0 : card.characters) ? card.characters : [];\n    const t1raw = Array.isArray(card === null || card === void 0 ? void 0 : card.team1) ? card.team1 : fallback.slice(0, 4);\n    const t2raw = Array.isArray(card === null || card === void 0 ? void 0 : card.team2) ? card.team2 : fallback.slice(4, 8);\n    const t1 = dedupeCharsByName(sortTeam(t1raw)).slice(0, 4);\n    const t1Set = new Set(t1.map(nameKey));\n    const t2 = dedupeCharsByName(sortTeam(t2raw).filter(c => !t1Set.has(nameKey(c)))).slice(0, 4);\n    setSelectedTeam1(t1.map(c => {\n      var _c$class;\n      return {\n        value: c,\n        label: typeof (c === null || c === void 0 ? void 0 : c.name) === \"string\" ? c.name : String(c || \"\"),\n        icon: (c === null || c === void 0 ? void 0 : (_c$class = c.class) === null || _c$class === void 0 ? void 0 : _c$class.image) || null\n      };\n    }));\n    setSelectedTeam2(t2.map(c => {\n      var _c$class2;\n      return {\n        value: c,\n        label: typeof (c === null || c === void 0 ? void 0 : c.name) === \"string\" ? c.name : String(c || \"\"),\n        icon: (c === null || c === void 0 ? void 0 : (_c$class2 = c.class) === null || _c$class2 === void 0 ? void 0 : _c$class2.image) || null\n      };\n    }));\n  };\n  const openModal = card => {\n    setEditingCardId((card === null || card === void 0 ? void 0 : card.id) || null);\n    setModalTitle((card === null || card === void 0 ? void 0 : card.title) || (createTitle || \"\").trim());\n    const mmdd = toMMDD((card === null || card === void 0 ? void 0 : card.date) || \"\");\n    setSelectedDate(mmdd);\n    setSelectedTime((card === null || card === void 0 ? void 0 : card.time) || \"\");\n    setCalMonth(mmddRegex.test(mmdd) ? parseInt(mmdd.split(\"-\")[0], 10) : new Date().getMonth() + 1);\n    loadTeamsFromCard(card);\n    setModalOpen(true);\n  };\n\n  // Guardar\n  const saveModal = () => {\n    const title = (modalTitle || createTitle || \"\").trim();\n    if (!title) return alert(\"Have to insert a title for the card\");\n    const normalizedDate = toMMDD(selectedDate);\n    if (normalizedDate && !isValidMMDD(normalizedDate)) {\n      return alert(\"The date must be in MM-DD format and valid. E.g.: 08-17\");\n    }\n    const team1 = dedupeCharsByName(sortTeam(selectedTeam1.map(o => o.value))).slice(0, 4);\n    const preTeam2 = dedupeCharsByName(sortTeam(selectedTeam2.map(o => o.value))).slice(0, 4);\n    const t1Set = new Set(team1.map(nameKey));\n    const team2 = preTeam2.filter(c => !t1Set.has(nameKey(c))).slice(0, 4);\n    const currentNames = new Set([...team1, ...team2].map(nameKey));\n    const conflicts = [];\n    currentNames.forEach(k => {\n      if (blockedActiveNames.has(k)) conflicts.push(k);\n    });\n    if (conflicts.length) {\n      return alert(`You cannot use characters that are already in ACTIVE (upcoming/live) cards.\\nBlocked: ${[...new Set(conflicts)].join(\", \")}`);\n    }\n    const characters = dedupeCharsByName([...team1, ...team2]);\n    const newCardData = {\n      title,\n      date: normalizedDate,\n      time: selectedTime,\n      team1,\n      team2,\n      characters,\n      status: \"upcoming\" // nueva tarjeta = activa\n    };\n    if (editingCardId) {\n      const updated = (cards || []).map(c => c.id === editingCardId ? {\n        ...c,\n        ...newCardData\n      } : c);\n      onSaveCards(updated);\n    } else {\n      const newCard = {\n        id: Date.now(),\n        ...newCardData\n      };\n      onSaveCards([...(cards || []), newCard]);\n      setCreateTitle(\"\");\n    }\n    setModalOpen(false);\n    setShowCal(false);\n  };\n  const deleteCard = cardId => {\n    if (window.confirm(\"Are you sure you want to delete this card?\")) {\n      onSaveCards((cards || []).filter(c => c.id !== cardId));\n    }\n  };\n\n  // Eliminar todas (confirm)\n  const openDeleteAllConfirm = () => setConfirmAllOpen(true);\n  const closeDeleteAllConfirm = () => setConfirmAllOpen(false);\n  const confirmDeleteAll = () => {\n    onSaveCards([]);\n    setConfirmAllOpen(false);\n  };\n\n  // Handlers selects\n  const onTeamChange = (teamKey, value) => {\n    const incoming = dedupeOptionsByName((value || []).slice(0, 4));\n    if (teamKey === \"team1\") {\n      const filtered = incoming.filter(o => {\n        const k = nameKey(o.value);\n        return !effectiveBlocked.has(k) && !sel2Names.has(k);\n      });\n      setSelectedTeam1(dedupeOptionsByName(filtered));\n    } else {\n      const filtered = incoming.filter(o => {\n        const k = nameKey(o.value);\n        return !effectiveBlocked.has(k) && !sel1Names.has(k);\n      });\n      setSelectedTeam2(dedupeOptionsByName(filtered));\n    }\n  };\n  const handleDateInput = e => {\n    let v = e.target.value.replace(/[^\\d\\-\\/]/g, \"\").replace(/\\//g, \"-\");\n    if (v.length > 5) v = v.slice(0, 5);\n    if (/^\\d{3,4}$/.test(v) && !v.includes(\"-\")) v = `${v.slice(0, 2)}-${v.slice(2)}`;\n    setSelectedDate(v);\n    if (/^\\d{2}-?$/.test(v)) {\n      const m = parseInt(v.slice(0, 2), 10);\n      if (m >= 1 && m <= 12) setCalMonth(m);\n    }\n  };\n\n  // Orden de tarjetas\n  const sortedCards = useMemo(() => {\n    const dateKey = d => {\n      if (!d) return Number.POSITIVE_INFINITY;\n      const s = String(d).trim();\n      if (mmddRegex.test(s)) {\n        const [m, day] = s.split(\"-\");\n        return parseInt(`${m}${day}`, 10);\n      }\n      const y = s.match(ymdRegex);\n      if (y) {\n        const [,, m, day] = y;\n        return parseInt(`${m}${day}`, 10);\n      }\n      const dt = new Date(s);\n      if (!isNaN(dt)) return parseInt(`${z2(dt.getMonth() + 1)}${z2(dt.getDate())}`, 10);\n      return Number.POSITIVE_INFINITY;\n    };\n    const minutes = t => {\n      if (!t) return Number.POSITIVE_INFINITY;\n      const m = t.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);\n      if (m) return parseInt(m[1], 10) * 60 + parseInt(m[2], 10);\n      return Number.POSITIVE_INFINITY;\n    };\n    const list = Array.isArray(cards) ? [...cards] : [];\n    return list.sort((a, b) => {\n      const da = dateKey(a === null || a === void 0 ? void 0 : a.date),\n        db = dateKey(b === null || b === void 0 ? void 0 : b.date);\n      if (da !== db) return da - db;\n      const ta = minutes(a === null || a === void 0 ? void 0 : a.time),\n        tb = minutes(b === null || b === void 0 ? void 0 : b.time);\n      if (ta !== tb) return ta - tb;\n      return String((a === null || a === void 0 ? void 0 : a.title) || \"\").localeCompare(String((b === null || b === void 0 ? void 0 : b.title) || \"\"));\n    });\n  }, [cards]);\n\n  // Render etiqueta para opciones (menú) — con icono e indicador 📩 (tooltip)\n  const renderOption = opt => {\n    const note = getNote(opt.value);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 8\n      },\n      title: note || undefined,\n      children: [opt.icon ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: opt.icon,\n        alt: \"\",\n        style: {\n          width: 20,\n          height: 20,\n          borderRadius: 4,\n          objectFit: \"cover\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 20,\n          height: 20,\n          borderRadius: 4,\n          background: \"#e5e7eb\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: opt.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), note ? /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: 4\n        },\n        children: \"\\uD83D\\uDCE9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Personalizamos MultiValueLabel para que el 📩 sea clickeable en las \"chips\" seleccionadas\n  const MultiValueLabel = props => {\n    const {\n      data\n    } = props; // option\n    const note = getNote(data === null || data === void 0 ? void 0 : data.value);\n    const icon = data === null || data === void 0 ? void 0 : data.icon;\n    const label = data === null || data === void 0 ? void 0 : data.label;\n    return /*#__PURE__*/_jsxDEV(RSComponents.MultiValueLabel, {\n      ...props,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          display: \"inline-flex\",\n          alignItems: \"center\",\n          gap: 6\n        },\n        children: [icon ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: icon,\n          alt: \"\",\n          style: {\n            width: 16,\n            height: 16,\n            borderRadius: 4,\n            objectFit: \"cover\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), note ? /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          title: \"View message\",\n          onMouseDown: e => e.stopPropagation(),\n          onClick: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            setNoteTitle(label);\n            setNoteText(note);\n            setNoteOpen(true);\n          },\n          style: {\n            border: \"none\",\n            background: \"transparent\",\n            cursor: \"pointer\",\n            lineHeight: 1,\n            padding: 0,\n            margin: 0\n          },\n          children: \"\\uD83D\\uDCE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this);\n  };\n  const selectComponents = {\n    MultiValueLabel\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      maxWidth: 1100,\n      margin: \"0 auto\",\n      fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n      color: \"#34495e\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        marginBottom: 20,\n        color: \"#1e88e5\",\n        fontWeight: 700\n      },\n      children: \"Admin Panel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 20,\n        display: \"flex\",\n        gap: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Title for new card\",\n        value: createTitle,\n        onChange: e => setCreateTitle(e.target.value),\n        style: {\n          flex: 1,\n          padding: 10,\n          borderRadius: 8,\n          border: \"1px solid #ccc\",\n          fontSize: \"1rem\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => openModal(null),\n        style: {\n          padding: \"10px 20px\",\n          cursor: \"pointer\",\n          backgroundColor: \"#1e88e5\",\n          color: \"#7A5DC7\",\n          border: \"none\",\n          borderRadius: 8,\n          fontWeight: 600\n        },\n        children: \"Create Card\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: openDeleteAllConfirm,\n        disabled: !cards || cards.length === 0,\n        title: \"Delete all cards\",\n        style: {\n          padding: \"10px 16px\",\n          cursor: !cards || cards.length === 0 ? \"not-allowed\" : \"pointer\",\n          backgroundColor: !cards || cards.length === 0 ? \"#ef9a9a\" : \"#d32f2f\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: 8,\n          fontWeight: 700,\n          fontSize: \"0.95rem\",\n          opacity: !cards || cards.length === 0 ? 0.7 : 1\n        },\n        children: \"Delete All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(3, 1fr)\",\n        gap: 24\n      },\n      children: !sortedCards || sortedCards.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No cards created\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 11\n      }, this) : sortedCards.map(card => {\n        var _card$characters;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderRadius: 12,\n            boxShadow: \"0 12px 20px rgba(0,0,0,0.08)\",\n            backgroundColor: \"#f0f5ff\",\n            padding: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              title: card.title,\n              style: {\n                color: \"#7A5DC7\",\n                fontWeight: 700,\n                marginBottom: 6,\n                whiteSpace: \"nowrap\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\"\n              },\n              children: card.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                fontSize: \"0.9rem\",\n                color: \"#7A5DC7\",\n                fontWeight: 600\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: toMMDD(card.date) || \"No asigned\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: card.time || \"No asigned\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: \"#0d47a1\"\n                },\n                children: \"Characters:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  flexWrap: \"wrap\",\n                  gap: 6,\n                  marginTop: 6\n                },\n                children: ((_card$characters = card.characters) !== null && _card$characters !== void 0 ? _card$characters : []).map((c, i) => {\n                  var _c$class3, _c$class4;\n                  const note = getNote(c);\n                  const label = typeof (c === null || c === void 0 ? void 0 : c.name) === \"string\" ? c.name : String(c);\n                  return /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      display: \"inline-flex\",\n                      alignItems: \"center\",\n                      gap: 6,\n                      backgroundColor: \"#bbdefb\",\n                      padding: \"5px 10px\",\n                      borderRadius: 20,\n                      fontSize: \"0.9em\",\n                      fontWeight: 600,\n                      color: \"#0d47a1\"\n                    },\n                    title: note || undefined,\n                    children: [(c === null || c === void 0 ? void 0 : (_c$class3 = c.class) === null || _c$class3 === void 0 ? void 0 : _c$class3.image) && /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: c.class.image,\n                      alt: ((_c$class4 = c.class) === null || _c$class4 === void 0 ? void 0 : _c$class4.name) || \"Clase\",\n                      style: {\n                        width: 18,\n                        height: 18,\n                        borderRadius: \"50%\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 491,\n                      columnNumber: 47\n                    }, this), label, note ? /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      title: \"View message\",\n                      onClick: () => {\n                        setNoteTitle(label);\n                        setNoteText(note);\n                        setNoteOpen(true);\n                      },\n                      style: {\n                        border: \"none\",\n                        background: \"transparent\",\n                        cursor: \"pointer\",\n                        padding: 0,\n                        margin: 0,\n                        lineHeight: 1\n                      },\n                      children: \"\\uD83D\\uDCE9\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 494,\n                      columnNumber: 29\n                    }, this) : null]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 14,\n              display: \"flex\",\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => openModal(card),\n              style: {\n                flex: 1,\n                padding: \"8px 0\",\n                borderRadius: 8,\n                border: \"none\",\n                backgroundColor: \"#1976d2\",\n                color: \"white\",\n                fontWeight: 600\n              },\n              children: \"Edit Card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deleteCard(card.id),\n              style: {\n                flex: 1,\n                padding: \"8px 0\",\n                borderRadius: 8,\n                border: \"none\",\n                backgroundColor: \"#d32f2f\",\n                color: \"white\",\n                fontWeight: 600\n              },\n              children: \"Delete Card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 15\n          }, this)]\n        }, card.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalOpen,\n      onRequestClose: () => {\n        setModalOpen(false);\n        setShowCal(false);\n      },\n      contentLabel: \"Configure Card\",\n      style: {\n        content: {\n          maxWidth: \"720px\",\n          margin: \"auto\",\n          padding: 20,\n          borderRadius: 12,\n          height: \"auto\",\n          inset: \"40px auto auto\"\n        },\n        overlay: {\n          display: \"flex\",\n          alignItems: \"flex-start\",\n          justifyContent: \"center\",\n          backgroundColor: \"rgba(0,0,0,0.45)\",\n          zIndex: 1000\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: 16\n        },\n        children: editingCardId ? \"Edit Card\" : \"New Card\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Title for the card\",\n        value: modalTitle,\n        onChange: e => setModalTitle(e.target.value),\n        style: {\n          width: \"100%\",\n          padding: 12,\n          marginBottom: 16,\n          borderRadius: 8,\n          border: \"1px solid #ccc\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"1fr 1fr\",\n          gap: 12,\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"relative\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: \"block\"\n            },\n            children: [\"Date (MM-DD):\", /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                gap: 8,\n                marginTop: 6\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                inputMode: \"numeric\",\n                placeholder: \"MM-DD\",\n                value: selectedDate,\n                onChange: handleDateInput,\n                onBlur: () => setSelectedDate(toMMDD(selectedDate)),\n                style: {\n                  width: \"100%\",\n                  padding: 10,\n                  borderRadius: 8,\n                  border: \"1px solid #ccc\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowCal(s => !s),\n                style: {\n                  padding: \"0 12px\",\n                  borderRadius: 8,\n                  border: \"1px solid #ccc\",\n                  background: \"#f8fafc\",\n                  cursor: \"pointer\",\n                  fontWeight: 600\n                },\n                children: \"\\uD83D\\uDCC5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 13\n          }, this), showCal && /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: calRef,\n            style: {\n              position: \"absolute\",\n              top: 64,\n              left: 0,\n              background: \"white\",\n              border: \"1px solid #e2e8f0\",\n              borderRadius: 10,\n              boxShadow: \"0 10px 20px rgba(0,0,0,0.12)\",\n              padding: 10,\n              width: 280,\n              zIndex: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                marginBottom: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCalMonth(m => m === 1 ? 12 : m - 1),\n                style: {\n                  border: \"none\",\n                  background: \"transparent\",\n                  cursor: \"pointer\",\n                  fontSize: 18\n                },\n                children: \"\\u25C0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 700\n                },\n                children: MONTHS[calMonth - 1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCalMonth(m => m === 12 ? 1 : m + 1),\n                style: {\n                  border: \"none\",\n                  background: \"transparent\",\n                  cursor: \"pointer\",\n                  fontSize: 18\n                },\n                children: \"\\u25B6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"grid\",\n                gridTemplateColumns: \"repeat(7, 1fr)\",\n                gap: 4,\n                marginBottom: 6\n              },\n              children: WD.map(w => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: \"center\",\n                  fontSize: 12,\n                  color: \"#64748b\"\n                },\n                children: w\n              }, w, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 34\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"grid\",\n                gridTemplateColumns: \"repeat(7, 1fr)\",\n                gap: 4\n              },\n              children: buildMonthMatrix(calMonth).flat().map((cell, idx) => {\n                if (cell === null) return /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    height: 32\n                  }\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 590,\n                  columnNumber: 47\n                }, this);\n                const mmdd = `${z2(calMonth)}-${z2(cell)}`;\n                const isSelected = selectedDate === mmdd;\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setSelectedDate(mmdd);\n                    setShowCal(false);\n                  },\n                  style: {\n                    height: 32,\n                    borderRadius: 6,\n                    border: \"1px solid #e2e8f0\",\n                    background: isSelected ? \"#1e88e5\" : \"white\",\n                    color: isSelected ? \"white\" : \"#0f172a\",\n                    cursor: \"pointer\",\n                    fontWeight: 600\n                  },\n                  children: cell\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: \"block\"\n          },\n          children: [\"Time:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"time\",\n            value: selectedTime,\n            onChange: e => setSelectedTime(e.target.value),\n            style: {\n              width: \"100%\",\n              padding: 10,\n              marginTop: 6,\n              borderRadius: 8,\n              border: \"1px solid #ccc\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 600,\n          marginBottom: 8\n        },\n        children: \"Select characters by team (max 4 per team):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"1fr 1fr\",\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              marginBottom: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: 700\n              },\n              children: \"Party 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: 12,\n                color: \"#64748b\"\n              },\n              children: [selectedTeam1.length, \"/4\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            isMulti: true,\n            options: optionsTeam1,\n            value: selectedTeam1,\n            onChange: v => onTeamChange(\"team1\", v),\n            placeholder: \"Search characters...\",\n            closeMenuOnSelect: false,\n            getOptionValue: opt => nameKey(opt.value),\n            isOptionDisabled: opt => {\n              const k = nameKey(opt.value);\n              return effectiveBlocked.has(k) || sel1Names.has(k) || sel2Names.has(k);\n            },\n            formatOptionLabel: renderOption,\n            components: selectComponents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              marginBottom: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: 700\n              },\n              children: \"Party 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 644,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: 12,\n                color: \"#64748b\"\n              },\n              children: [selectedTeam2.length, \"/4\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            isMulti: true,\n            options: optionsTeam2,\n            value: selectedTeam2,\n            onChange: v => onTeamChange(\"team2\", v),\n            placeholder: \"Search characters...\",\n            closeMenuOnSelect: false,\n            getOptionValue: opt => nameKey(opt.value),\n            isOptionDisabled: opt => {\n              const k = nameKey(opt.value);\n              return effectiveBlocked.has(k) || sel1Names.has(k) || sel2Names.has(k);\n            },\n            formatOptionLabel: renderOption,\n            components: selectComponents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 20,\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setModalOpen(false);\n            setShowCal(false);\n          },\n          style: {\n            padding: \"10px 20px\",\n            borderRadius: 8,\n            border: \"1px solid #ccc\",\n            backgroundColor: \"white\",\n            cursor: \"pointer\",\n            fontWeight: 600\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveModal,\n          style: {\n            padding: \"10px 20px\",\n            borderRadius: 8,\n            border: \"none\",\n            backgroundColor: \"#1e88e5\",\n            color: \"white\",\n            cursor: \"pointer\",\n            fontWeight: 600\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: confirmAllOpen,\n      onRequestClose: closeDeleteAllConfirm,\n      contentLabel: \"Confirm Bulk Deletion\",\n      style: {\n        content: {\n          maxWidth: \"520px\",\n          margin: \"auto\",\n          padding: 22,\n          borderRadius: 12,\n          height: \"auto\",\n          inset: \"40px auto auto\"\n        },\n        overlay: {\n          display: \"flex\",\n          alignItems: \"flex-start\",\n          justifyContent: \"center\",\n          backgroundColor: \"rgba(0,0,0,0.45)\",\n          zIndex: 1000\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginTop: 0,\n          marginBottom: 10,\n          color: \"#d32f2f\"\n        },\n        children: \"Delete All Cards\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 0\n        },\n        children: [\"You are about to delete \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: (cards === null || cards === void 0 ? void 0 : cards.length) || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 35\n        }, this), \" card(s). This action \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"cannot be undone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 94\n        }, this), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: 8,\n          color: \"#6b7280\",\n          fontSize: 14\n        },\n        children: \"Do you wish to continue?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 18,\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          gap: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeDeleteAllConfirm,\n          style: {\n            padding: \"10px 16px\",\n            borderRadius: 8,\n            border: \"1px solid #d1d5db\",\n            backgroundColor: \"white\",\n            cursor: \"pointer\",\n            fontWeight: 600\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: confirmDeleteAll,\n          style: {\n            padding: \"10px 16px\",\n            borderRadius: 8,\n            border: \"none\",\n            backgroundColor: \"#d32f2f\",\n            color: \"white\",\n            cursor: \"pointer\",\n            fontWeight: 700\n          },\n          children: \"Yes, delete all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: noteOpen,\n      onRequestClose: () => setNoteOpen(false),\n      contentLabel: \"Player Message\",\n      style: {\n        content: {\n          maxWidth: \"640px\",\n          margin: \"auto\",\n          padding: 20,\n          borderRadius: 12,\n          height: \"auto\",\n          inset: \"60px auto auto\"\n        },\n        overlay: {\n          display: \"flex\",\n          alignItems: \"flex-start\",\n          justifyContent: \"center\",\n          backgroundColor: \"rgba(0,0,0,0.45)\",\n          zIndex: 1100\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 10,\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 22\n          },\n          role: \"img\",\n          \"aria-label\": \"mensaje\",\n          children: \"\\uD83D\\uDCE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0\n          },\n          children: [\"Message from \", noteTitle]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          whiteSpace: \"pre-wrap\",\n          lineHeight: 1.5,\n          color: \"#0f172a\",\n          background: \"#f8fafc\",\n          border: \"1px solid #e2e8f0\",\n          borderRadius: 8,\n          padding: 12,\n          fontSize: 14\n        },\n        children: noteText || \"Sin contenido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 750,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginTop: 16\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setNoteOpen(false),\n          style: {\n            padding: \"8px 14px\",\n            borderRadius: 8,\n            border: \"1px solid #d1d5db\",\n            background: \"white\",\n            cursor: \"pointer\",\n            fontWeight: 600\n          },\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MiscellaneumClasses, {\n      title: \"Classes\",\n      sortMode: \"asIs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 427,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminPanel, \"XB4e/hAsWgAb+WbksSDnUf0Z+4g=\");\n_c = AdminPanel;\nexport default AdminPanel;\nvar _c;\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","useRef","Modal","Select","components","RSComponents","MiscellaneumClasses","jsxDEV","_jsxDEV","setAppElement","SPECIAL_TAIL","Set","ACTIVE_STATUSES","INACTIVE_HINTS","nameKey","c","trim","toLowerCase","name","getNote","obj","userNote","note","profileNote","sortTeam","arr","withIndex","map","i","sort","a","b","_a$c","_a$c$class","_b$c","_b$c$class","aIsTail","has","class","bIsTail","x","z2","n","String","padStart","mmddRegex","ymdRegex","toMMDD","s","t","test","m","d","split","ymd","match","isValidMMDD","mmdd","parseInt","date","Date","getMonth","getDate","dedupeCharsByName","seen","out","k","add","push","dedupeOptionsByName","opts","o","value","MONTHS","WD","buildMonthMatrix","month","first","firstWd","getDay","daysInMonth","cells","length","rows","slice","isActiveCard","st","status","AdminPanel","cards","allCharacters","onSaveCards","_s","createTitle","setCreateTitle","modalOpen","setModalOpen","editingCardId","setEditingCardId","modalTitle","setModalTitle","selectedDate","setSelectedDate","selectedTime","setSelectedTime","selectedTeam1","setSelectedTeam1","selectedTeam2","setSelectedTeam2","noteOpen","setNoteOpen","noteText","setNoteText","noteTitle","setNoteTitle","showCal","setShowCal","calMonth","setCalMonth","calRef","confirmAllOpen","setConfirmAllOpen","blockedActiveNames","forEach","id","pool","Array","isArray","characters","team1","team2","ch","baseOptions","char","_char$class","label","icon","image","sel1Names","sel2Names","effectiveBlocked","delete","optionsTeam1","filtered","filter","opt","optionsTeam2","onDocClick","e","current","contains","target","document","addEventListener","removeEventListener","loadTeamsFromCard","card","fallback","t1raw","t2raw","t1","t1Set","t2","_c$class","_c$class2","openModal","title","time","saveModal","alert","normalizedDate","preTeam2","currentNames","conflicts","join","newCardData","updated","newCard","now","deleteCard","cardId","window","confirm","openDeleteAllConfirm","closeDeleteAllConfirm","confirmDeleteAll","onTeamChange","teamKey","incoming","handleDateInput","v","replace","includes","sortedCards","dateKey","Number","POSITIVE_INFINITY","day","y","dt","isNaN","minutes","list","da","db","ta","tb","localeCompare","renderOption","style","display","alignItems","gap","undefined","children","src","alt","width","height","borderRadius","objectFit","fileName","_jsxFileName","lineNumber","columnNumber","background","marginLeft","MultiValueLabel","props","data","type","onMouseDown","stopPropagation","onClick","preventDefault","border","cursor","lineHeight","padding","margin","selectComponents","maxWidth","fontFamily","color","marginBottom","fontWeight","placeholder","onChange","flex","fontSize","backgroundColor","disabled","opacity","gridTemplateColumns","_card$characters","boxShadow","whiteSpace","overflow","textOverflow","justifyContent","marginTop","flexWrap","_c$class3","_c$class4","isOpen","onRequestClose","contentLabel","content","inset","overlay","zIndex","position","inputMode","onBlur","ref","top","left","w","textAlign","flat","cell","idx","isSelected","isMulti","options","closeMenuOnSelect","getOptionValue","isOptionDisabled","formatOptionLabel","role","sortMode","_c","$RefreshReg$"],"sources":["E:/Visual Studio Code/WhaleCorpProject/frontend/src/components/AdminPanel.jsx"],"sourcesContent":["// frontend/src/components/AdminPanel.jsx\r\nimport React, { useState, useMemo, useEffect, useRef } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport Select, { components as RSComponents } from \"react-select\";\r\nimport MiscellaneumClasses from \"./admin/MiscellaneumClasses\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst SPECIAL_TAIL = new Set([\"Bard\", \"Paladin\", \"Artist\", \"Valkyrie\"]);\r\nconst ACTIVE_STATUSES = new Set([\"upcoming\", \"live\"]);\r\nconst INACTIVE_HINTS = new Set([\"ended\", \"done\", \"finished\", \"archived\", \"past\", \"cancelled\"]);\r\n\r\nconst nameKey = (c) => {\r\n  if (!c) return \"\";\r\n  if (typeof c === \"string\") return c.trim().toLowerCase();\r\n  if (typeof c.name === \"string\") return c.name.trim().toLowerCase();\r\n  return \"\";\r\n};\r\nconst getNote = (obj) => obj?.userNote || obj?.note || obj?.profileNote || \"\";\r\n\r\n// Ordena equipos (soporta roles al final)\r\nconst sortTeam = (arr) => {\r\n  const withIndex = (arr || []).map((c, i) => ({ c, i }));\r\n  withIndex.sort((a, b) => {\r\n    const aIsTail = SPECIAL_TAIL.has(a.c?.class?.name);\r\n    const bIsTail = SPECIAL_TAIL.has(b.c?.class?.name);\r\n    if (aIsTail !== bIsTail) return aIsTail ? 1 : -1;\r\n    return a.i - b.i;\r\n  });\r\n  return withIndex.map((x) => x.c);\r\n};\r\n\r\n// ---------- Fecha (MM-DD) ----------\r\nconst z2 = (n) => String(n).padStart(2, \"0\");\r\nconst mmddRegex = /^(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\r\nconst ymdRegex = /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\r\nconst toMMDD = (s) => {\r\n  if (!s || typeof s !== \"string\") return \"\";\r\n  const t = s.trim();\r\n  if (mmddRegex.test(t)) return t;\r\n  if (/^(0[1-9]|1[0-2])\\/(0[1-9]|[12]\\d|3[01])$/.test(t)) {\r\n    const [m, d] = t.split(\"/\");\r\n    return `${m}-${d}`;\r\n  }\r\n  const ymd = t.match(ymdRegex);\r\n  if (ymd) {\r\n    const [, , m, d] = ymd;\r\n    return `${m}-${d}`;\r\n  }\r\n  return t;\r\n};\r\nconst isValidMMDD = (mmdd) => {\r\n  if (!mmddRegex.test(mmdd)) return false;\r\n  const [m, d] = mmdd.split(\"-\").map((x) => parseInt(x, 10));\r\n  const date = new Date(2001, m - 1, d);\r\n  return date.getMonth() + 1 === m && date.getDate() === d;\r\n};\r\n\r\n// Dedupe\r\nconst dedupeCharsByName = (arr = []) => {\r\n  const seen = new Set();\r\n  const out = [];\r\n  for (const c of arr) {\r\n    const k = nameKey(c);\r\n    if (!k || seen.has(k)) continue;\r\n    seen.add(k);\r\n    out.push(c);\r\n  }\r\n  return out;\r\n};\r\nconst dedupeOptionsByName = (opts = []) => {\r\n  const seen = new Set();\r\n  const out = [];\r\n  for (const o of opts) {\r\n    const k = nameKey(o?.value);\r\n    if (!k || seen.has(k)) continue;\r\n    seen.add(k);\r\n    out.push(o);\r\n  }\r\n  return out;\r\n};\r\n\r\n// Mini calendario\r\nconst MONTHS = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\r\nconst WD     = [\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"];\r\nfunction buildMonthMatrix(month /*1-12*/) {\r\n  const first = new Date(2001, month - 1, 1);\r\n  const firstWd = first.getDay();\r\n  const daysInMonth = new Date(2001, month, 0).getDate();\r\n  const cells = [];\r\n  for (let i=0;i<firstWd;i++) cells.push(null);\r\n  for (let d=1; d<=daysInMonth; d++) cells.push(d);\r\n  while (cells.length % 7 !== 0) cells.push(null);\r\n  const rows = [];\r\n  for (let i=0;i<cells.length;i+=7) rows.push(cells.slice(i, i+7));\r\n  return rows;\r\n}\r\n\r\n// ¿Tarjeta activa?\r\nconst isActiveCard = (c) => {\r\n  const st = String(c?.status || \"\").toLowerCase();\r\n  if (!st) return true;\r\n  if (INACTIVE_HINTS.has(st)) return false;\r\n  return ACTIVE_STATUSES.has(st);\r\n};\r\n\r\nconst AdminPanel = ({ cards, allCharacters, onSaveCards }) => {\r\n  // Creación rápida\r\n  const [createTitle, setCreateTitle] = useState(\"\");\r\n\r\n  // Modal crear/editar\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [editingCardId, setEditingCardId] = useState(null);\r\n  const [modalTitle, setModalTitle] = useState(\"\");\r\n  const [selectedDate, setSelectedDate] = useState(\"\");\r\n  const [selectedTime, setSelectedTime] = useState(\"\");\r\n  const [selectedTeam1, setSelectedTeam1] = useState([]);\r\n  const [selectedTeam2, setSelectedTeam2] = useState([]);\r\n\r\n  // Modal ver nota 📩\r\n  const [noteOpen, setNoteOpen] = useState(false);\r\n  const [noteText, setNoteText] = useState(\"\");\r\n  const [noteTitle, setNoteTitle] = useState(\"\");\r\n\r\n  // Calendario\r\n  const [showCal, setShowCal] = useState(false);\r\n  const [calMonth, setCalMonth] = useState(() => new Date().getMonth() + 1);\r\n  const calRef = useRef(null);\r\n\r\n  // Confirm “eliminar todas”\r\n  const [confirmAllOpen, setConfirmAllOpen] = useState(false);\r\n\r\n  // Bloqueados globales (tarjetas activas ≠ tarjeta en edición)\r\n  const blockedActiveNames = useMemo(() => {\r\n    const s = new Set();\r\n    (cards || []).forEach((c) => {\r\n      if (!isActiveCard(c)) return;\r\n      if (c?.id === editingCardId) return;\r\n      const pool = Array.isArray(c?.characters)\r\n        ? c.characters\r\n        : [...(c?.team1 || []), ...(c?.team2 || [])];\r\n      pool.forEach((ch) => {\r\n        const k = nameKey(ch);\r\n        if (k) s.add(k);\r\n      });\r\n    });\r\n    return s;\r\n  }, [cards, editingCardId]);\r\n\r\n  // Opciones base con icono (usa class.image)\r\n  const baseOptions = useMemo(\r\n    () =>\r\n      (allCharacters ?? []).map((char) => ({\r\n        value: char,\r\n        label: typeof char?.name === \"string\" ? char.name : String(char || \"\"),\r\n        icon: char?.class?.image || null,\r\n      })),\r\n    [allCharacters]\r\n  );\r\n\r\n  // Selecciones actuales\r\n  const sel1Names = useMemo(() => new Set(selectedTeam1.map((o) => nameKey(o.value))), [selectedTeam1]);\r\n  const sel2Names = useMemo(() => new Set(selectedTeam2.map((o) => nameKey(o.value))), [selectedTeam2]);\r\n\r\n  // Bloqueados efectivos (desbloquea los ya elegidos en este modal)\r\n  const effectiveBlocked = useMemo(() => {\r\n    const s = new Set(blockedActiveNames);\r\n    selectedTeam1.forEach((o) => s.delete(nameKey(o.value)));\r\n    selectedTeam2.forEach((o) => s.delete(nameKey(o.value)));\r\n    return s;\r\n  }, [blockedActiveNames, selectedTeam1, selectedTeam2]);\r\n\r\n  // Opciones visibles por team\r\n  const optionsTeam1 = useMemo(() => {\r\n    const filtered = baseOptions.filter((opt) => {\r\n      const k = nameKey(opt.value);\r\n      if (effectiveBlocked.has(k)) return false;\r\n      return !sel2Names.has(k);\r\n    });\r\n    return dedupeOptionsByName(filtered);\r\n  }, [baseOptions, sel2Names, effectiveBlocked]);\r\n\r\n  const optionsTeam2 = useMemo(() => {\r\n    const filtered = baseOptions.filter((opt) => {\r\n      const k = nameKey(opt.value);\r\n      if (effectiveBlocked.has(k)) return false;\r\n      return !sel1Names.has(k);\r\n    });\r\n    return dedupeOptionsByName(filtered);\r\n  }, [baseOptions, sel1Names, effectiveBlocked]);\r\n\r\n  // Cerrar calendario si clic fuera\r\n  useEffect(() => {\r\n    const onDocClick = (e) => {\r\n      if (!showCal) return;\r\n      if (calRef.current && !calRef.current.contains(e.target)) setShowCal(false);\r\n    };\r\n    document.addEventListener(\"mousedown\", onDocClick);\r\n    return () => document.removeEventListener(\"mousedown\", onDocClick);\r\n  }, [showCal]);\r\n\r\n  // Cargar equipos en modal\r\n  const loadTeamsFromCard = (card) => {\r\n    const fallback = Array.isArray(card?.characters) ? card.characters : [];\r\n    const t1raw = Array.isArray(card?.team1) ? card.team1 : fallback.slice(0, 4);\r\n    const t2raw = Array.isArray(card?.team2) ? card.team2 : fallback.slice(4, 8);\r\n\r\n    const t1 = dedupeCharsByName(sortTeam(t1raw)).slice(0, 4);\r\n    const t1Set = new Set(t1.map(nameKey));\r\n    const t2 = dedupeCharsByName(sortTeam(t2raw).filter((c) => !t1Set.has(nameKey(c)))).slice(0, 4);\r\n\r\n    setSelectedTeam1(\r\n      t1.map((c) => ({\r\n        value: c,\r\n        label: typeof c?.name === \"string\" ? c.name : String(c || \"\"),\r\n        icon: c?.class?.image || null,\r\n      }))\r\n    );\r\n    setSelectedTeam2(\r\n      t2.map((c) => ({\r\n        value: c,\r\n        label: typeof c?.name === \"string\" ? c.name : String(c || \"\"),\r\n        icon: c?.class?.image || null,\r\n      }))\r\n    );\r\n  };\r\n\r\n  const openModal = (card) => {\r\n    setEditingCardId(card?.id || null);\r\n    setModalTitle(card?.title || (createTitle || \"\").trim());\r\n    const mmdd = toMMDD(card?.date || \"\");\r\n    setSelectedDate(mmdd);\r\n    setSelectedTime(card?.time || \"\");\r\n    setCalMonth(mmddRegex.test(mmdd) ? parseInt(mmdd.split(\"-\")[0], 10) : new Date().getMonth() + 1);\r\n    loadTeamsFromCard(card);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  // Guardar\r\n  const saveModal = () => {\r\n    const title = (modalTitle || createTitle || \"\").trim();\r\n    if (!title) return alert(\"Have to insert a title for the card\");\r\n\r\n    const normalizedDate = toMMDD(selectedDate);\r\n    if (normalizedDate && !isValidMMDD(normalizedDate)) {\r\n      return alert(\"The date must be in MM-DD format and valid. E.g.: 08-17\");\r\n    }\r\n\r\n    const team1 = dedupeCharsByName(sortTeam(selectedTeam1.map((o) => o.value))).slice(0, 4);\r\n    const preTeam2 = dedupeCharsByName(sortTeam(selectedTeam2.map((o) => o.value))).slice(0, 4);\r\n    const t1Set = new Set(team1.map(nameKey));\r\n    const team2 = preTeam2.filter((c) => !t1Set.has(nameKey(c))).slice(0, 4);\r\n\r\n    const currentNames = new Set([...team1, ...team2].map(nameKey));\r\n    const conflicts = [];\r\n    currentNames.forEach((k) => {\r\n      if (blockedActiveNames.has(k)) conflicts.push(k);\r\n    });\r\n    if (conflicts.length) {\r\n      return alert(\r\n        `You cannot use characters that are already in ACTIVE (upcoming/live) cards.\\nBlocked: ${[\r\n          ...new Set(conflicts),\r\n        ].join(\", \")}`\r\n      );\r\n    }\r\n\r\n    const characters = dedupeCharsByName([...team1, ...team2]);\r\n    const newCardData = {\r\n      title,\r\n      date: normalizedDate,\r\n      time: selectedTime,\r\n      team1,\r\n      team2,\r\n      characters,\r\n      status: \"upcoming\", // nueva tarjeta = activa\r\n    };\r\n\r\n    if (editingCardId) {\r\n      const updated = (cards || []).map((c) => (c.id === editingCardId ? { ...c, ...newCardData } : c));\r\n      onSaveCards(updated);\r\n    } else {\r\n      const newCard = { id: Date.now(), ...newCardData };\r\n      onSaveCards([...(cards || []), newCard]);\r\n      setCreateTitle(\"\");\r\n    }\r\n\r\n    setModalOpen(false);\r\n    setShowCal(false);\r\n  };\r\n\r\n  const deleteCard = (cardId) => {\r\n    if (window.confirm(\"Are you sure you want to delete this card?\")) {\r\n      onSaveCards((cards || []).filter((c) => c.id !== cardId));\r\n    }\r\n  };\r\n\r\n  // Eliminar todas (confirm)\r\n  const openDeleteAllConfirm  = () => setConfirmAllOpen(true);\r\n  const closeDeleteAllConfirm = () => setConfirmAllOpen(false);\r\n  const confirmDeleteAll      = () => { onSaveCards([]); setConfirmAllOpen(false); };\r\n\r\n  // Handlers selects\r\n  const onTeamChange = (teamKey, value) => {\r\n    const incoming = dedupeOptionsByName((value || []).slice(0, 4));\r\n    if (teamKey === \"team1\") {\r\n      const filtered = incoming.filter((o) => {\r\n        const k = nameKey(o.value);\r\n        return !effectiveBlocked.has(k) && !sel2Names.has(k);\r\n      });\r\n      setSelectedTeam1(dedupeOptionsByName(filtered));\r\n    } else {\r\n      const filtered = incoming.filter((o) => {\r\n        const k = nameKey(o.value);\r\n        return !effectiveBlocked.has(k) && !sel1Names.has(k);\r\n      });\r\n      setSelectedTeam2(dedupeOptionsByName(filtered));\r\n    }\r\n  };\r\n\r\n  const handleDateInput = (e) => {\r\n    let v = e.target.value.replace(/[^\\d\\-\\/]/g, \"\").replace(/\\//g, \"-\");\r\n    if (v.length > 5) v = v.slice(0, 5);\r\n    if (/^\\d{3,4}$/.test(v) && !v.includes(\"-\")) v = `${v.slice(0, 2)}-${v.slice(2)}`;\r\n    setSelectedDate(v);\r\n    if (/^\\d{2}-?$/.test(v)) {\r\n      const m = parseInt(v.slice(0, 2), 10);\r\n      if (m >= 1 && m <= 12) setCalMonth(m);\r\n    }\r\n  };\r\n\r\n  // Orden de tarjetas\r\n  const sortedCards = useMemo(() => {\r\n    const dateKey = (d) => {\r\n      if (!d) return Number.POSITIVE_INFINITY;\r\n      const s = String(d).trim();\r\n      if (mmddRegex.test(s)) {\r\n        const [m, day] = s.split(\"-\");\r\n        return parseInt(`${m}${day}`, 10);\r\n      }\r\n      const y = s.match(ymdRegex);\r\n      if (y) {\r\n        const [, , m, day] = y;\r\n        return parseInt(`${m}${day}`, 10);\r\n      }\r\n      const dt = new Date(s);\r\n      if (!isNaN(dt)) return parseInt(`${z2(dt.getMonth()+1)}${z2(dt.getDate())}`, 10);\r\n      return Number.POSITIVE_INFINITY;\r\n    };\r\n    const minutes = (t) => {\r\n      if (!t) return Number.POSITIVE_INFINITY;\r\n      const m = t.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);\r\n      if (m) return parseInt(m[1],10)*60 + parseInt(m[2],10);\r\n      return Number.POSITIVE_INFINITY;\r\n    };\r\n    const list = Array.isArray(cards) ? [...cards] : [];\r\n    return list.sort((a,b)=>{\r\n      const da = dateKey(a?.date), db = dateKey(b?.date);\r\n      if (da!==db) return da-db;\r\n      const ta = minutes(a?.time), tb = minutes(b?.time);\r\n      if (ta!==tb) return ta-tb;\r\n      return String(a?.title||\"\").localeCompare(String(b?.title||\"\"));\r\n    });\r\n  }, [cards]);\r\n\r\n  // Render etiqueta para opciones (menú) — con icono e indicador 📩 (tooltip)\r\n  const renderOption = (opt) => {\r\n    const note = getNote(opt.value);\r\n    return (\r\n      <div style={{ display: \"flex\", alignItems: \"center\", gap: 8 }} title={note || undefined}>\r\n        {opt.icon ? (\r\n          <img src={opt.icon} alt=\"\" style={{ width: 20, height: 20, borderRadius: 4, objectFit: \"cover\" }} />\r\n        ) : (\r\n          <div style={{ width: 20, height: 20, borderRadius: 4, background: \"#e5e7eb\" }} />\r\n        )}\r\n        <span>{opt.label}</span>\r\n        {note ? <span style={{ marginLeft: 4 }}>📩</span> : null}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Personalizamos MultiValueLabel para que el 📩 sea clickeable en las \"chips\" seleccionadas\r\n  const MultiValueLabel = (props) => {\r\n    const { data } = props; // option\r\n    const note = getNote(data?.value);\r\n    const icon = data?.icon;\r\n    const label = data?.label;\r\n\r\n    return (\r\n      <RSComponents.MultiValueLabel {...props}>\r\n        <span style={{ display: \"inline-flex\", alignItems: \"center\", gap: 6 }}>\r\n          {icon ? (\r\n            <img src={icon} alt=\"\" style={{ width: 16, height: 16, borderRadius: 4, objectFit: \"cover\" }} />\r\n          ) : null}\r\n          <span>{label}</span>\r\n          {note ? (\r\n            <button\r\n              type=\"button\"\r\n              title=\"View message\"\r\n              onMouseDown={(e) => e.stopPropagation()}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                setNoteTitle(label);\r\n                setNoteText(note);\r\n                setNoteOpen(true);\r\n              }}\r\n              style={{\r\n                border: \"none\",\r\n                background: \"transparent\",\r\n                cursor: \"pointer\",\r\n                lineHeight: 1,\r\n                padding: 0,\r\n                margin: 0,\r\n              }}\r\n            >\r\n              📩\r\n            </button>\r\n          ) : null}\r\n        </span>\r\n      </RSComponents.MultiValueLabel>\r\n    );\r\n  };\r\n\r\n  const selectComponents = { MultiValueLabel };\r\n\r\n  return (\r\n    <div style={{ padding: 20, maxWidth: 1100, margin: \"0 auto\", fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\", color: \"#34495e\" }}>\r\n      <h1 style={{ marginBottom: 20, color: \"#1e88e5\", fontWeight: 700 }}>Admin Panel</h1>\r\n\r\n      {/* Header creación */}\r\n      <div style={{ marginBottom: 20, display: \"flex\", gap: 10 }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Title for new card\"\r\n          value={createTitle}\r\n          onChange={(e) => setCreateTitle(e.target.value)}\r\n          style={{ flex: 1, padding: 10, borderRadius: 8, border: \"1px solid #ccc\", fontSize: \"1rem\" }}\r\n        />\r\n        <button\r\n          onClick={() => openModal(null)}\r\n          style={{ padding: \"10px 20px\", cursor: \"pointer\", backgroundColor: \"#1e88e5\", color: \"#7A5DC7\", border: \"none\", borderRadius: 8, fontWeight: 600 }}\r\n        >\r\n          Create Card\r\n        </button>\r\n\r\n        {/* Eliminar todas */}\r\n        <button\r\n          onClick={openDeleteAllConfirm}\r\n          disabled={!cards || cards.length === 0}\r\n          title=\"Delete all cards\"\r\n          style={{\r\n            padding: \"10px 16px\",\r\n            cursor: !cards || cards.length === 0 ? \"not-allowed\" : \"pointer\",\r\n            backgroundColor: !cards || cards.length === 0 ? \"#ef9a9a\" : \"#d32f2f\",\r\n            color: \"white\",\r\n            border: \"none\",\r\n            borderRadius: 8,\r\n            fontWeight: 700,\r\n            fontSize: \"0.95rem\",\r\n            opacity: !cards || cards.length === 0 ? 0.7 : 1,\r\n          }}\r\n        >\r\n          Delete All\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tarjetas */}\r\n      <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, 1fr)\", gap: 24 }}>\r\n        {(!sortedCards || sortedCards.length === 0) ? (\r\n          <p>No cards created</p>\r\n        ) : (\r\n          sortedCards.map((card) => (\r\n            <div key={card.id} style={{ borderRadius: 12, boxShadow: \"0 12px 20px rgba(0,0,0,0.08)\", backgroundColor: \"#f0f5ff\", padding: 12 }}>\r\n              <div>\r\n                <h3 title={card.title} style={{ color: \"#7A5DC7\", fontWeight: 700, marginBottom: 6, whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\" }}>\r\n                  {card.title}\r\n                </h3>\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", fontSize: \"0.9rem\", color: \"#7A5DC7\", fontWeight: 600 }}>\r\n                  <span>{toMMDD(card.date) || \"No asigned\"}</span>\r\n                  <span>{card.time || \"No asigned\"}</span>\r\n                </div>\r\n\r\n                <div style={{ marginTop: 10 }}>\r\n                  <strong style={{ color: \"#0d47a1\" }}>Characters:</strong>\r\n                  <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 6, marginTop: 6 }}>\r\n                    {(card.characters ?? []).map((c, i) => {\r\n                      const note = getNote(c);\r\n                      const label = typeof c?.name === \"string\" ? c.name : String(c);\r\n                      return (\r\n                        <span key={i} style={{ display: \"inline-flex\", alignItems: \"center\", gap: 6, backgroundColor: \"#bbdefb\", padding: \"5px 10px\", borderRadius: 20, fontSize: \"0.9em\", fontWeight: 600, color: \"#0d47a1\" }} title={note || undefined}>\r\n                          {c?.class?.image && <img src={c.class.image} alt={c.class?.name || \"Clase\"} style={{ width: 18, height: 18, borderRadius: \"50%\" }} />}\r\n                          {label}\r\n                          {note ? (\r\n                            <button\r\n                              type=\"button\"\r\n                              title=\"View message\"\r\n                              onClick={() => { setNoteTitle(label); setNoteText(note); setNoteOpen(true); }}\r\n                              style={{ border: \"none\", background: \"transparent\", cursor: \"pointer\", padding: 0, margin: 0, lineHeight: 1 }}\r\n                            >\r\n                              📩\r\n                            </button>\r\n                          ) : null}\r\n                        </span>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ marginTop: 14, display: \"flex\", gap: 8 }}>\r\n                <button onClick={() => openModal(card)} style={{ flex: 1, padding: \"8px 0\", borderRadius: 8, border: \"none\", backgroundColor: \"#1976d2\", color: \"white\", fontWeight: 600 }}>\r\n                  Edit Card\r\n                </button>\r\n                <button onClick={() => deleteCard(card.id)} style={{ flex: 1, padding: \"8px 0\", borderRadius: 8, border: \"none\", backgroundColor: \"#d32f2f\", color: \"white\", fontWeight: 600 }}>\r\n                  Delete Card\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* MODAL: crear/editar — auto height y alineado arriba */}\r\n      <Modal\r\n        isOpen={modalOpen}\r\n        onRequestClose={() => { setModalOpen(false); setShowCal(false); }}\r\n        contentLabel=\"Configure Card\"\r\n        style={{\r\n          content: {\r\n            maxWidth: \"720px\",\r\n            margin: \"auto\",\r\n            padding: 20,\r\n            borderRadius: 12,\r\n            height: \"auto\",\r\n            inset: \"40px auto auto\",\r\n          },\r\n          overlay: {\r\n            display: \"flex\",\r\n            alignItems: \"flex-start\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: \"rgba(0,0,0,0.45)\",\r\n            zIndex: 1000,\r\n          },\r\n        }}\r\n      >\r\n        <h2 style={{ marginBottom: 16 }}>{editingCardId ? \"Edit Card\" : \"New Card\"}</h2>\r\n\r\n        {/* Título */}\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Title for the card\"\r\n          value={modalTitle}\r\n          onChange={(e) => setModalTitle(e.target.value)}\r\n          style={{ width: \"100%\", padding: 12, marginBottom: 16, borderRadius: 8, border: \"1px solid #ccc\" }}\r\n        />\r\n\r\n        {/* Fecha / Hora */}\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 12, marginBottom: 16 }}>\r\n          <div style={{ position: \"relative\" }}>\r\n            <label style={{ display: \"block\" }}>\r\n              Date (MM-DD):\r\n              <div style={{ display: \"flex\", gap: 8, marginTop: 6 }}>\r\n                <input\r\n                  type=\"text\"\r\n                  inputMode=\"numeric\"\r\n                  placeholder=\"MM-DD\"\r\n                  value={selectedDate}\r\n                  onChange={handleDateInput}\r\n                  onBlur={() => setSelectedDate(toMMDD(selectedDate))}\r\n                  style={{ width: \"100%\", padding: 10, borderRadius: 8, border: \"1px solid #ccc\" }}\r\n                />\r\n                <button type=\"button\" onClick={() => setShowCal((s) => !s)} style={{ padding: \"0 12px\", borderRadius: 8, border: \"1px solid #ccc\", background: \"#f8fafc\", cursor: \"pointer\", fontWeight: 600 }}>\r\n                  📅\r\n                </button>\r\n              </div>\r\n            </label>\r\n\r\n            {showCal && (\r\n              <div ref={calRef} style={{ position: \"absolute\", top: 64, left: 0, background: \"white\", border: \"1px solid #e2e8f0\", borderRadius: 10, boxShadow: \"0 10px 20px rgba(0,0,0,0.12)\", padding: 10, width: 280, zIndex: 10 }}>\r\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", marginBottom: 8 }}>\r\n                  <button onClick={() => setCalMonth((m) => (m === 1 ? 12 : m - 1))} style={{ border: \"none\", background: \"transparent\", cursor: \"pointer\", fontSize: 18 }}>◀</button>\r\n                  <div style={{ fontWeight: 700 }}>{MONTHS[calMonth - 1]}</div>\r\n                  <button onClick={() => setCalMonth((m) => (m === 12 ? 1 : m + 1))} style={{ border: \"none\", background: \"transparent\", cursor: \"pointer\", fontSize: 18 }}>▶</button>\r\n                </div>\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(7, 1fr)\", gap: 4, marginBottom: 6 }}>\r\n                  {WD.map((w) => <div key={w} style={{ textAlign: \"center\", fontSize: 12, color: \"#64748b\" }}>{w}</div>)}\r\n                </div>\r\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(7, 1fr)\", gap: 4 }}>\r\n                  {buildMonthMatrix(calMonth).flat().map((cell, idx) => {\r\n                    if (cell === null) return <div key={idx} style={{ height: 32 }} />;\r\n                    const mmdd = `${z2(calMonth)}-${z2(cell)}`;\r\n                    const isSelected = selectedDate === mmdd;\r\n                    return (\r\n                      <button key={idx} onClick={() => { setSelectedDate(mmdd); setShowCal(false); }} style={{ height: 32, borderRadius: 6, border: \"1px solid #e2e8f0\", background: isSelected ? \"#1e88e5\" : \"white\", color: isSelected ? \"white\" : \"#0f172a\", cursor: \"pointer\", fontWeight: 600 }}>\r\n                        {cell}\r\n                      </button>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <label style={{ display: \"block\" }}>\r\n            Time:\r\n            <input\r\n              type=\"time\"\r\n              value={selectedTime}\r\n              onChange={(e) => setSelectedTime(e.target.value)}\r\n              style={{ width: \"100%\", padding: 10, marginTop: 6, borderRadius: 8, border: \"1px solid #ccc\" }}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        {/* Equipos */}\r\n        <div style={{ fontWeight: 600, marginBottom: 8 }}>Select characters by team (max 4 per team):</div>\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 16 }}>\r\n          {/* Team 1 */}\r\n          <div>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 6 }}>\r\n              <span style={{ fontWeight: 700 }}>Party 1</span>\r\n              <span style={{ fontSize: 12, color: \"#64748b\" }}>{selectedTeam1.length}/4</span>\r\n            </div>\r\n            <Select\r\n              isMulti\r\n              options={optionsTeam1}\r\n              value={selectedTeam1}\r\n              onChange={(v) => onTeamChange(\"team1\", v)}\r\n              placeholder=\"Search characters...\"\r\n              closeMenuOnSelect={false}\r\n              getOptionValue={(opt) => nameKey(opt.value)}\r\n              isOptionDisabled={(opt) => {\r\n                const k = nameKey(opt.value);\r\n                return effectiveBlocked.has(k) || sel1Names.has(k) || sel2Names.has(k);\r\n              }}\r\n              formatOptionLabel={renderOption}\r\n              components={selectComponents}\r\n            />\r\n          </div>\r\n\r\n          {/* Team 2 */}\r\n          <div>\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 6 }}>\r\n              <span style={{ fontWeight: 700 }}>Party 2</span>\r\n              <span style={{ fontSize: 12, color: \"#64748b\" }}>{selectedTeam2.length}/4</span>\r\n            </div>\r\n            <Select\r\n              isMulti\r\n              options={optionsTeam2}\r\n              value={selectedTeam2}\r\n              onChange={(v) => onTeamChange(\"team2\", v)}\r\n              placeholder=\"Search characters...\"\r\n              closeMenuOnSelect={false}\r\n              getOptionValue={(opt) => nameKey(opt.value)}\r\n              isOptionDisabled={(opt) => {\r\n                const k = nameKey(opt.value);\r\n                return effectiveBlocked.has(k) || sel1Names.has(k) || sel2Names.has(k);\r\n              }}\r\n              formatOptionLabel={renderOption}\r\n              components={selectComponents}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div style={{ marginTop: 20, display: \"flex\", justifyContent: \"flex-end\", gap: 12 }}>\r\n          <button onClick={() => { setModalOpen(false); setShowCal(false); }} style={{ padding: \"10px 20px\", borderRadius: 8, border: \"1px solid #ccc\", backgroundColor: \"white\", cursor: \"pointer\", fontWeight: 600 }}>\r\n            Cancel\r\n          </button>\r\n          <button onClick={saveModal} style={{ padding: \"10px 20px\", borderRadius: 8, border: \"none\", backgroundColor: \"#1e88e5\", color: \"white\", cursor: \"pointer\", fontWeight: 600 }}>\r\n            Save\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n\r\n      {/* MODAL: confirmar “eliminar todas” — auto height y arriba */}\r\n      <Modal\r\n        isOpen={confirmAllOpen}\r\n        onRequestClose={closeDeleteAllConfirm}\r\n        contentLabel=\"Confirm Bulk Deletion\"\r\n        style={{\r\n          content: {\r\n            maxWidth: \"520px\",\r\n            margin: \"auto\",\r\n            padding: 22,\r\n            borderRadius: 12,\r\n            height: \"auto\",\r\n            inset: \"40px auto auto\",\r\n          },\r\n          overlay: {\r\n            display: \"flex\",\r\n            alignItems: \"flex-start\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: \"rgba(0,0,0,0.45)\",\r\n            zIndex: 1000,\r\n          },\r\n        }}\r\n      >\r\n        <h2 style={{ marginTop: 0, marginBottom: 10, color: \"#d32f2f\" }}>Delete All Cards</h2>\r\n        <p style={{ margin: 0 }}>\r\n          You are about to delete <strong>{cards?.length || 0}</strong> card(s). This action <strong>cannot be undone</strong>.\r\n        </p>\r\n        <p style={{ marginTop: 8, color: \"#6b7280\", fontSize: 14 }}>\r\n          Do you wish to continue?\r\n        </p>\r\n\r\n        <div style={{ marginTop: 18, display: \"flex\", justifyContent: \"flex-end\", gap: 10 }}>\r\n          <button\r\n            onClick={closeDeleteAllConfirm}\r\n            style={{ padding: \"10px 16px\", borderRadius: 8, border: \"1px solid #d1d5db\", backgroundColor: \"white\", cursor: \"pointer\", fontWeight: 600 }}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={confirmDeleteAll}\r\n            style={{ padding: \"10px 16px\", borderRadius: 8, border: \"none\", backgroundColor: \"#d32f2f\", color: \"white\", cursor: \"pointer\", fontWeight: 700 }}\r\n          >\r\n            Yes, delete all\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n\r\n      {/* MODAL: ver nota 📩 — auto height y arriba */}\r\n      <Modal\r\n        isOpen={noteOpen}\r\n        onRequestClose={() => setNoteOpen(false)}\r\n        contentLabel=\"Player Message\"\r\n        style={{\r\n          content: {\r\n            maxWidth: \"640px\",\r\n            margin: \"auto\",\r\n            padding: 20,\r\n            borderRadius: 12,\r\n            height: \"auto\",\r\n            inset: \"60px auto auto\",\r\n          },\r\n          overlay: {\r\n            display: \"flex\",\r\n            alignItems: \"flex-start\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: \"rgba(0,0,0,0.45)\",\r\n            zIndex: 1100,\r\n          },\r\n        }}\r\n      >\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 10, marginBottom: 8 }}>\r\n          <span style={{ fontSize: 22 }} role=\"img\" aria-label=\"mensaje\">📩</span>\r\n          <h3 style={{ margin: 0 }}>Message from {noteTitle}</h3>\r\n        </div>\r\n        <div\r\n          style={{\r\n            whiteSpace: \"pre-wrap\",\r\n            lineHeight: 1.5,\r\n            color: \"#0f172a\",\r\n            background: \"#f8fafc\",\r\n            border: \"1px solid #e2e8f0\",\r\n            borderRadius: 8,\r\n            padding: 12,\r\n            fontSize: 14,\r\n          }}\r\n        >\r\n          {noteText || \"Sin contenido\"}\r\n        </div>\r\n\r\n        <div style={{ display: \"flex\", justifyContent: \"flex-end\", marginTop: 16 }}>\r\n          <button\r\n            onClick={() => setNoteOpen(false)}\r\n            style={{ padding: \"8px 14px\", borderRadius: 8, border: \"1px solid #d1d5db\", background: \"white\", cursor: \"pointer\", fontWeight: 600 }}\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n\r\n      <MiscellaneumClasses title=\"Classes\" sortMode=\"asIs\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}