{"ast":null,"code":"var _jsxFileName = \"E:\\\\Visual Studio Code\\\\WhaleCorpProject\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport { fetchUsersData, saveUserData } from \"./api/backendApi\";\nimport LoginForm from \"./components/LoginForm\";\nimport UserProfile from \"./components/UserProfile\";\nimport Header from \"./components/Header\";\nimport HomePage from \"./components/HomePage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [userEmail, setUserEmail] = useState(null);\n  const [userData, setUserData] = useState({\n    password: \"\",\n    characters: [],\n    labels: []\n  });\n  const [allUsersData, setAllUsersData] = useState({});\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const data = await fetchUsersData();\n        setAllUsersData(data);\n      } catch (error) {\n        console.error(\"Error loading data:\", error);\n      }\n    };\n    loadData();\n  }, []);\n  useEffect(() => {\n    if (userEmail && userData) {\n      saveUserData(userEmail, userData).catch(console.error);\n    }\n  }, [userData, userEmail]);\n  const handleLogin = async (email, password, mode) => {\n    const trimmedEmail = email.trim();\n    const existingUser = allUsersData[trimmedEmail];\n    if (mode === \"register\") {\n      if (existingUser) throw new Error(\"Usuario ya registrado\");\n      const newUser = {\n        password,\n        characters: [],\n        labels: [],\n        createdAt: new Date().toISOString()\n      };\n      setUserEmail(trimmedEmail);\n      setUserData(newUser);\n      setAllUsersData(prev => ({\n        ...prev,\n        [trimmedEmail]: newUser\n      }));\n    } else {\n      if (!existingUser || existingUser.password !== password) {\n        throw new Error(\"Credenciales inválidas\");\n      }\n      setUserEmail(trimmedEmail);\n      setUserData(existingUser);\n    }\n  };\n  const handleLogout = () => {\n    setUserEmail(null);\n  };\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      userEmail: userEmail,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(HomePage, {\n          allUsersData: allUsersData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: userEmail ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 32\n        }, this) : /*#__PURE__*/_jsxDEV(LoginForm, {\n          onLogin: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile\",\n        element: userEmail ? /*#__PURE__*/_jsxDEV(UserProfile, {\n          userEmail: userEmail,\n          userData: userData,\n          setUserData: setUserData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"GmoYrj3aZWmmgOhz4YgNGv8WIJ4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","Navigate","fetchUsersData","saveUserData","LoginForm","UserProfile","Header","HomePage","jsxDEV","_jsxDEV","App","_s","userEmail","setUserEmail","userData","setUserData","password","characters","labels","allUsersData","setAllUsersData","loadData","data","error","console","catch","handleLogin","email","mode","trimmedEmail","trim","existingUser","Error","newUser","createdAt","Date","toISOString","prev","handleLogout","children","onLogout","fileName","_jsxFileName","lineNumber","columnNumber","path","element","to","onLogin","_c","$RefreshReg$"],"sources":["E:/Visual Studio Code/WhaleCorpProject/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport { fetchUsersData, saveUserData } from \"./api/backendApi\";\nimport LoginForm from \"./components/LoginForm\";\nimport UserProfile from \"./components/UserProfile\";\nimport Header from \"./components/Header\";\nimport HomePage from \"./components/HomePage\";\n\nfunction App() {\n  const [userEmail, setUserEmail] = useState(null);\n  const [userData, setUserData] = useState({ password: \"\", characters: [], labels: [] });\n  const [allUsersData, setAllUsersData] = useState({});\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const data = await fetchUsersData();\n        setAllUsersData(data);\n      } catch (error) {\n        console.error(\"Error loading data:\", error);\n      }\n    };\n    loadData();\n  }, []);\n\n  useEffect(() => {\n    if (userEmail && userData) {\n      saveUserData(userEmail, userData).catch(console.error);\n    }\n  }, [userData, userEmail]);\n\n  const handleLogin = async (email, password, mode) => {\n    const trimmedEmail = email.trim();\n    const existingUser = allUsersData[trimmedEmail];\n    \n    if (mode === \"register\") {\n      if (existingUser) throw new Error(\"Usuario ya registrado\");\n      \n      const newUser = { \n        password, \n        characters: [], \n        labels: [],\n        createdAt: new Date().toISOString()\n      };\n      \n      setUserEmail(trimmedEmail);\n      setUserData(newUser);\n      setAllUsersData(prev => ({ ...prev, [trimmedEmail]: newUser }));\n    } else {\n      if (!existingUser || existingUser.password !== password) {\n        throw new Error(\"Credenciales inválidas\");\n      }\n      setUserEmail(trimmedEmail);\n      setUserData(existingUser);\n    }\n  };\n\n  const handleLogout = () => {\n    setUserEmail(null);\n  };\n\n  return (\n    <BrowserRouter>\n      <Header userEmail={userEmail} onLogout={handleLogout} />\n      <Routes>\n        <Route path=\"/\" element={<HomePage allUsersData={allUsersData} />} />\n        <Route \n          path=\"/login\" \n          element={userEmail ? <Navigate to=\"/profile\" /> : <LoginForm onLogin={handleLogin} />} \n        />\n        <Route \n          path=\"/profile\" \n          element={\n            userEmail ? \n              <UserProfile \n                userEmail={userEmail} \n                userData={userData} \n                setUserData={setUserData} \n              /> : \n              <Navigate to=\"/login\" />\n          } \n        />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}