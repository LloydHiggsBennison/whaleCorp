{"ast":null,"code":"var _jsxFileName = \"E:\\\\Visual Studio Code\\\\WhaleCorpProject\\\\frontend\\\\src\\\\components\\\\HomePage.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/components/HomePage.jsx\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// Normalizamos para que siempre caigan al final sin importar mayúsculas/espacios\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SPECIAL_TAIL = new Set([\"bard\", \"paladin\", \"artist\", \"valkyrie\"]);\nconst isTailClass = clsName => typeof clsName === \"string\" && SPECIAL_TAIL.has(clsName.trim().toLowerCase());\n\n// Ordena: primero NO especiales, al final especiales (orden estable)\nconst sortTeam = (arr = []) => {\n  const withIndex = arr.map((c, i) => ({\n    c,\n    i\n  }));\n  withIndex.sort((a, b) => {\n    var _a$c, _a$c$class, _b$c, _b$c$class;\n    const aIsTail = isTailClass((_a$c = a.c) === null || _a$c === void 0 ? void 0 : (_a$c$class = _a$c.class) === null || _a$c$class === void 0 ? void 0 : _a$c$class.name);\n    const bIsTail = isTailClass((_b$c = b.c) === null || _b$c === void 0 ? void 0 : (_b$c$class = _b$c.class) === null || _b$c$class === void 0 ? void 0 : _b$c$class.name);\n    if (aIsTail !== bIsTail) return aIsTail ? 1 : -1; // especiales al final\n    return a.i - b.i; // orden estable dentro del grupo\n  });\n  return withIndex.map(x => x.c);\n};\n\n// ---- Helpers de fecha/hora ----\nconst mmddRe = /^(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\nconst ymdRe = /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\n\n// Formatea a MM-DD (solo mes y día), soporta YYYY-MM-DD y MM-DD\nconst formatDayMonth = value => {\n  if (!value) return \"Fecha no asignada\";\n  const s = String(value).trim();\n  if (mmddRe.test(s)) {\n    const [m, d] = s.split(\"-\");\n    return `${m.padStart(2, \"0\")}-${d.padStart(2, \"0\")}`;\n  }\n  const ymd = s.match(ymdRe);\n  if (ymd) {\n    const [,, m, d] = ymd;\n    return `${m}-${d}`;\n  }\n  const d2 = new Date(s);\n  if (!isNaN(d2)) {\n    const mm = String(d2.getMonth() + 1).padStart(2, \"0\");\n    const dd = String(d2.getDate()).padStart(2, \"0\");\n    return `${mm}-${dd}`;\n  }\n  return s;\n};\n\n// Clave de orden para la fecha (ignorando año)\nconst dateKeyFromDate = dateStr => {\n  if (!dateStr) return Number.POSITIVE_INFINITY;\n  const s = String(dateStr).trim();\n  if (mmddRe.test(s)) {\n    const [m, d] = s.split(\"-\");\n    return parseInt(`${m}${d}`, 10);\n  }\n  const ymd = s.match(ymdRe);\n  if (ymd) {\n    const [,, m, d] = ymd;\n    return parseInt(`${m}${d}`, 10);\n  }\n  const d2 = new Date(s);\n  if (!isNaN(d2)) {\n    const mm = String(d2.getMonth() + 1).padStart(2, \"0\");\n    const dd = String(d2.getDate()).padStart(2, \"0\");\n    return parseInt(`${mm}${dd}`, 10);\n  }\n  return Number.POSITIVE_INFINITY;\n};\n\n// Minutos desde \"00:00\". Vacíos/ inválidos => +∞ (al final).\nconst minutesFromTime = timeStr => {\n  if (!timeStr) return Number.POSITIVE_INFINITY;\n  const s = String(timeStr).trim();\n  let m = s.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);\n  if (m) {\n    const hh = parseInt(m[1], 10);\n    const mm = parseInt(m[2], 10);\n    return hh * 60 + mm;\n  }\n  m = s.match(/^(\\d{3,4})$/);\n  if (m) {\n    const raw = m[1];\n    const hh = parseInt(raw.length === 3 ? raw.slice(0, 1) : raw.slice(0, 2), 10);\n    const mm = parseInt(raw.length === 3 ? raw.slice(1) : raw.slice(2), 10);\n    if (hh >= 0 && hh <= 23 && mm >= 0 && mm <= 59) return hh * 60 + mm;\n  }\n  m = s.match(/^([01]?\\d|2[0-3])$/);\n  if (m) return parseInt(m[1], 10) * 60;\n  return Number.POSITIVE_INFINITY;\n};\n\n// Construye un Date a partir de {date, time}. Para MM-DD usa el año actual.\nconst dateFromCard = (dateStr, timeStr) => {\n  if (!dateStr) return null;\n  const now = new Date();\n  let y = now.getFullYear(),\n    m,\n    d;\n  if (mmddRe.test(dateStr)) {\n    const [mm, dd] = dateStr.split(\"-\").map(x => parseInt(x, 10));\n    m = mm;\n    d = dd;\n  } else {\n    const ymd = dateStr.match(ymdRe);\n    if (ymd) {\n      y = parseInt(ymd[1], 10);\n      m = parseInt(ymd[2], 10);\n      d = parseInt(ymd[3], 10);\n    } else {\n      const free = new Date(dateStr);\n      if (isNaN(free)) return null;\n      y = free.getFullYear();\n      m = free.getMonth() + 1;\n      d = free.getDate();\n    }\n  }\n  let hh = 0,\n    mm = 0;\n  if (typeof timeStr === \"string\" && timeStr.trim()) {\n    const s = timeStr.trim();\n    let m1 = s.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);\n    if (m1) {\n      hh = parseInt(m1[1], 10);\n      mm = parseInt(m1[2], 10);\n    } else {\n      m1 = s.match(/^(\\d{3,4})$/);\n      if (m1) {\n        const raw = m1[1];\n        hh = parseInt(raw.length === 3 ? raw.slice(0, 1) : raw.slice(0, 2), 10);\n        mm = parseInt(raw.length === 3 ? raw.slice(1) : raw.slice(2), 10);\n      } else {\n        m1 = s.match(/^([01]?\\d|2[0-3])$/);\n        if (m1) hh = parseInt(m1[1], 10);\n      }\n    }\n  }\n  const dt = new Date(y, (m || 1) - 1, d || 1, hh, mm, 0, 0);\n  return isNaN(dt) ? null : dt;\n};\n\n// Estado de una card: live/expired/upcoming\nconst getCardStatus = (card, nowTs) => {\n  const start = dateFromCard(card === null || card === void 0 ? void 0 : card.date, card === null || card === void 0 ? void 0 : card.time);\n  if (!start) return \"upcoming\";\n  const startTs = start.getTime();\n  const endTs = startTs + 60 * 60 * 1000; // +1h\n  if (nowTs >= endTs) return \"expired\";\n  if (nowTs >= startTs) return \"live\";\n  return \"upcoming\";\n};\nconst CharItem = ({\n  char\n}) => {\n  var _char$class, _char$class2;\n  if (!char) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"glass\",\n    style: {\n      padding: 10,\n      borderRadius: 10,\n      border: \"1px solid var(--stroke)\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      gap: 6,\n      textAlign: \"center\",\n      background: \"var(--card-glass)\"\n    },\n    title: char.name,\n    children: [(_char$class = char.class) !== null && _char$class !== void 0 && _char$class.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: char.class.image,\n      alt: ((_char$class2 = char.class) === null || _char$class2 === void 0 ? void 0 : _char$class2.name) || \"Clase\",\n      style: {\n        width: 32,\n        height: 32,\n        borderRadius: 8,\n        objectFit: \"cover\"\n      },\n      loading: \"lazy\",\n      decoding: \"async\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      \"aria-hidden\": true,\n      style: {\n        width: 32,\n        height: 32,\n        borderRadius: 8,\n        background: \"#e5e7eb\",\n        display: \"grid\",\n        placeItems: \"center\",\n        fontSize: 12,\n        color: \"#6b7280\"\n      },\n      children: \"?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 700,\n        fontSize: 13,\n        color: \"var(--text)\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        width: \"100%\"\n      },\n      children: char.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n_c = CharItem;\nexport default function HomePage({\n  cards = [],\n  loading,\n  error\n}) {\n  _s();\n  // Ticker para recalcular \"live/expired\" sin recargar\n  const [nowTs, setNowTs] = React.useState(() => Date.now());\n  React.useEffect(() => {\n    const id = setInterval(() => setNowTs(Date.now()), 30000);\n    return () => clearInterval(id);\n  }, []);\n\n  // Ordenar tarjetas por fecha y luego hora\n  const sortedCards = React.useMemo(() => {\n    return [...cards].sort((a, b) => {\n      const da = dateKeyFromDate(a === null || a === void 0 ? void 0 : a.date);\n      const db = dateKeyFromDate(b === null || b === void 0 ? void 0 : b.date);\n      if (da !== db) return da - db;\n      const ta = minutesFromTime(a === null || a === void 0 ? void 0 : a.time);\n      const tb = minutesFromTime(b === null || b === void 0 ? void 0 : b.time);\n      if (ta !== tb) return ta - tb;\n      const at = ((a === null || a === void 0 ? void 0 : a.title) || \"\").toLowerCase();\n      const bt = ((b === null || b === void 0 ? void 0 : b.title) || \"\").toLowerCase();\n      if (at < bt) return -1;\n      if (at > bt) return 1;\n      return 0;\n    });\n  }, [cards]);\n\n  // Filtrar: ocultar expiradas\n  const visibleCards = React.useMemo(() => {\n    return sortedCards.filter(c => getCardStatus(c, nowTs) !== \"expired\");\n  }, [sortedCards, nowTs]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      maxWidth: 1100,\n      margin: \"20px auto\",\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes whaleGlowPulse {\n          0% { box-shadow: 0 0 0 0 color-mix(in oklab, var(--primary) 25%, transparent), 0 0 24px color-mix(in oklab, var(--primary) 55%, transparent); }\n          50% { box-shadow: 0 0 0 6px color-mix(in oklab, var(--primary) 12%, transparent), 0 0 36px color-mix(in oklab, var(--primary) 75%, transparent); }\n          100% { box-shadow: 0 0 0 0 color-mix(in oklab, var(--primary) 25%, transparent), 0 0 24px color-mix(in oklab, var(--primary) 55%, transparent); }\n        }\n        .whale-glow { animation: whaleGlowPulse 1.6s ease-in-out infinite; border-radius: 14px; }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass card\",\n      style: {\n        textAlign: \"center\",\n        marginBottom: 40\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        style: {\n          fontWeight: 800,\n          marginBottom: 6\n        },\n        children: \"Bienvenido a WhaleCorp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"muted\",\n        style: {\n          fontSize: 18,\n          maxWidth: 600,\n          margin: \"0 auto\"\n        },\n        children: \"A page made with love \\u2665\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass card\",\n      style: {\n        textAlign: \"center\",\n        margin: \"30px 0\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"muted\",\n        style: {\n          fontSize: 16,\n          marginTop: 8\n        },\n        children: \"Cargando personajes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass card\",\n      style: {\n        textAlign: \"center\",\n        margin: \"30px 0\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"tomato\",\n          fontWeight: 600\n        },\n        children: [\"Error al cargar los datos: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.reload(),\n        className: \"btn btn-primary\",\n        style: {\n          marginTop: 12\n        },\n        children: \"Reintentar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }, this) : visibleCards.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass card\",\n      style: {\n        textAlign: \"center\",\n        margin: \"30px 0\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"muted\",\n        style: {\n          fontSize: 18\n        },\n        children: \"No hay tarjetas disponibles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        className: \"btn btn-primary\",\n        style: {\n          display: \"inline-block\",\n          marginTop: 14\n        },\n        children: \"Inicia sesi\\xF3n como administrador\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"title\",\n        style: {\n          textAlign: \"center\",\n          marginBottom: 24,\n          fontWeight: 800\n        },\n        children: \"Pending Raids\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(3, minmax(280px, 1fr))\",\n          gap: 24,\n          justifyItems: \"stretch\"\n        },\n        children: visibleCards.map((card, index) => {\n          const status = getCardStatus(card, nowTs);\n          const isLive = status === \"live\";\n\n          // Compat: si no trae team1/team2, partir characters en 4 y 4\n          const team1Raw = Array.isArray(card.team1) ? card.team1 : Array.isArray(card.characters) ? card.characters.slice(0, 4) : [];\n          const team2Raw = Array.isArray(card.team2) ? card.team2 : Array.isArray(card.characters) ? card.characters.slice(4, 8) : [];\n          const team1 = sortTeam(team1Raw).slice(0, 4);\n          const team2 = sortTeam(team2Raw).slice(0, 4);\n          const hasAny = team1.length + team2.length > 0;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `glass ${isLive ? \"whale-glow\" : \"\"}`,\n            style: {\n              borderRadius: 14,\n              overflow: \"hidden\",\n              border: \"1px solid var(--stroke)\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              cursor: \"default\",\n              transition: \"transform 0.25s ease, box-shadow 0.25s ease\",\n              width: \"100%\",\n              background: \"var(--card-glass)\"\n            },\n            onMouseEnter: e => {\n              if (!isLive) {\n                e.currentTarget.style.transform = \"translateY(-6px)\";\n                e.currentTarget.style.boxShadow = \"0 20px 40px rgba(0,0,0,0.18)\";\n              }\n            },\n            onMouseLeave: e => {\n              if (!isLive) {\n                e.currentTarget.style.transform = \"translateY(0)\";\n                e.currentTarget.style.boxShadow = \"0 10px 20px rgba(0,0,0,0.12)\";\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"16px 18px\",\n                borderBottom: \"1px solid var(--stroke)\",\n                userSelect: \"none\",\n                background: \"linear-gradient(180deg, color-mix(in oklab, var(--primary) 14%, transparent), color-mix(in oklab, var(--primary) 8%, transparent))\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: 0,\n                  color: \"color-mix(in oklab, var(--primary) 70%, white 30%)\",\n                  fontWeight: 800,\n                  fontSize: \"1.15rem\",\n                  lineHeight: 1.2,\n                  textOverflow: \"ellipsis\",\n                  whiteSpace: \"nowrap\",\n                  overflow: \"hidden\"\n                },\n                title: card.title,\n                children: card.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  fontSize: 14,\n                  color: \"var(--muted)\",\n                  marginTop: 6,\n                  fontWeight: 600\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: card.date ? formatDayMonth(card.date) : \"Fecha no asignada\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: card.time || \"Hora no asignada\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"16px 18px\",\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr\",\n                gap: 16,\n                minHeight: \"auto\"\n              },\n              children: !hasAny ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"muted\",\n                style: {\n                  textAlign: \"center\",\n                  padding: \"30px 0\",\n                  gridColumn: \"1 / -1\",\n                  fontWeight: 500,\n                  fontStyle: \"italic\",\n                  margin: 0\n                },\n                children: \"Tarjeta pendiente de asignaci\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                      marginBottom: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      style: {\n                        color: \"color-mix(in oklab, var(--primary) 70%, white 30%)\"\n                      },\n                      children: \"Team 1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 431,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: 12,\n                        color: \"var(--muted)\"\n                      },\n                      children: [team1.length, \"/4\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"grid\",\n                      gridTemplateRows: \"repeat(4, minmax(0, auto))\",\n                      gap: 10\n                    },\n                    children: team1.map((char, i) => /*#__PURE__*/_jsxDEV(CharItem, {\n                      char: char\n                    }, `t1-${i}-${(char === null || char === void 0 ? void 0 : char.name) || i}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 446,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                      marginBottom: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      style: {\n                        color: \"color-mix(in oklab, var(--primary) 70%, white 30%)\"\n                      },\n                      children: \"Team 2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 461,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: 12,\n                        color: \"var(--muted)\"\n                      },\n                      children: [team2.length, \"/4\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"grid\",\n                      gridTemplateRows: \"repeat(4, minmax(0, auto))\",\n                      gap: 10\n                    },\n                    children: team2.map((char, i) => /*#__PURE__*/_jsxDEV(CharItem, {\n                      char: char\n                    }, `t2-${i}-${(char === null || char === void 0 ? void 0 : char.name) || i}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 476,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 250,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"hTDmqrNDJ+93dx8Kct0sBjGgKNY=\");\n_c2 = HomePage;\nvar _c, _c2;\n$RefreshReg$(_c, \"CharItem\");\n$RefreshReg$(_c2, \"HomePage\");","map":{"version":3,"names":["React","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","SPECIAL_TAIL","Set","isTailClass","clsName","has","trim","toLowerCase","sortTeam","arr","withIndex","map","c","i","sort","a","b","_a$c","_a$c$class","_b$c","_b$c$class","aIsTail","class","name","bIsTail","x","mmddRe","ymdRe","formatDayMonth","value","s","String","test","m","d","split","padStart","ymd","match","d2","Date","isNaN","mm","getMonth","dd","getDate","dateKeyFromDate","dateStr","Number","POSITIVE_INFINITY","parseInt","minutesFromTime","timeStr","hh","raw","length","slice","dateFromCard","now","y","getFullYear","free","m1","dt","getCardStatus","card","nowTs","start","date","time","startTs","getTime","endTs","CharItem","char","_char$class","_char$class2","className","style","padding","borderRadius","border","display","flexDirection","alignItems","gap","textAlign","background","title","children","image","src","alt","width","height","objectFit","loading","decoding","fileName","_jsxFileName","lineNumber","columnNumber","placeItems","fontSize","color","fontWeight","whiteSpace","overflow","textOverflow","_c","HomePage","cards","error","_s","setNowTs","useState","useEffect","id","setInterval","clearInterval","sortedCards","useMemo","da","db","ta","tb","at","bt","visibleCards","filter","maxWidth","margin","marginBottom","marginTop","onClick","window","location","reload","to","gridTemplateColumns","justifyItems","index","status","isLive","team1Raw","Array","isArray","team1","characters","team2Raw","team2","hasAny","cursor","transition","onMouseEnter","e","currentTarget","transform","boxShadow","onMouseLeave","borderBottom","userSelect","lineHeight","justifyContent","minHeight","gridColumn","fontStyle","gridTemplateRows","_c2","$RefreshReg$"],"sources":["E:/Visual Studio Code/WhaleCorpProject/frontend/src/components/HomePage.jsx"],"sourcesContent":["// frontend/src/components/HomePage.jsx\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Normalizamos para que siempre caigan al final sin importar mayúsculas/espacios\r\nconst SPECIAL_TAIL = new Set([\"bard\", \"paladin\", \"artist\", \"valkyrie\"]);\r\nconst isTailClass = (clsName) =>\r\n  typeof clsName === \"string\" && SPECIAL_TAIL.has(clsName.trim().toLowerCase());\r\n\r\n// Ordena: primero NO especiales, al final especiales (orden estable)\r\nconst sortTeam = (arr = []) => {\r\n  const withIndex = arr.map((c, i) => ({ c, i }));\r\n  withIndex.sort((a, b) => {\r\n    const aIsTail = isTailClass(a.c?.class?.name);\r\n    const bIsTail = isTailClass(b.c?.class?.name);\r\n    if (aIsTail !== bIsTail) return aIsTail ? 1 : -1; // especiales al final\r\n    return a.i - b.i; // orden estable dentro del grupo\r\n  });\r\n  return withIndex.map((x) => x.c);\r\n};\r\n\r\n// ---- Helpers de fecha/hora ----\r\nconst mmddRe = /^(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\r\nconst ymdRe  = /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\r\n\r\n// Formatea a MM-DD (solo mes y día), soporta YYYY-MM-DD y MM-DD\r\nconst formatDayMonth = (value) => {\r\n  if (!value) return \"Fecha no asignada\";\r\n  const s = String(value).trim();\r\n\r\n  if (mmddRe.test(s)) {\r\n    const [m, d] = s.split(\"-\");\r\n    return `${m.padStart(2, \"0\")}-${d.padStart(2, \"0\")}`;\r\n  }\r\n  const ymd = s.match(ymdRe);\r\n  if (ymd) {\r\n    const [, , m, d] = ymd;\r\n    return `${m}-${d}`;\r\n  }\r\n  const d2 = new Date(s);\r\n  if (!isNaN(d2)) {\r\n    const mm = String(d2.getMonth() + 1).padStart(2, \"0\");\r\n    const dd = String(d2.getDate()).padStart(2, \"0\");\r\n    return `${mm}-${dd}`;\r\n  }\r\n  return s;\r\n};\r\n\r\n// Clave de orden para la fecha (ignorando año)\r\nconst dateKeyFromDate = (dateStr) => {\r\n  if (!dateStr) return Number.POSITIVE_INFINITY;\r\n  const s = String(dateStr).trim();\r\n\r\n  if (mmddRe.test(s)) {\r\n    const [m, d] = s.split(\"-\");\r\n    return parseInt(`${m}${d}`, 10);\r\n  }\r\n  const ymd = s.match(ymdRe);\r\n  if (ymd) {\r\n    const [, , m, d] = ymd;\r\n    return parseInt(`${m}${d}`, 10);\r\n  }\r\n  const d2 = new Date(s);\r\n  if (!isNaN(d2)) {\r\n    const mm = String(d2.getMonth() + 1).padStart(2, \"0\");\r\n    const dd = String(d2.getDate()).padStart(2, \"0\");\r\n    return parseInt(`${mm}${dd}`, 10);\r\n  }\r\n  return Number.POSITIVE_INFINITY;\r\n};\r\n\r\n// Minutos desde \"00:00\". Vacíos/ inválidos => +∞ (al final).\r\nconst minutesFromTime = (timeStr) => {\r\n  if (!timeStr) return Number.POSITIVE_INFINITY;\r\n  const s = String(timeStr).trim();\r\n\r\n  let m = s.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);\r\n  if (m) {\r\n    const hh = parseInt(m[1], 10);\r\n    const mm = parseInt(m[2], 10);\r\n    return hh * 60 + mm;\r\n  }\r\n  m = s.match(/^(\\d{3,4})$/);\r\n  if (m) {\r\n    const raw = m[1];\r\n    const hh = parseInt(raw.length === 3 ? raw.slice(0, 1) : raw.slice(0, 2), 10);\r\n    const mm = parseInt(raw.length === 3 ? raw.slice(1) : raw.slice(2), 10);\r\n    if (hh >= 0 && hh <= 23 && mm >= 0 && mm <= 59) return hh * 60 + mm;\r\n  }\r\n  m = s.match(/^([01]?\\d|2[0-3])$/);\r\n  if (m) return parseInt(m[1], 10) * 60;\r\n\r\n  return Number.POSITIVE_INFINITY;\r\n};\r\n\r\n// Construye un Date a partir de {date, time}. Para MM-DD usa el año actual.\r\nconst dateFromCard = (dateStr, timeStr) => {\r\n  if (!dateStr) return null;\r\n\r\n  const now = new Date();\r\n  let y = now.getFullYear(), m, d;\r\n\r\n  if (mmddRe.test(dateStr)) {\r\n    const [mm, dd] = dateStr.split(\"-\").map((x) => parseInt(x, 10));\r\n    m = mm; d = dd;\r\n  } else {\r\n    const ymd = dateStr.match(ymdRe);\r\n    if (ymd) {\r\n      y = parseInt(ymd[1], 10);\r\n      m = parseInt(ymd[2], 10);\r\n      d = parseInt(ymd[3], 10);\r\n    } else {\r\n      const free = new Date(dateStr);\r\n      if (isNaN(free)) return null;\r\n      y = free.getFullYear();\r\n      m = free.getMonth() + 1;\r\n      d = free.getDate();\r\n    }\r\n  }\r\n\r\n  let hh = 0, mm = 0;\r\n  if (typeof timeStr === \"string\" && timeStr.trim()) {\r\n    const s = timeStr.trim();\r\n    let m1 = s.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);\r\n    if (m1) {\r\n      hh = parseInt(m1[1], 10);\r\n      mm = parseInt(m1[2], 10);\r\n    } else {\r\n      m1 = s.match(/^(\\d{3,4})$/);\r\n      if (m1) {\r\n        const raw = m1[1];\r\n        hh = parseInt(raw.length === 3 ? raw.slice(0, 1) : raw.slice(0, 2), 10);\r\n        mm = parseInt(raw.length === 3 ? raw.slice(1) : raw.slice(2), 10);\r\n      } else {\r\n        m1 = s.match(/^([01]?\\d|2[0-3])$/);\r\n        if (m1) hh = parseInt(m1[1], 10);\r\n      }\r\n    }\r\n  }\r\n\r\n  const dt = new Date(y, (m || 1) - 1, d || 1, hh, mm, 0, 0);\r\n  return isNaN(dt) ? null : dt;\r\n};\r\n\r\n// Estado de una card: live/expired/upcoming\r\nconst getCardStatus = (card, nowTs) => {\r\n  const start = dateFromCard(card?.date, card?.time);\r\n  if (!start) return \"upcoming\";\r\n  const startTs = start.getTime();\r\n  const endTs = startTs + 60 * 60 * 1000; // +1h\r\n  if (nowTs >= endTs) return \"expired\";\r\n  if (nowTs >= startTs) return \"live\";\r\n  return \"upcoming\";\r\n};\r\n\r\nconst CharItem = ({ char }) => {\r\n  if (!char) return null;\r\n  return (\r\n    <div\r\n      className=\"glass\"\r\n      style={{\r\n        padding: 10,\r\n        borderRadius: 10,\r\n        border: \"1px solid var(--stroke)\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        gap: 6,\r\n        textAlign: \"center\",\r\n        background: \"var(--card-glass)\",\r\n      }}\r\n      title={char.name}\r\n    >\r\n      {char.class?.image ? (\r\n        <img\r\n          src={char.class.image}\r\n          alt={char.class?.name || \"Clase\"}\r\n          style={{ width: 32, height: 32, borderRadius: 8, objectFit: \"cover\" }}\r\n          loading=\"lazy\"\r\n          decoding=\"async\"\r\n        />\r\n      ) : (\r\n        <div\r\n          aria-hidden\r\n          style={{\r\n            width: 32,\r\n            height: 32,\r\n            borderRadius: 8,\r\n            background: \"#e5e7eb\",\r\n            display: \"grid\",\r\n            placeItems: \"center\",\r\n            fontSize: 12,\r\n            color: \"#6b7280\",\r\n          }}\r\n        >\r\n          ?\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        style={{\r\n          fontWeight: 700,\r\n          fontSize: 13,\r\n          color: \"var(--text)\",\r\n          whiteSpace: \"nowrap\",\r\n          overflow: \"hidden\",\r\n          textOverflow: \"ellipsis\",\r\n          width: \"100%\",\r\n        }}\r\n      >\r\n        {char.name}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function HomePage({ cards = [], loading, error }) {\r\n  // Ticker para recalcular \"live/expired\" sin recargar\r\n  const [nowTs, setNowTs] = React.useState(() => Date.now());\r\n  React.useEffect(() => {\r\n    const id = setInterval(() => setNowTs(Date.now()), 30_000);\r\n    return () => clearInterval(id);\r\n  }, []);\r\n\r\n  // Ordenar tarjetas por fecha y luego hora\r\n  const sortedCards = React.useMemo(() => {\r\n    return [...cards].sort((a, b) => {\r\n      const da = dateKeyFromDate(a?.date);\r\n      const db = dateKeyFromDate(b?.date);\r\n      if (da !== db) return da - db;\r\n\r\n      const ta = minutesFromTime(a?.time);\r\n      const tb = minutesFromTime(b?.time);\r\n      if (ta !== tb) return ta - tb;\r\n\r\n      const at = (a?.title || \"\").toLowerCase();\r\n      const bt = (b?.title || \"\").toLowerCase();\r\n      if (at < bt) return -1;\r\n      if (at > bt) return 1;\r\n      return 0;\r\n    });\r\n  }, [cards]);\r\n\r\n  // Filtrar: ocultar expiradas\r\n  const visibleCards = React.useMemo(() => {\r\n    return sortedCards.filter((c) => getCardStatus(c, nowTs) !== \"expired\");\r\n  }, [sortedCards, nowTs]);\r\n\r\n  return (\r\n    <div className=\"container\" style={{ maxWidth: 1100, margin: \"20px auto\", padding: 20 }}>\r\n      {/* Animación de glow para raids live */}\r\n      <style>{`\r\n        @keyframes whaleGlowPulse {\r\n          0% { box-shadow: 0 0 0 0 color-mix(in oklab, var(--primary) 25%, transparent), 0 0 24px color-mix(in oklab, var(--primary) 55%, transparent); }\r\n          50% { box-shadow: 0 0 0 6px color-mix(in oklab, var(--primary) 12%, transparent), 0 0 36px color-mix(in oklab, var(--primary) 75%, transparent); }\r\n          100% { box-shadow: 0 0 0 0 color-mix(in oklab, var(--primary) 25%, transparent), 0 0 24px color-mix(in oklab, var(--primary) 55%, transparent); }\r\n        }\r\n        .whale-glow { animation: whaleGlowPulse 1.6s ease-in-out infinite; border-radius: 14px; }\r\n      `}</style>\r\n\r\n      {/* Hero / bienvenida */}\r\n      <div className=\"glass card\" style={{ textAlign: \"center\", marginBottom: 40 }}>\r\n        <h1 className=\"title\" style={{ fontWeight: 800, marginBottom: 6 }}>\r\n          Bienvenido a WhaleCorp\r\n        </h1>\r\n        <p className=\"muted\" style={{ fontSize: 18, maxWidth: 600, margin: \"0 auto\" }}>\r\n          A page made with love ♥\r\n        </p>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"glass card\" style={{ textAlign: \"center\", margin: \"30px 0\" }}>\r\n          <div className=\"spinner\" />\r\n          <p className=\"muted\" style={{ fontSize: 16, marginTop: 8 }}>\r\n            Cargando personajes...\r\n          </p>\r\n        </div>\r\n      ) : error ? (\r\n        <div className=\"glass card\" style={{ textAlign: \"center\", margin: \"30px 0\" }}>\r\n          <p style={{ color: \"tomato\", fontWeight: 600 }}>Error al cargar los datos: {error}</p>\r\n          <button onClick={() => window.location.reload()} className=\"btn btn-primary\" style={{ marginTop: 12 }}>\r\n            Reintentar\r\n          </button>\r\n        </div>\r\n      ) : visibleCards.length === 0 ? (\r\n        <div className=\"glass card\" style={{ textAlign: \"center\", margin: \"30px 0\" }}>\r\n          <p className=\"muted\" style={{ fontSize: 18 }}>No hay tarjetas disponibles</p>\r\n          <Link to=\"/login\" className=\"btn btn-primary\" style={{ display: \"inline-block\", marginTop: 14 }}>\r\n            Inicia sesión como administrador\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <h2 className=\"title\" style={{ textAlign: \"center\", marginBottom: 24, fontWeight: 800 }}>\r\n            Pending Raids\r\n          </h2>\r\n\r\n          {/* Grid responsive */}\r\n          <div\r\n            style={{\r\n              display: \"grid\",\r\n              gridTemplateColumns: \"repeat(3, minmax(280px, 1fr))\",\r\n              gap: 24,\r\n              justifyItems: \"stretch\",\r\n            }}\r\n          >\r\n            {visibleCards.map((card, index) => {\r\n              const status = getCardStatus(card, nowTs);\r\n              const isLive = status === \"live\";\r\n\r\n              // Compat: si no trae team1/team2, partir characters en 4 y 4\r\n              const team1Raw = Array.isArray(card.team1)\r\n                ? card.team1\r\n                : Array.isArray(card.characters)\r\n                ? card.characters.slice(0, 4)\r\n                : [];\r\n              const team2Raw = Array.isArray(card.team2)\r\n                ? card.team2\r\n                : Array.isArray(card.characters)\r\n                ? card.characters.slice(4, 8)\r\n                : [];\r\n\r\n              const team1 = sortTeam(team1Raw).slice(0, 4);\r\n              const team2 = sortTeam(team2Raw).slice(0, 4);\r\n              const hasAny = team1.length + team2.length > 0;\r\n\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className={`glass ${isLive ? \"whale-glow\" : \"\"}`}\r\n                  style={{\r\n                    borderRadius: 14,\r\n                    overflow: \"hidden\",\r\n                    border: \"1px solid var(--stroke)\",\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    cursor: \"default\",\r\n                    transition: \"transform 0.25s ease, box-shadow 0.25s ease\",\r\n                    width: \"100%\",\r\n                    background: \"var(--card-glass)\",\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    if (!isLive) {\r\n                      e.currentTarget.style.transform = \"translateY(-6px)\";\r\n                      e.currentTarget.style.boxShadow = \"0 20px 40px rgba(0,0,0,0.18)\";\r\n                    }\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    if (!isLive) {\r\n                      e.currentTarget.style.transform = \"translateY(0)\";\r\n                      e.currentTarget.style.boxShadow = \"0 10px 20px rgba(0,0,0,0.12)\";\r\n                    }\r\n                  }}\r\n                >\r\n                  {/* Header de tarjeta */}\r\n                  <div\r\n                    style={{\r\n                      padding: \"16px 18px\",\r\n                      borderBottom: \"1px solid var(--stroke)\",\r\n                      userSelect: \"none\",\r\n                      background:\r\n                        \"linear-gradient(180deg, color-mix(in oklab, var(--primary) 14%, transparent), color-mix(in oklab, var(--primary) 8%, transparent))\",\r\n                    }}\r\n                  >\r\n                    <h3\r\n                      style={{\r\n                        margin: 0,\r\n                        color: \"color-mix(in oklab, var(--primary) 70%, white 30%)\",\r\n                        fontWeight: 800,\r\n                        fontSize: \"1.15rem\",\r\n                        lineHeight: 1.2,\r\n                        textOverflow: \"ellipsis\",\r\n                        whiteSpace: \"nowrap\",\r\n                        overflow: \"hidden\",\r\n                      }}\r\n                      title={card.title}\r\n                    >\r\n                      {card.title}\r\n                    </h3>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                        fontSize: 14,\r\n                        color: \"var(--muted)\",\r\n                        marginTop: 6,\r\n                        fontWeight: 600,\r\n                      }}\r\n                    >\r\n                      <span>{card.date ? formatDayMonth(card.date) : \"Fecha no asignada\"}</span>\r\n                      <span>{card.time || \"Hora no asignada\"}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Cuerpo por equipos */}\r\n                  <div\r\n                    style={{\r\n                      padding: \"16px 18px\",\r\n                      display: \"grid\",\r\n                      gridTemplateColumns: \"1fr 1fr\",\r\n                      gap: 16,\r\n                      minHeight: \"auto\",\r\n                    }}\r\n                  >\r\n                    {!hasAny ? (\r\n                      <p\r\n                        className=\"muted\"\r\n                        style={{\r\n                          textAlign: \"center\",\r\n                          padding: \"30px 0\",\r\n                          gridColumn: \"1 / -1\",\r\n                          fontWeight: 500,\r\n                          fontStyle: \"italic\",\r\n                          margin: 0,\r\n                        }}\r\n                      >\r\n                        Tarjeta pendiente de asignación\r\n                      </p>\r\n                    ) : (\r\n                      <>\r\n                        {/* TEAM 1 */}\r\n                        <div>\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              justifyContent: \"space-between\",\r\n                              alignItems: \"center\",\r\n                              marginBottom: 8,\r\n                            }}\r\n                          >\r\n                            <strong style={{ color: \"color-mix(in oklab, var(--primary) 70%, white 30%)\" }}>\r\n                              Team 1\r\n                            </strong>\r\n                            <span style={{ fontSize: 12, color: \"var(--muted)\" }}>\r\n                              {team1.length}/4\r\n                            </span>\r\n                          </div>\r\n                          <div\r\n                            style={{\r\n                              display: \"grid\",\r\n                              gridTemplateRows: \"repeat(4, minmax(0, auto))\",\r\n                              gap: 10,\r\n                            }}\r\n                          >\r\n                            {team1.map((char, i) => (\r\n                              <CharItem key={`t1-${i}-${char?.name || i}`} char={char} />\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* TEAM 2 */}\r\n                        <div>\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              justifyContent: \"space-between\",\r\n                              alignItems: \"center\",\r\n                              marginBottom: 8,\r\n                            }}\r\n                          >\r\n                            <strong style={{ color: \"color-mix(in oklab, var(--primary) 70%, white 30%)\" }}>\r\n                              Team 2\r\n                            </strong>\r\n                            <span style={{ fontSize: 12, color: \"var(--muted)\" }}>\r\n                              {team2.length}/4\r\n                            </span>\r\n                          </div>\r\n                          <div\r\n                            style={{\r\n                              display: \"grid\",\r\n                              gridTemplateRows: \"repeat(4, minmax(0, auto))\",\r\n                              gap: 10,\r\n                            }}\r\n                          >\r\n                            {team2.map((char, i) => (\r\n                              <CharItem key={`t2-${i}-${char?.name || i}`} char={char} />\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}