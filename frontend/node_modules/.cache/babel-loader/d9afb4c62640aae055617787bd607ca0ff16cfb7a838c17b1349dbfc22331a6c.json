{"ast":null,"code":"import React from\"react\";import{Link}from\"react-router-dom\";// ⚡ Carga diferida: reduce JS inicial y mejora TBT/LCP\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StreamingsLazy=/*#__PURE__*/React.lazy(()=>import(\"./Streamings\"));// Normalizamos para que siempre caigan al final sin importar mayúsculas/espacios\nconst SPECIAL_TAIL=new Set([\"bard\",\"paladin\",\"artist\",\"valkyrie\"]);const isTailClass=clsName=>typeof clsName===\"string\"&&SPECIAL_TAIL.has(clsName.trim().toLowerCase());// Ordena: primero NO especiales, al final especiales (orden estable)\nconst sortTeam=function(){let arr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const withIndex=arr.map((c,i)=>({c,i}));withIndex.sort((a,b)=>{var _a$c,_a$c$class,_b$c,_b$c$class;const aIsTail=isTailClass((_a$c=a.c)===null||_a$c===void 0?void 0:(_a$c$class=_a$c.class)===null||_a$c$class===void 0?void 0:_a$c$class.name);const bIsTail=isTailClass((_b$c=b.c)===null||_b$c===void 0?void 0:(_b$c$class=_b$c.class)===null||_b$c$class===void 0?void 0:_b$c$class.name);if(aIsTail!==bIsTail)return aIsTail?1:-1;// especiales al final\nreturn a.i-b.i;// orden estable dentro del grupo\n});return withIndex.map(x=>x.c);};// ---- Helpers de fecha/hora ----\nconst mmddRe=/^(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;const ymdRe=/^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;// Formatea a MM-DD (solo mes y día), soporta YYYY-MM-DD y MM-DD\nconst formatDayMonth=value=>{if(!value)return\"Fecha no asignada\";const s=String(value).trim();if(mmddRe.test(s)){const[m,d]=s.split(\"-\");return\"\".concat(m.padStart(2,\"0\"),\"-\").concat(d.padStart(2,\"0\"));}const ymd=s.match(ymdRe);if(ymd){const[,,m,d]=ymd;return\"\".concat(m,\"-\").concat(d);}const d=new Date(s);if(!isNaN(d)){const mm=String(d.getMonth()+1).padStart(2,\"0\");const dd=String(d.getDate()).padStart(2,\"0\");return\"\".concat(mm,\"-\").concat(dd);}return s;};// Clave de orden para la fecha (ignorando año). MMDD como número.\nconst dateKeyFromDate=dateStr=>{if(!dateStr)return Number.POSITIVE_INFINITY;const s=String(dateStr).trim();if(mmddRe.test(s)){const[m,d]=s.split(\"-\");return parseInt(\"\".concat(m).concat(d),10);}const ymd=s.match(ymdRe);if(ymd){const[,,m,d]=ymd;return parseInt(\"\".concat(m).concat(d),10);}const d=new Date(s);if(!isNaN(d)){const mm=String(d.getMonth()+1).padStart(2,\"0\");const dd=String(d.getDate()).padStart(2,\"0\");return parseInt(\"\".concat(mm).concat(dd),10);}return Number.POSITIVE_INFINITY;};// Minutos desde \"00:00\". Vacíos/ inválidos => +∞ (al final).\nconst minutesFromTime=timeStr=>{if(!timeStr)return Number.POSITIVE_INFINITY;const s=String(timeStr).trim();// \"HH:MM\"\nlet m=s.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);if(m)return parseInt(m[1],10)*60+parseInt(m[2],10);// \"HHMM\"\nm=s.match(/^(\\d{3,4})$/);if(m){const raw=m[1];const hh=parseInt(raw.length===3?raw.slice(0,1):raw.slice(0,2),10);const mm=parseInt(raw.length===3?raw.slice(1):raw.slice(2),10);if(hh>=0&&hh<=23&&mm>=0&&mm<=59)return hh*60+mm;}// \"HH\"\nm=s.match(/^([01]?\\d|2[0-3])$/);if(m)return parseInt(m[1],10)*60;return Number.POSITIVE_INFINITY;};// Construye un Date a partir de {date, time}. Para MM-DD usa el año actual.\nconst dateFromCard=(dateStr,timeStr)=>{if(!dateStr)return null;const now=new Date();let y=now.getFullYear(),m,d;if(mmddRe.test(dateStr)){const[mm,dd]=dateStr.split(\"-\").map(x=>parseInt(x,10));m=mm;d=dd;}else{const ymd=dateStr.match(ymdRe);if(ymd){y=parseInt(ymd[1],10);m=parseInt(ymd[2],10);d=parseInt(ymd[3],10);}else{const free=new Date(dateStr);if(isNaN(free))return null;y=free.getFullYear();m=free.getMonth()+1;d=free.getDate();}}let hh=0,mm=0;if(typeof timeStr===\"string\"&&timeStr.trim()){const s=timeStr.trim();let m1=s.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);if(m1){hh=parseInt(m1[1],10);mm=parseInt(m1[2],10);}else{m1=s.match(/^(\\d{3,4})$/);if(m1){const raw=m1[1];hh=parseInt(raw.length===3?raw.slice(0,1):raw.slice(0,2),10);mm=parseInt(raw.length===3?raw.slice(1):raw.slice(2),10);}else{m1=s.match(/^([01]?\\d|2[0-3])$/);if(m1)hh=parseInt(m1[1],10);}}}const dt=new Date(y,(m||1)-1,d||1,hh,mm,0,0);return isNaN(dt)?null:dt;};// Estado de una card: live/expired/upcoming\nconst getCardStatus=(card,nowTs)=>{const start=dateFromCard(card===null||card===void 0?void 0:card.date,card===null||card===void 0?void 0:card.time);if(!start)return\"upcoming\";// sin fecha: nunca glow ni se oculta\nconst startTs=start.getTime();const endTs=startTs+60*60*1000;// +1h\nif(nowTs>=endTs)return\"expired\";if(nowTs>=startTs)return\"live\";return\"upcoming\";};const CharItem=/*#__PURE__*/React.memo(function CharItem(_ref){var _char$class,_char$class2;let{char}=_ref;if(!char)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"10px\",borderRadius:\"10px\",backgroundColor:\"#f8fafc\",border:\"1px solid #e2e8f0\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",gap:6,textAlign:\"center\",contentVisibility:\"auto\",containIntrinsicSize:\"60px\"},title:char.name,children:[(_char$class=char.class)!==null&&_char$class!==void 0&&_char$class.image?/*#__PURE__*/_jsx(\"img\",{src:char.class.image,alt:((_char$class2=char.class)===null||_char$class2===void 0?void 0:_char$class2.name)||\"Clase\",width:32,height:32,style:{width:32,height:32,borderRadius:8,objectFit:\"cover\"},loading:\"lazy\",decoding:\"async\"}):/*#__PURE__*/_jsx(\"div\",{\"aria-hidden\":true,style:{width:32,height:32,borderRadius:8,background:\"#e5e7eb\",display:\"grid\",placeItems:\"center\",fontSize:12,color:\"#6b7280\"},children:\"?\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,fontSize:13,color:\"#0f172a\",whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\",width:\"100%\"},children:char.name})]});});// Carga Streamings sólo cuando es visible en viewport\nfunction LazyStreamingsContainer(){const[visible,setVisible]=React.useState(false);const ref=React.useRef(null);React.useEffect(()=>{const el=ref.current;if(!el)return;const io=new IntersectionObserver(entries=>{if(entries.some(e=>e.isIntersecting)){setVisible(true);io.disconnect();}},{rootMargin:\"0px 0px 200px 0px\"});io.observe(el);return()=>io.disconnect();},[]);return/*#__PURE__*/_jsx(\"div\",{ref:ref,style:{minHeight:100},children:visible?/*#__PURE__*/_jsx(React.Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{style:{height:100}}),children:/*#__PURE__*/_jsx(StreamingsLazy,{pollIntervalMs:120000,cardWidth:220})}):/*#__PURE__*/_jsx(\"div\",{style:{height:100}})});}export default function HomePage(_ref2){let{cards=[],loading,error}=_ref2;// Ticker para recalcular \"live/expired\" sin recargar\nconst[nowTs,setNowTs]=React.useState(()=>Date.now());React.useEffect(()=>{const id=setInterval(()=>setNowTs(Date.now()),30000);// cada 30s\nreturn()=>clearInterval(id);},[]);// Ordenar tarjetas\nconst sortedCards=React.useMemo(()=>{return[...cards].sort((a,b)=>{const da=dateKeyFromDate(a===null||a===void 0?void 0:a.date);const db=dateKeyFromDate(b===null||b===void 0?void 0:b.date);if(da!==db)return da-db;const ta=minutesFromTime(a===null||a===void 0?void 0:a.time);const tb=minutesFromTime(b===null||b===void 0?void 0:b.time);if(ta!==tb)return ta-tb;const at=((a===null||a===void 0?void 0:a.title)||\"\").toLowerCase();const bt=((b===null||b===void 0?void 0:b.title)||\"\").toLowerCase();if(at<bt)return-1;if(at>bt)return 1;return 0;});},[cards]);// Filtrar: ocultar expiradas\nconst visibleCards=React.useMemo(()=>sortedCards.filter(c=>getCardStatus(c,nowTs)!==\"expired\"),[sortedCards,nowTs]);return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:\"1480px\",margin:\"20px auto\",padding:\"20px\",fontFamily:\"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",color:\"#34495e\"},children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes whaleGlowPulse {\\n          0% { box-shadow: 0 0 0 0 rgba(30,136,229,0.35), 0 0 24px rgba(30,136,229,0.45); }\\n          50% { box-shadow: 0 0 0 6px rgba(30,136,229,0.12), 0 0 36px rgba(30,136,229,0.65); }\\n          100% { box-shadow: 0 0 0 0 rgba(30,136,229,0.35), 0 0 24px rgba(30,136,229,0.45); }\\n        }\\n        .whale-glow { animation: whaleGlowPulse 1.6s ease-in-out infinite; border-radius: 14px; }\\n\\n        /* Izquierda flexible, sidebar fija a la derecha */\\n        .wc-sections {\\n          display: grid;\\n          grid-template-columns: minmax(0, 1fr) 360px;\\n          gap: 24px;\\n          align-items: start;\\n        }\\n        @media (max-width: 1100px) {\\n          .wc-sections { grid-template-columns: 1fr; }\\n        }\\n\\n        /* Acelera render fuera de viewport */\\n        .wc-left { content-visibility: auto; contain-intrinsic-size: 600px; }\\n        .wc-right { content-visibility: auto; contain-intrinsic-size: 400px; }\\n      \"}),/*#__PURE__*/_jsxs(\"section\",{\"aria-labelledby\":\"welcome-title\",style:{textAlign:\"center\",marginBottom:\"28px\",padding:\"20px\",backgroundColor:\"#f7f9fc\",borderRadius:\"10px\",boxShadow:\"0 4px 10px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsx(\"h1\",{id:\"welcome-title\",style:{color:\"#1e88e5\",fontWeight:700,margin:0},children:\"Bienvenido a WhaleCorp\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:18,maxWidth:700,margin:\"8px auto 0\",color:\"#66788a\"},children:\"A page made with love \\u2665\"})]}),loading?/*#__PURE__*/_jsxs(\"section\",{style:{textAlign:\"center\",margin:\"50px 0\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#95a5a6\",fontSize:16},children:\"Cargando personajes...\"})]}):error?/*#__PURE__*/_jsxs(\"section\",{style:{textAlign:\"center\",margin:\"50px 0\",color:\"#e74c3c\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Error al cargar los datos: \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),style:{padding:\"10px 20px\",background:\"#1e88e5\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:600,fontSize:16,marginTop:15,boxShadow:\"0 2px 6px rgba(30,136,229,0.4)\"},onMouseOver:e=>e.currentTarget.style.backgroundColor=\"#1565c0\",onMouseOut:e=>e.currentTarget.style.backgroundColor=\"#1e88e5\",children:\"Reintentar\"})]}):visibleCards.length===0?/*#__PURE__*/_jsxs(\"section\",{style:{textAlign:\"center\",margin:\"50px 0\",color:\"#7f8c8d\",fontSize:18},children:[/*#__PURE__*/_jsx(\"p\",{children:\"No hay tarjetas disponibles\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{display:\"inline-block\",marginTop:20,padding:\"10px 25px\",background:\"#1e88e5\",color:\"white\",textDecoration:\"none\",borderRadius:8,fontWeight:600,boxShadow:\"0 2px 6px rgba(30,136,229,0.4)\"},onMouseOver:e=>e.currentTarget.style.backgroundColor=\"#1565c0\",onMouseOut:e=>e.currentTarget.style.backgroundColor=\"#1e88e5\",children:\"Inicia sesi\\xF3n como administrador\"})]}):/*#__PURE__*/_jsxs(\"section\",{className:\"wc-sections\",\"aria-label\":\"contenido principal\",children:[/*#__PURE__*/_jsxs(\"section\",{\"aria-labelledby\":\"raids-title\",className:\"wc-left\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"raids-title\",style:{textAlign:\"center\",marginBottom:\"24px\",color:\"#2c3e50\",fontWeight:700,letterSpacing:\"1px\"},children:\"Pending Raids\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(3, 1fr)\",gap:\"24px\"},children:visibleCards.map((card,index)=>{const status=getCardStatus(card,nowTs);const isLive=status===\"live\";const team1Raw=Array.isArray(card.team1)?card.team1:Array.isArray(card.characters)?card.characters.slice(0,4):[];const team2Raw=Array.isArray(card.team2)?card.team2:Array.isArray(card.characters)?card.characters.slice(4,8):[];const team1=sortTeam(team1Raw).slice(0,4);const team2=sortTeam(team2Raw).slice(0,4);const hasAny=team1.length+team2.length>0;return/*#__PURE__*/_jsxs(\"div\",{className:isLive?\"whale-glow\":undefined// glow intacto\n,style:{borderRadius:14,overflow:\"hidden\",boxShadow:isLive?\"0 0 0 0 rgba(30,136,229,0.35), 0 0 24px rgba(30,136,229,0.55)\":\"0 10px 20px rgba(0,0,0,0.08)\",backgroundColor:\"#fff\",display:\"flex\",flexDirection:\"column\",transition:\"transform 0.25s ease, box-shadow 0.25s ease\"},onMouseEnter:e=>{if(!isLive){e.currentTarget.style.transform=\"translateY(-6px)\";e.currentTarget.style.boxShadow=\"0 20px 40px rgba(0,0,0,0.12)\";}},onMouseLeave:e=>{if(!isLive){e.currentTarget.style.transform=\"translateY(0)\";e.currentTarget.style.boxShadow=\"0 10px 20px rgba(0,0,0,0.08)\";}},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"18px 22px\",backgroundColor:\"#e3f2fd\",borderBottom:\"1px solid #bbdefb\",userSelect:\"none\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,color:\"#1565c0\",fontWeight:700,fontSize:\"1.3rem\",lineHeight:1.15,textOverflow:\"ellipsis\",whiteSpace:\"nowrap\",overflow:\"hidden\"},title:card.title,children:card.title}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",fontSize:14,color:\"#607d8b\",marginTop:6,fontWeight:600},children:[/*#__PURE__*/_jsx(\"span\",{children:card.date?formatDayMonth(card.date):\"Fecha no asignada\"}),/*#__PURE__*/_jsx(\"span\",{children:card.time||\"Hora no asignada\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:\"18px 22px\",display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:16},children:!hasAny?/*#__PURE__*/_jsx(\"p\",{style:{color:\"#90a4ae\",textAlign:\"center\",padding:\"30px 0\",gridColumn:\"1 / -1\",fontWeight:500,fontStyle:\"italic\",margin:0},children:\"Tarjeta pendiente de asignaci\\xF3n\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:8},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:\"#0d47a1\"},children:\"Party 1\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:12,color:\"#64748b\"},children:[team1.length,\"/4\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateRows:\"repeat(4, minmax(0, auto))\",gap:10},children:team1.map((char,i)=>/*#__PURE__*/_jsx(CharItem,{char:char},\"t1-\".concat(i,\"-\").concat((char===null||char===void 0?void 0:char.name)||i)))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:8},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:\"#0d47a1\"},children:\"Party 2\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:12,color:\"#64748b\"},children:[team2.length,\"/4\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateRows:\"repeat(4, minmax(0, auto))\",gap:10},children:team2.map((char,i)=>/*#__PURE__*/_jsx(CharItem,{char:char},\"t2-\".concat(i,\"-\").concat((char===null||char===void 0?void 0:char.name)||i)))})]})]})})]},index);})})]}),/*#__PURE__*/_jsxs(\"section\",{\"aria-labelledby\":\"streams-title\",className:\"wc-right\",style:{justifySelf:\"end\"},children:[/*#__PURE__*/_jsx(\"h2\",{id:\"streams-title\",style:{color:\"#2c3e50\",fontWeight:700,letterSpacing:\"0.5px\",margin:\"0 0 12px\",textAlign:\"right\"},children:\"Live Streamings\"}),/*#__PURE__*/_jsx(\"div\",{style:{borderRadius:10,padding:12,background:\"#f5f7fa\",width:360},children:/*#__PURE__*/_jsx(LazyStreamingsContainer,{})})]})]})]});}","map":{"version":3,"names":["React","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StreamingsLazy","lazy","SPECIAL_TAIL","Set","isTailClass","clsName","has","trim","toLowerCase","sortTeam","arr","arguments","length","undefined","withIndex","map","c","i","sort","a","b","_a$c","_a$c$class","_b$c","_b$c$class","aIsTail","class","name","bIsTail","x","mmddRe","ymdRe","formatDayMonth","value","s","String","test","m","d","split","concat","padStart","ymd","match","Date","isNaN","mm","getMonth","dd","getDate","dateKeyFromDate","dateStr","Number","POSITIVE_INFINITY","parseInt","minutesFromTime","timeStr","raw","hh","slice","dateFromCard","now","y","getFullYear","free","m1","dt","getCardStatus","card","nowTs","start","date","time","startTs","getTime","endTs","CharItem","memo","_ref","_char$class","_char$class2","char","style","padding","borderRadius","backgroundColor","border","display","flexDirection","alignItems","gap","textAlign","contentVisibility","containIntrinsicSize","title","children","image","src","alt","width","height","objectFit","loading","decoding","background","placeItems","fontSize","color","fontWeight","whiteSpace","overflow","textOverflow","LazyStreamingsContainer","visible","setVisible","useState","ref","useRef","useEffect","el","current","io","IntersectionObserver","entries","some","e","isIntersecting","disconnect","rootMargin","observe","minHeight","Suspense","fallback","pollIntervalMs","cardWidth","HomePage","_ref2","cards","error","setNowTs","id","setInterval","clearInterval","sortedCards","useMemo","da","db","ta","tb","at","bt","visibleCards","filter","maxWidth","margin","fontFamily","marginBottom","boxShadow","className","onClick","window","location","reload","cursor","marginTop","onMouseOver","currentTarget","onMouseOut","to","textDecoration","letterSpacing","gridTemplateColumns","index","status","isLive","team1Raw","Array","isArray","team1","characters","team2Raw","team2","hasAny","transition","onMouseEnter","transform","onMouseLeave","borderBottom","userSelect","lineHeight","justifyContent","gridColumn","fontStyle","gridTemplateRows","justifySelf"],"sources":["E:/Visual Studio Code/WhaleCorpProject/frontend/src/components/HomePage.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// ⚡ Carga diferida: reduce JS inicial y mejora TBT/LCP\r\nconst StreamingsLazy = React.lazy(() => import(\"./Streamings\"));\r\n\r\n// Normalizamos para que siempre caigan al final sin importar mayúsculas/espacios\r\nconst SPECIAL_TAIL = new Set([\"bard\", \"paladin\", \"artist\", \"valkyrie\"]);\r\nconst isTailClass = (clsName) =>\r\n  typeof clsName === \"string\" && SPECIAL_TAIL.has(clsName.trim().toLowerCase());\r\n\r\n// Ordena: primero NO especiales, al final especiales (orden estable)\r\nconst sortTeam = (arr = []) => {\r\n  const withIndex = arr.map((c, i) => ({ c, i }));\r\n  withIndex.sort((a, b) => {\r\n    const aIsTail = isTailClass(a.c?.class?.name);\r\n    const bIsTail = isTailClass(b.c?.class?.name);\r\n    if (aIsTail !== bIsTail) return aIsTail ? 1 : -1; // especiales al final\r\n    return a.i - b.i; // orden estable dentro del grupo\r\n  });\r\n  return withIndex.map((x) => x.c);\r\n};\r\n\r\n// ---- Helpers de fecha/hora ----\r\nconst mmddRe = /^(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\r\nconst ymdRe = /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\r\n\r\n// Formatea a MM-DD (solo mes y día), soporta YYYY-MM-DD y MM-DD\r\nconst formatDayMonth = (value) => {\r\n  if (!value) return \"Fecha no asignada\";\r\n  const s = String(value).trim();\r\n\r\n  if (mmddRe.test(s)) {\r\n    const [m, d] = s.split(\"-\");\r\n    return `${m.padStart(2, \"0\")}-${d.padStart(2, \"0\")}`;\r\n  }\r\n\r\n  const ymd = s.match(ymdRe);\r\n  if (ymd) {\r\n    const [, , m, d] = ymd;\r\n    return `${m}-${d}`;\r\n  }\r\n\r\n  const d = new Date(s);\r\n  if (!isNaN(d)) {\r\n    const mm = String(d.getMonth() + 1).padStart(2, \"0\");\r\n    const dd = String(d.getDate()).padStart(2, \"0\");\r\n    return `${mm}-${dd}`;\r\n  }\r\n\r\n  return s;\r\n};\r\n\r\n// Clave de orden para la fecha (ignorando año). MMDD como número.\r\nconst dateKeyFromDate = (dateStr) => {\r\n  if (!dateStr) return Number.POSITIVE_INFINITY;\r\n  const s = String(dateStr).trim();\r\n\r\n  if (mmddRe.test(s)) {\r\n    const [m, d] = s.split(\"-\");\r\n    return parseInt(`${m}${d}`, 10);\r\n  }\r\n  const ymd = s.match(ymdRe);\r\n  if (ymd) {\r\n    const [, , m, d] = ymd;\r\n    return parseInt(`${m}${d}`, 10);\r\n  }\r\n  const d = new Date(s);\r\n  if (!isNaN(d)) {\r\n    const mm = String(d.getMonth() + 1).padStart(2, \"0\");\r\n    const dd = String(d.getDate()).padStart(2, \"0\");\r\n    return parseInt(`${mm}${dd}`, 10);\r\n  }\r\n  return Number.POSITIVE_INFINITY;\r\n};\r\n\r\n// Minutos desde \"00:00\". Vacíos/ inválidos => +∞ (al final).\r\nconst minutesFromTime = (timeStr) => {\r\n  if (!timeStr) return Number.POSITIVE_INFINITY;\r\n  const s = String(timeStr).trim();\r\n\r\n  // \"HH:MM\"\r\n  let m = s.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);\r\n  if (m) return parseInt(m[1], 10) * 60 + parseInt(m[2], 10);\r\n\r\n  // \"HHMM\"\r\n  m = s.match(/^(\\d{3,4})$/);\r\n  if (m) {\r\n    const raw = m[1];\r\n    const hh = parseInt(raw.length === 3 ? raw.slice(0, 1) : raw.slice(0, 2), 10);\r\n    const mm = parseInt(raw.length === 3 ? raw.slice(1) : raw.slice(2), 10);\r\n    if (hh >= 0 && hh <= 23 && mm >= 0 && mm <= 59) return hh * 60 + mm;\r\n  }\r\n\r\n  // \"HH\"\r\n  m = s.match(/^([01]?\\d|2[0-3])$/);\r\n  if (m) return parseInt(m[1], 10) * 60;\r\n\r\n  return Number.POSITIVE_INFINITY;\r\n};\r\n\r\n// Construye un Date a partir de {date, time}. Para MM-DD usa el año actual.\r\nconst dateFromCard = (dateStr, timeStr) => {\r\n  if (!dateStr) return null;\r\n\r\n  const now = new Date();\r\n  let y = now.getFullYear(),\r\n    m,\r\n    d;\r\n\r\n  if (mmddRe.test(dateStr)) {\r\n    const [mm, dd] = dateStr.split(\"-\").map((x) => parseInt(x, 10));\r\n    m = mm;\r\n    d = dd;\r\n  } else {\r\n    const ymd = dateStr.match(ymdRe);\r\n    if (ymd) {\r\n      y = parseInt(ymd[1], 10);\r\n      m = parseInt(ymd[2], 10);\r\n      d = parseInt(ymd[3], 10);\r\n    } else {\r\n      const free = new Date(dateStr);\r\n      if (isNaN(free)) return null;\r\n      y = free.getFullYear();\r\n      m = free.getMonth() + 1;\r\n      d = free.getDate();\r\n    }\r\n  }\r\n\r\n  let hh = 0,\r\n    mm = 0;\r\n  if (typeof timeStr === \"string\" && timeStr.trim()) {\r\n    const s = timeStr.trim();\r\n    let m1 = s.match(/^([01]?\\d|2[0-3]):([0-5]\\d)$/);\r\n    if (m1) {\r\n      hh = parseInt(m1[1], 10);\r\n      mm = parseInt(m1[2], 10);\r\n    } else {\r\n      m1 = s.match(/^(\\d{3,4})$/);\r\n      if (m1) {\r\n        const raw = m1[1];\r\n        hh = parseInt(raw.length === 3 ? raw.slice(0, 1) : raw.slice(0, 2), 10);\r\n        mm = parseInt(raw.length === 3 ? raw.slice(1) : raw.slice(2), 10);\r\n      } else {\r\n        m1 = s.match(/^([01]?\\d|2[0-3])$/);\r\n        if (m1) hh = parseInt(m1[1], 10);\r\n      }\r\n    }\r\n  }\r\n\r\n  const dt = new Date(y, (m || 1) - 1, d || 1, hh, mm, 0, 0);\r\n  return isNaN(dt) ? null : dt;\r\n};\r\n\r\n// Estado de una card: live/expired/upcoming\r\nconst getCardStatus = (card, nowTs) => {\r\n  const start = dateFromCard(card?.date, card?.time);\r\n  if (!start) return \"upcoming\"; // sin fecha: nunca glow ni se oculta\r\n\r\n  const startTs = start.getTime();\r\n  const endTs = startTs + 60 * 60 * 1000; // +1h\r\n  if (nowTs >= endTs) return \"expired\";\r\n  if (nowTs >= startTs) return \"live\";\r\n  return \"upcoming\";\r\n};\r\n\r\nconst CharItem = React.memo(function CharItem({ char }) {\r\n  if (!char) return null;\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: \"10px\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"#f8fafc\",\r\n        border: \"1px solid #e2e8f0\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        gap: 6,\r\n        textAlign: \"center\",\r\n        contentVisibility: \"auto\",\r\n        containIntrinsicSize: \"60px\",\r\n      }}\r\n      title={char.name}\r\n    >\r\n      {char.class?.image ? (\r\n        <img\r\n          src={char.class.image}\r\n          alt={char.class?.name || \"Clase\"}\r\n          width={32}\r\n          height={32}\r\n          style={{ width: 32, height: 32, borderRadius: 8, objectFit: \"cover\" }}\r\n          loading=\"lazy\"\r\n          decoding=\"async\"\r\n        />\r\n      ) : (\r\n        <div\r\n          aria-hidden\r\n          style={{\r\n            width: 32,\r\n            height: 32,\r\n            borderRadius: 8,\r\n            background: \"#e5e7eb\",\r\n            display: \"grid\",\r\n            placeItems: \"center\",\r\n            fontSize: 12,\r\n            color: \"#6b7280\",\r\n          }}\r\n        >\r\n          ?\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        style={{\r\n          fontWeight: 700,\r\n          fontSize: 13,\r\n          color: \"#0f172a\",\r\n          whiteSpace: \"nowrap\",\r\n          overflow: \"hidden\",\r\n          textOverflow: \"ellipsis\",\r\n          width: \"100%\",\r\n        }}\r\n      >\r\n        {char.name}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// Carga Streamings sólo cuando es visible en viewport\r\nfunction LazyStreamingsContainer() {\r\n  const [visible, setVisible] = React.useState(false);\r\n  const ref = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n    const el = ref.current;\r\n    if (!el) return;\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries.some((e) => e.isIntersecting)) {\r\n          setVisible(true);\r\n          io.disconnect();\r\n        }\r\n      },\r\n      { rootMargin: \"0px 0px 200px 0px\" }\r\n    );\r\n    io.observe(el);\r\n    return () => io.disconnect();\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={ref} style={{ minHeight: 100 }}>\r\n      {visible ? (\r\n        <React.Suspense fallback={<div style={{ height: 100 }} />}>\r\n          <StreamingsLazy pollIntervalMs={120000} cardWidth={220} />\r\n        </React.Suspense>\r\n      ) : (\r\n        <div style={{ height: 100 }} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function HomePage({ cards = [], loading, error }) {\r\n  // Ticker para recalcular \"live/expired\" sin recargar\r\n  const [nowTs, setNowTs] = React.useState(() => Date.now());\r\n  React.useEffect(() => {\r\n    const id = setInterval(() => setNowTs(Date.now()), 30_000); // cada 30s\r\n    return () => clearInterval(id);\r\n  }, []);\r\n\r\n  // Ordenar tarjetas\r\n  const sortedCards = React.useMemo(() => {\r\n    return [...cards].sort((a, b) => {\r\n      const da = dateKeyFromDate(a?.date);\r\n      const db = dateKeyFromDate(b?.date);\r\n      if (da !== db) return da - db;\r\n\r\n      const ta = minutesFromTime(a?.time);\r\n      const tb = minutesFromTime(b?.time);\r\n      if (ta !== tb) return ta - tb;\r\n\r\n      const at = (a?.title || \"\").toLowerCase();\r\n      const bt = (b?.title || \"\").toLowerCase();\r\n      if (at < bt) return -1;\r\n      if (at > bt) return 1;\r\n      return 0;\r\n    });\r\n  }, [cards]);\r\n\r\n  // Filtrar: ocultar expiradas\r\n  const visibleCards = React.useMemo(\r\n    () => sortedCards.filter((c) => getCardStatus(c, nowTs) !== \"expired\"),\r\n    [sortedCards, nowTs]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        maxWidth: \"1480px\",\r\n        margin: \"20px auto\",\r\n        padding: \"20px\",\r\n        fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\r\n        color: \"#34495e\",\r\n      }}\r\n    >\r\n      <style>{`\r\n        @keyframes whaleGlowPulse {\r\n          0% { box-shadow: 0 0 0 0 rgba(30,136,229,0.35), 0 0 24px rgba(30,136,229,0.45); }\r\n          50% { box-shadow: 0 0 0 6px rgba(30,136,229,0.12), 0 0 36px rgba(30,136,229,0.65); }\r\n          100% { box-shadow: 0 0 0 0 rgba(30,136,229,0.35), 0 0 24px rgba(30,136,229,0.45); }\r\n        }\r\n        .whale-glow { animation: whaleGlowPulse 1.6s ease-in-out infinite; border-radius: 14px; }\r\n\r\n        /* Izquierda flexible, sidebar fija a la derecha */\r\n        .wc-sections {\r\n          display: grid;\r\n          grid-template-columns: minmax(0, 1fr) 360px;\r\n          gap: 24px;\r\n          align-items: start;\r\n        }\r\n        @media (max-width: 1100px) {\r\n          .wc-sections { grid-template-columns: 1fr; }\r\n        }\r\n\r\n        /* Acelera render fuera de viewport */\r\n        .wc-left { content-visibility: auto; contain-intrinsic-size: 600px; }\r\n        .wc-right { content-visibility: auto; contain-intrinsic-size: 400px; }\r\n      `}</style>\r\n\r\n      {/* SECTION: Bienvenida */}\r\n      <section\r\n        aria-labelledby=\"welcome-title\"\r\n        style={{\r\n          textAlign: \"center\",\r\n          marginBottom: \"28px\",\r\n          padding: \"20px\",\r\n          backgroundColor: \"#f7f9fc\",\r\n          borderRadius: \"10px\",\r\n          boxShadow: \"0 4px 10px rgba(0,0,0,0.05)\",\r\n        }}\r\n      >\r\n        <h1 id=\"welcome-title\" style={{ color: \"#1e88e5\", fontWeight: 700, margin: 0 }}>\r\n          Bienvenido a WhaleCorp\r\n        </h1>\r\n        <p style={{ fontSize: 18, maxWidth: 700, margin: \"8px auto 0\", color: \"#66788a\" }}>\r\n          A page made with love ♥\r\n        </p>\r\n      </section>\r\n\r\n      {/* ESTADOS */}\r\n      {loading ? (\r\n        <section style={{ textAlign: \"center\", margin: \"50px 0\" }}>\r\n          <div className=\"spinner\" />\r\n          <p style={{ color: \"#95a5a6\", fontSize: 16 }}>Cargando personajes...</p>\r\n        </section>\r\n      ) : error ? (\r\n        <section style={{ textAlign: \"center\", margin: \"50px 0\", color: \"#e74c3c\" }}>\r\n          <p>Error al cargar los datos: {error}</p>\r\n          <button\r\n            onClick={() => window.location.reload()}\r\n            style={{\r\n              padding: \"10px 20px\",\r\n              background: \"#1e88e5\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: 6,\r\n              cursor: \"pointer\",\r\n              fontWeight: 600,\r\n              fontSize: 16,\r\n              marginTop: 15,\r\n              boxShadow: \"0 2px 6px rgba(30,136,229,0.4)\",\r\n            }}\r\n            onMouseOver={(e) => (e.currentTarget.style.backgroundColor = \"#1565c0\")}\r\n            onMouseOut={(e) => (e.currentTarget.style.backgroundColor = \"#1e88e5\")}\r\n          >\r\n            Reintentar\r\n          </button>\r\n        </section>\r\n      ) : visibleCards.length === 0 ? (\r\n        <section style={{ textAlign: \"center\", margin: \"50px 0\", color: \"#7f8c8d\", fontSize: 18 }}>\r\n          <p>No hay tarjetas disponibles</p>\r\n          <Link\r\n            to=\"/login\"\r\n            style={{\r\n              display: \"inline-block\",\r\n              marginTop: 20,\r\n              padding: \"10px 25px\",\r\n              background: \"#1e88e5\",\r\n              color: \"white\",\r\n              textDecoration: \"none\",\r\n              borderRadius: 8,\r\n              fontWeight: 600,\r\n              boxShadow: \"0 2px 6px rgba(30,136,229,0.4)\",\r\n            }}\r\n            onMouseOver={(e) => (e.currentTarget.style.backgroundColor = \"#1565c0\")}\r\n            onMouseOut={(e) => (e.currentTarget.style.backgroundColor = \"#1e88e5\")}\r\n          >\r\n            Inicia sesión como administrador\r\n          </Link>\r\n        </section>\r\n      ) : (\r\n        <section className=\"wc-sections\" aria-label=\"contenido principal\">\r\n          {/* Pending Raids (izquierda) */}\r\n          <section aria-labelledby=\"raids-title\" className=\"wc-left\">\r\n            <h2\r\n              id=\"raids-title\"\r\n              style={{\r\n                textAlign: \"center\",\r\n                marginBottom: \"24px\",\r\n                color: \"#2c3e50\",\r\n                fontWeight: 700,\r\n                letterSpacing: \"1px\",\r\n              }}\r\n            >\r\n              Pending Raids\r\n            </h2>\r\n\r\n            <div\r\n              style={{\r\n                display: \"grid\",\r\n                gridTemplateColumns: \"repeat(3, 1fr)\",\r\n                gap: \"24px\",\r\n              }}\r\n            >\r\n              {visibleCards.map((card, index) => {\r\n                const status = getCardStatus(card, nowTs);\r\n                const isLive = status === \"live\";\r\n\r\n                const team1Raw = Array.isArray(card.team1)\r\n                  ? card.team1\r\n                  : Array.isArray(card.characters)\r\n                  ? card.characters.slice(0, 4)\r\n                  : [];\r\n                const team2Raw = Array.isArray(card.team2)\r\n                  ? card.team2\r\n                  : Array.isArray(card.characters)\r\n                  ? card.characters.slice(4, 8)\r\n                  : [];\r\n\r\n                const team1 = sortTeam(team1Raw).slice(0, 4);\r\n                const team2 = sortTeam(team2Raw).slice(0, 4);\r\n                const hasAny = team1.length + team2.length > 0;\r\n\r\n                return (\r\n                  <div\r\n                    key={index}\r\n                    className={isLive ? \"whale-glow\" : undefined} // glow intacto\r\n                    style={{\r\n                      borderRadius: 14,\r\n                      overflow: \"hidden\",\r\n                      boxShadow: isLive\r\n                        ? \"0 0 0 0 rgba(30,136,229,0.35), 0 0 24px rgba(30,136,229,0.55)\"\r\n                        : \"0 10px 20px rgba(0,0,0,0.08)\",\r\n                      backgroundColor: \"#fff\",\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      transition: \"transform 0.25s ease, box-shadow 0.25s ease\",\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      if (!isLive) {\r\n                        e.currentTarget.style.transform = \"translateY(-6px)\";\r\n                        e.currentTarget.style.boxShadow =\r\n                          \"0 20px 40px rgba(0,0,0,0.12)\";\r\n                      }\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      if (!isLive) {\r\n                        e.currentTarget.style.transform = \"translateY(0)\";\r\n                        e.currentTarget.style.boxShadow =\r\n                          \"0 10px 20px rgba(0,0,0,0.08)\";\r\n                      }\r\n                    }}\r\n                  >\r\n                    {/* Header */}\r\n                    <div\r\n                      style={{\r\n                        padding: \"18px 22px\",\r\n                        backgroundColor: \"#e3f2fd\",\r\n                        borderBottom: \"1px solid #bbdefb\",\r\n                        userSelect: \"none\",\r\n                      }}\r\n                    >\r\n                      <h3\r\n                        style={{\r\n                          margin: 0,\r\n                          color: \"#1565c0\",\r\n                          fontWeight: 700,\r\n                          fontSize: \"1.3rem\",\r\n                          lineHeight: 1.15,\r\n                          textOverflow: \"ellipsis\",\r\n                          whiteSpace: \"nowrap\",\r\n                          overflow: \"hidden\",\r\n                        }}\r\n                        title={card.title}\r\n                      >\r\n                        {card.title}\r\n                      </h3>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-between\",\r\n                          fontSize: 14,\r\n                          color: \"#607d8b\",\r\n                          marginTop: 6,\r\n                          fontWeight: 600,\r\n                        }}\r\n                      >\r\n                        <span>\r\n                          {card.date ? formatDayMonth(card.date) : \"Fecha no asignada\"}\r\n                        </span>\r\n                        <span>{card.time || \"Hora no asignada\"}</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Body */}\r\n                    <div\r\n                      style={{\r\n                        padding: \"18px 22px\",\r\n                        display: \"grid\",\r\n                        gridTemplateColumns: \"1fr 1fr\",\r\n                        gap: 16,\r\n                      }}\r\n                    >\r\n                      {!hasAny ? (\r\n                        <p\r\n                          style={{\r\n                            color: \"#90a4ae\",\r\n                            textAlign: \"center\",\r\n                            padding: \"30px 0\",\r\n                            gridColumn: \"1 / -1\",\r\n                            fontWeight: 500,\r\n                            fontStyle: \"italic\",\r\n                            margin: 0,\r\n                          }}\r\n                        >\r\n                          Tarjeta pendiente de asignación\r\n                        </p>\r\n                      ) : (\r\n                        <>\r\n                          <div>\r\n                            <div\r\n                              style={{\r\n                                display: \"flex\",\r\n                                justifyContent: \"space-between\",\r\n                                alignItems: \"center\",\r\n                                marginBottom: 8,\r\n                              }}\r\n                            >\r\n                              <strong style={{ color: \"#0d47a1\" }}>Party 1</strong>\r\n                              <span style={{ fontSize: 12, color: \"#64748b\" }}>\r\n                                {team1.length}/4\r\n                              </span>\r\n                            </div>\r\n                            <div\r\n                              style={{\r\n                                display: \"grid\",\r\n                                gridTemplateRows: \"repeat(4, minmax(0, auto))\",\r\n                                gap: 10,\r\n                              }}\r\n                            >\r\n                              {team1.map((char, i) => (\r\n                                <CharItem key={`t1-${i}-${char?.name || i}`} char={char} />\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div>\r\n                            <div\r\n                              style={{\r\n                                display: \"flex\",\r\n                                justifyContent: \"space-between\",\r\n                                alignItems: \"center\",\r\n                                marginBottom: 8,\r\n                              }}\r\n                            >\r\n                              <strong style={{ color: \"#0d47a1\" }}>Party 2</strong>\r\n                              <span style={{ fontSize: 12, color: \"#64748b\" }}>\r\n                                {team2.length}/4\r\n                              </span>\r\n                            </div>\r\n                            <div\r\n                              style={{\r\n                                display: \"grid\",\r\n                                gridTemplateRows: \"repeat(4, minmax(0, auto))\",\r\n                                gap: 10,\r\n                              }}\r\n                            >\r\n                              {team2.map((char, i) => (\r\n                                <CharItem key={`t2-${i}-${char?.name || i}`} char={char} />\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Live Streamings — pegado a la derecha */}\r\n          <section aria-labelledby=\"streams-title\" className=\"wc-right\" style={{ justifySelf: \"end\" }}>\r\n            <h2\r\n              id=\"streams-title\"\r\n              style={{\r\n                color: \"#2c3e50\",\r\n                fontWeight: 700,\r\n                letterSpacing: \"0.5px\",\r\n                margin: \"0 0 12px\",\r\n                textAlign: \"right\",\r\n              }}\r\n            >\r\n              Live Streamings\r\n            </h2>\r\n\r\n            <div\r\n              style={{\r\n                borderRadius: 10,\r\n                padding: 12,\r\n                background: \"#f5f7fa\",\r\n                width: 360,\r\n              }}\r\n            >\r\n              <LazyStreamingsContainer />\r\n            </div>\r\n          </section>\r\n        </section>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CAEvC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACA,KAAM,CAAAC,cAAc,cAAGR,KAAK,CAACS,IAAI,CAAC,IAAM,MAAM,CAAC,cAAc,CAAC,CAAC,CAE/D;AACA,KAAM,CAAAC,YAAY,CAAG,GAAI,CAAAC,GAAG,CAAC,CAAC,MAAM,CAAE,SAAS,CAAE,QAAQ,CAAE,UAAU,CAAC,CAAC,CACvE,KAAM,CAAAC,WAAW,CAAIC,OAAO,EAC1B,MAAO,CAAAA,OAAO,GAAK,QAAQ,EAAIH,YAAY,CAACI,GAAG,CAACD,OAAO,CAACE,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CAE/E;AACA,KAAM,CAAAC,QAAQ,CAAG,QAAAA,CAAA,CAAc,IAAb,CAAAC,GAAG,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CACxB,KAAM,CAAAG,SAAS,CAAGJ,GAAG,CAACK,GAAG,CAAC,CAACC,CAAC,CAAEC,CAAC,IAAM,CAAED,CAAC,CAAEC,CAAE,CAAC,CAAC,CAAC,CAC/CH,SAAS,CAACI,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,KAAAC,IAAA,CAAAC,UAAA,CAAAC,IAAA,CAAAC,UAAA,CACvB,KAAM,CAAAC,OAAO,CAAGrB,WAAW,EAAAiB,IAAA,CAACF,CAAC,CAACH,CAAC,UAAAK,IAAA,kBAAAC,UAAA,CAAHD,IAAA,CAAKK,KAAK,UAAAJ,UAAA,iBAAVA,UAAA,CAAYK,IAAI,CAAC,CAC7C,KAAM,CAAAC,OAAO,CAAGxB,WAAW,EAAAmB,IAAA,CAACH,CAAC,CAACJ,CAAC,UAAAO,IAAA,kBAAAC,UAAA,CAAHD,IAAA,CAAKG,KAAK,UAAAF,UAAA,iBAAVA,UAAA,CAAYG,IAAI,CAAC,CAC7C,GAAIF,OAAO,GAAKG,OAAO,CAAE,MAAO,CAAAH,OAAO,CAAG,CAAC,CAAG,CAAC,CAAC,CAAE;AAClD,MAAO,CAAAN,CAAC,CAACF,CAAC,CAAGG,CAAC,CAACH,CAAC,CAAE;AACpB,CAAC,CAAC,CACF,MAAO,CAAAH,SAAS,CAACC,GAAG,CAAEc,CAAC,EAAKA,CAAC,CAACb,CAAC,CAAC,CAClC,CAAC,CAED;AACA,KAAM,CAAAc,MAAM,CAAG,yCAAyC,CACxD,KAAM,CAAAC,KAAK,CAAG,iDAAiD,CAE/D;AACA,KAAM,CAAAC,cAAc,CAAIC,KAAK,EAAK,CAChC,GAAI,CAACA,KAAK,CAAE,MAAO,mBAAmB,CACtC,KAAM,CAAAC,CAAC,CAAGC,MAAM,CAACF,KAAK,CAAC,CAAC1B,IAAI,CAAC,CAAC,CAE9B,GAAIuB,MAAM,CAACM,IAAI,CAACF,CAAC,CAAC,CAAE,CAClB,KAAM,CAACG,CAAC,CAAEC,CAAC,CAAC,CAAGJ,CAAC,CAACK,KAAK,CAAC,GAAG,CAAC,CAC3B,SAAAC,MAAA,CAAUH,CAAC,CAACI,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,MAAAD,MAAA,CAAIF,CAAC,CAACG,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EACpD,CAEA,KAAM,CAAAC,GAAG,CAAGR,CAAC,CAACS,KAAK,CAACZ,KAAK,CAAC,CAC1B,GAAIW,GAAG,CAAE,CACP,KAAM,GAAKL,CAAC,CAAEC,CAAC,CAAC,CAAGI,GAAG,CACtB,SAAAF,MAAA,CAAUH,CAAC,MAAAG,MAAA,CAAIF,CAAC,EAClB,CAEA,KAAM,CAAAA,CAAC,CAAG,GAAI,CAAAM,IAAI,CAACV,CAAC,CAAC,CACrB,GAAI,CAACW,KAAK,CAACP,CAAC,CAAC,CAAE,CACb,KAAM,CAAAQ,EAAE,CAAGX,MAAM,CAACG,CAAC,CAACS,QAAQ,CAAC,CAAC,CAAG,CAAC,CAAC,CAACN,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CACpD,KAAM,CAAAO,EAAE,CAAGb,MAAM,CAACG,CAAC,CAACW,OAAO,CAAC,CAAC,CAAC,CAACR,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CAC/C,SAAAD,MAAA,CAAUM,EAAE,MAAAN,MAAA,CAAIQ,EAAE,EACpB,CAEA,MAAO,CAAAd,CAAC,CACV,CAAC,CAED;AACA,KAAM,CAAAgB,eAAe,CAAIC,OAAO,EAAK,CACnC,GAAI,CAACA,OAAO,CAAE,MAAO,CAAAC,MAAM,CAACC,iBAAiB,CAC7C,KAAM,CAAAnB,CAAC,CAAGC,MAAM,CAACgB,OAAO,CAAC,CAAC5C,IAAI,CAAC,CAAC,CAEhC,GAAIuB,MAAM,CAACM,IAAI,CAACF,CAAC,CAAC,CAAE,CAClB,KAAM,CAACG,CAAC,CAAEC,CAAC,CAAC,CAAGJ,CAAC,CAACK,KAAK,CAAC,GAAG,CAAC,CAC3B,MAAO,CAAAe,QAAQ,IAAAd,MAAA,CAAIH,CAAC,EAAAG,MAAA,CAAGF,CAAC,EAAI,EAAE,CAAC,CACjC,CACA,KAAM,CAAAI,GAAG,CAAGR,CAAC,CAACS,KAAK,CAACZ,KAAK,CAAC,CAC1B,GAAIW,GAAG,CAAE,CACP,KAAM,GAAKL,CAAC,CAAEC,CAAC,CAAC,CAAGI,GAAG,CACtB,MAAO,CAAAY,QAAQ,IAAAd,MAAA,CAAIH,CAAC,EAAAG,MAAA,CAAGF,CAAC,EAAI,EAAE,CAAC,CACjC,CACA,KAAM,CAAAA,CAAC,CAAG,GAAI,CAAAM,IAAI,CAACV,CAAC,CAAC,CACrB,GAAI,CAACW,KAAK,CAACP,CAAC,CAAC,CAAE,CACb,KAAM,CAAAQ,EAAE,CAAGX,MAAM,CAACG,CAAC,CAACS,QAAQ,CAAC,CAAC,CAAG,CAAC,CAAC,CAACN,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CACpD,KAAM,CAAAO,EAAE,CAAGb,MAAM,CAACG,CAAC,CAACW,OAAO,CAAC,CAAC,CAAC,CAACR,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CAC/C,MAAO,CAAAa,QAAQ,IAAAd,MAAA,CAAIM,EAAE,EAAAN,MAAA,CAAGQ,EAAE,EAAI,EAAE,CAAC,CACnC,CACA,MAAO,CAAAI,MAAM,CAACC,iBAAiB,CACjC,CAAC,CAED;AACA,KAAM,CAAAE,eAAe,CAAIC,OAAO,EAAK,CACnC,GAAI,CAACA,OAAO,CAAE,MAAO,CAAAJ,MAAM,CAACC,iBAAiB,CAC7C,KAAM,CAAAnB,CAAC,CAAGC,MAAM,CAACqB,OAAO,CAAC,CAACjD,IAAI,CAAC,CAAC,CAEhC;AACA,GAAI,CAAA8B,CAAC,CAAGH,CAAC,CAACS,KAAK,CAAC,8BAA8B,CAAC,CAC/C,GAAIN,CAAC,CAAE,MAAO,CAAAiB,QAAQ,CAACjB,CAAC,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CAAG,EAAE,CAAGiB,QAAQ,CAACjB,CAAC,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CAE1D;AACAA,CAAC,CAAGH,CAAC,CAACS,KAAK,CAAC,aAAa,CAAC,CAC1B,GAAIN,CAAC,CAAE,CACL,KAAM,CAAAoB,GAAG,CAAGpB,CAAC,CAAC,CAAC,CAAC,CAChB,KAAM,CAAAqB,EAAE,CAAGJ,QAAQ,CAACG,GAAG,CAAC7C,MAAM,GAAK,CAAC,CAAG6C,GAAG,CAACE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAGF,GAAG,CAACE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,CAC7E,KAAM,CAAAb,EAAE,CAAGQ,QAAQ,CAACG,GAAG,CAAC7C,MAAM,GAAK,CAAC,CAAG6C,GAAG,CAACE,KAAK,CAAC,CAAC,CAAC,CAAGF,GAAG,CAACE,KAAK,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CACvE,GAAID,EAAE,EAAI,CAAC,EAAIA,EAAE,EAAI,EAAE,EAAIZ,EAAE,EAAI,CAAC,EAAIA,EAAE,EAAI,EAAE,CAAE,MAAO,CAAAY,EAAE,CAAG,EAAE,CAAGZ,EAAE,CACrE,CAEA;AACAT,CAAC,CAAGH,CAAC,CAACS,KAAK,CAAC,oBAAoB,CAAC,CACjC,GAAIN,CAAC,CAAE,MAAO,CAAAiB,QAAQ,CAACjB,CAAC,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CAAG,EAAE,CAErC,MAAO,CAAAe,MAAM,CAACC,iBAAiB,CACjC,CAAC,CAED;AACA,KAAM,CAAAO,YAAY,CAAGA,CAACT,OAAO,CAAEK,OAAO,GAAK,CACzC,GAAI,CAACL,OAAO,CAAE,MAAO,KAAI,CAEzB,KAAM,CAAAU,GAAG,CAAG,GAAI,CAAAjB,IAAI,CAAC,CAAC,CACtB,GAAI,CAAAkB,CAAC,CAAGD,GAAG,CAACE,WAAW,CAAC,CAAC,CACvB1B,CAAC,CACDC,CAAC,CAEH,GAAIR,MAAM,CAACM,IAAI,CAACe,OAAO,CAAC,CAAE,CACxB,KAAM,CAACL,EAAE,CAAEE,EAAE,CAAC,CAAGG,OAAO,CAACZ,KAAK,CAAC,GAAG,CAAC,CAACxB,GAAG,CAAEc,CAAC,EAAKyB,QAAQ,CAACzB,CAAC,CAAE,EAAE,CAAC,CAAC,CAC/DQ,CAAC,CAAGS,EAAE,CACNR,CAAC,CAAGU,EAAE,CACR,CAAC,IAAM,CACL,KAAM,CAAAN,GAAG,CAAGS,OAAO,CAACR,KAAK,CAACZ,KAAK,CAAC,CAChC,GAAIW,GAAG,CAAE,CACPoB,CAAC,CAAGR,QAAQ,CAACZ,GAAG,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CACxBL,CAAC,CAAGiB,QAAQ,CAACZ,GAAG,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CACxBJ,CAAC,CAAGgB,QAAQ,CAACZ,GAAG,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CAC1B,CAAC,IAAM,CACL,KAAM,CAAAsB,IAAI,CAAG,GAAI,CAAApB,IAAI,CAACO,OAAO,CAAC,CAC9B,GAAIN,KAAK,CAACmB,IAAI,CAAC,CAAE,MAAO,KAAI,CAC5BF,CAAC,CAAGE,IAAI,CAACD,WAAW,CAAC,CAAC,CACtB1B,CAAC,CAAG2B,IAAI,CAACjB,QAAQ,CAAC,CAAC,CAAG,CAAC,CACvBT,CAAC,CAAG0B,IAAI,CAACf,OAAO,CAAC,CAAC,CACpB,CACF,CAEA,GAAI,CAAAS,EAAE,CAAG,CAAC,CACRZ,EAAE,CAAG,CAAC,CACR,GAAI,MAAO,CAAAU,OAAO,GAAK,QAAQ,EAAIA,OAAO,CAACjD,IAAI,CAAC,CAAC,CAAE,CACjD,KAAM,CAAA2B,CAAC,CAAGsB,OAAO,CAACjD,IAAI,CAAC,CAAC,CACxB,GAAI,CAAA0D,EAAE,CAAG/B,CAAC,CAACS,KAAK,CAAC,8BAA8B,CAAC,CAChD,GAAIsB,EAAE,CAAE,CACNP,EAAE,CAAGJ,QAAQ,CAACW,EAAE,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CACxBnB,EAAE,CAAGQ,QAAQ,CAACW,EAAE,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CAC1B,CAAC,IAAM,CACLA,EAAE,CAAG/B,CAAC,CAACS,KAAK,CAAC,aAAa,CAAC,CAC3B,GAAIsB,EAAE,CAAE,CACN,KAAM,CAAAR,GAAG,CAAGQ,EAAE,CAAC,CAAC,CAAC,CACjBP,EAAE,CAAGJ,QAAQ,CAACG,GAAG,CAAC7C,MAAM,GAAK,CAAC,CAAG6C,GAAG,CAACE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAGF,GAAG,CAACE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,CACvEb,EAAE,CAAGQ,QAAQ,CAACG,GAAG,CAAC7C,MAAM,GAAK,CAAC,CAAG6C,GAAG,CAACE,KAAK,CAAC,CAAC,CAAC,CAAGF,GAAG,CAACE,KAAK,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CACnE,CAAC,IAAM,CACLM,EAAE,CAAG/B,CAAC,CAACS,KAAK,CAAC,oBAAoB,CAAC,CAClC,GAAIsB,EAAE,CAAEP,EAAE,CAAGJ,QAAQ,CAACW,EAAE,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CAClC,CACF,CACF,CAEA,KAAM,CAAAC,EAAE,CAAG,GAAI,CAAAtB,IAAI,CAACkB,CAAC,CAAE,CAACzB,CAAC,EAAI,CAAC,EAAI,CAAC,CAAEC,CAAC,EAAI,CAAC,CAAEoB,EAAE,CAAEZ,EAAE,CAAE,CAAC,CAAE,CAAC,CAAC,CAC1D,MAAO,CAAAD,KAAK,CAACqB,EAAE,CAAC,CAAG,IAAI,CAAGA,EAAE,CAC9B,CAAC,CAED;AACA,KAAM,CAAAC,aAAa,CAAGA,CAACC,IAAI,CAAEC,KAAK,GAAK,CACrC,KAAM,CAAAC,KAAK,CAAGV,YAAY,CAACQ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEG,IAAI,CAAEH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,IAAI,CAAC,CAClD,GAAI,CAACF,KAAK,CAAE,MAAO,UAAU,CAAE;AAE/B,KAAM,CAAAG,OAAO,CAAGH,KAAK,CAACI,OAAO,CAAC,CAAC,CAC/B,KAAM,CAAAC,KAAK,CAAGF,OAAO,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAE;AACxC,GAAIJ,KAAK,EAAIM,KAAK,CAAE,MAAO,SAAS,CACpC,GAAIN,KAAK,EAAII,OAAO,CAAE,MAAO,MAAM,CACnC,MAAO,UAAU,CACnB,CAAC,CAED,KAAM,CAAAG,QAAQ,cAAGpF,KAAK,CAACqF,IAAI,CAAC,QAAS,CAAAD,QAAQA,CAAAE,IAAA,CAAW,KAAAC,WAAA,CAAAC,YAAA,IAAV,CAAEC,IAAK,CAAC,CAAAH,IAAA,CACpD,GAAI,CAACG,IAAI,CAAE,MAAO,KAAI,CACtB,mBACEpF,KAAA,QACEqF,KAAK,CAAE,CACLC,OAAO,CAAE,MAAM,CACfC,YAAY,CAAE,MAAM,CACpBC,eAAe,CAAE,SAAS,CAC1BC,MAAM,CAAE,mBAAmB,CAC3BC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,QAAQ,CACpBC,GAAG,CAAE,CAAC,CACNC,SAAS,CAAE,QAAQ,CACnBC,iBAAiB,CAAE,MAAM,CACzBC,oBAAoB,CAAE,MACxB,CAAE,CACFC,KAAK,CAAEb,IAAI,CAACtD,IAAK,CAAAoE,QAAA,EAEhB,CAAAhB,WAAA,CAAAE,IAAI,CAACvD,KAAK,UAAAqD,WAAA,WAAVA,WAAA,CAAYiB,KAAK,cAChBrG,IAAA,QACEsG,GAAG,CAAEhB,IAAI,CAACvD,KAAK,CAACsE,KAAM,CACtBE,GAAG,CAAE,EAAAlB,YAAA,CAAAC,IAAI,CAACvD,KAAK,UAAAsD,YAAA,iBAAVA,YAAA,CAAYrD,IAAI,GAAI,OAAQ,CACjCwE,KAAK,CAAE,EAAG,CACVC,MAAM,CAAE,EAAG,CACXlB,KAAK,CAAE,CAAEiB,KAAK,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAE,CAAEhB,YAAY,CAAE,CAAC,CAAEiB,SAAS,CAAE,OAAQ,CAAE,CACtEC,OAAO,CAAC,MAAM,CACdC,QAAQ,CAAC,OAAO,CACjB,CAAC,cAEF5G,IAAA,QACE,kBAAW,CACXuF,KAAK,CAAE,CACLiB,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,EAAE,CACVhB,YAAY,CAAE,CAAC,CACfoB,UAAU,CAAE,SAAS,CACrBjB,OAAO,CAAE,MAAM,CACfkB,UAAU,CAAE,QAAQ,CACpBC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,SACT,CAAE,CAAAZ,QAAA,CACH,GAED,CAAK,CACN,cAEDpG,IAAA,QACEuF,KAAK,CAAE,CACL0B,UAAU,CAAE,GAAG,CACfF,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,SAAS,CAChBE,UAAU,CAAE,QAAQ,CACpBC,QAAQ,CAAE,QAAQ,CAClBC,YAAY,CAAE,UAAU,CACxBZ,KAAK,CAAE,MACT,CAAE,CAAAJ,QAAA,CAEDd,IAAI,CAACtD,IAAI,CACP,CAAC,EACH,CAAC,CAEV,CAAC,CAAC,CAEF;AACA,QAAS,CAAAqF,uBAAuBA,CAAA,CAAG,CACjC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAG1H,KAAK,CAAC2H,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAC,GAAG,CAAG5H,KAAK,CAAC6H,MAAM,CAAC,IAAI,CAAC,CAE9B7H,KAAK,CAAC8H,SAAS,CAAC,IAAM,CACpB,KAAM,CAAAC,EAAE,CAAGH,GAAG,CAACI,OAAO,CACtB,GAAI,CAACD,EAAE,CAAE,OACT,KAAM,CAAAE,EAAE,CAAG,GAAI,CAAAC,oBAAoB,CAChCC,OAAO,EAAK,CACX,GAAIA,OAAO,CAACC,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACC,cAAc,CAAC,CAAE,CACzCZ,UAAU,CAAC,IAAI,CAAC,CAChBO,EAAE,CAACM,UAAU,CAAC,CAAC,CACjB,CACF,CAAC,CACD,CAAEC,UAAU,CAAE,mBAAoB,CACpC,CAAC,CACDP,EAAE,CAACQ,OAAO,CAACV,EAAE,CAAC,CACd,MAAO,IAAME,EAAE,CAACM,UAAU,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEpI,IAAA,QAAKyH,GAAG,CAAEA,GAAI,CAAClC,KAAK,CAAE,CAAEgD,SAAS,CAAE,GAAI,CAAE,CAAAnC,QAAA,CACtCkB,OAAO,cACNtH,IAAA,CAACH,KAAK,CAAC2I,QAAQ,EAACC,QAAQ,cAAEzI,IAAA,QAAKuF,KAAK,CAAE,CAAEkB,MAAM,CAAE,GAAI,CAAE,CAAE,CAAE,CAAAL,QAAA,cACxDpG,IAAA,CAACK,cAAc,EAACqI,cAAc,CAAE,MAAO,CAACC,SAAS,CAAE,GAAI,CAAE,CAAC,CAC5C,CAAC,cAEjB3I,IAAA,QAAKuF,KAAK,CAAE,CAAEkB,MAAM,CAAE,GAAI,CAAE,CAAE,CAC/B,CACE,CAAC,CAEV,CAEA,cAAe,SAAS,CAAAmC,QAAQA,CAAAC,KAAA,CAAiC,IAAhC,CAAEC,KAAK,CAAG,EAAE,CAAEnC,OAAO,CAAEoC,KAAM,CAAC,CAAAF,KAAA,CAC7D;AACA,KAAM,CAACnE,KAAK,CAAEsE,QAAQ,CAAC,CAAGnJ,KAAK,CAAC2H,QAAQ,CAAC,IAAMvE,IAAI,CAACiB,GAAG,CAAC,CAAC,CAAC,CAC1DrE,KAAK,CAAC8H,SAAS,CAAC,IAAM,CACpB,KAAM,CAAAsB,EAAE,CAAGC,WAAW,CAAC,IAAMF,QAAQ,CAAC/F,IAAI,CAACiB,GAAG,CAAC,CAAC,CAAC,CAAE,KAAM,CAAC,CAAE;AAC5D,MAAO,IAAMiF,aAAa,CAACF,EAAE,CAAC,CAChC,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAG,WAAW,CAAGvJ,KAAK,CAACwJ,OAAO,CAAC,IAAM,CACtC,MAAO,CAAC,GAAGP,KAAK,CAAC,CAACvH,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CAC/B,KAAM,CAAA6H,EAAE,CAAG/F,eAAe,CAAC/B,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEoD,IAAI,CAAC,CACnC,KAAM,CAAA2E,EAAE,CAAGhG,eAAe,CAAC9B,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEmD,IAAI,CAAC,CACnC,GAAI0E,EAAE,GAAKC,EAAE,CAAE,MAAO,CAAAD,EAAE,CAAGC,EAAE,CAE7B,KAAM,CAAAC,EAAE,CAAG5F,eAAe,CAACpC,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEqD,IAAI,CAAC,CACnC,KAAM,CAAA4E,EAAE,CAAG7F,eAAe,CAACnC,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEoD,IAAI,CAAC,CACnC,GAAI2E,EAAE,GAAKC,EAAE,CAAE,MAAO,CAAAD,EAAE,CAAGC,EAAE,CAE7B,KAAM,CAAAC,EAAE,CAAG,CAAC,CAAAlI,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAE2E,KAAK,GAAI,EAAE,EAAEtF,WAAW,CAAC,CAAC,CACzC,KAAM,CAAA8I,EAAE,CAAG,CAAC,CAAAlI,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAE0E,KAAK,GAAI,EAAE,EAAEtF,WAAW,CAAC,CAAC,CACzC,GAAI6I,EAAE,CAAGC,EAAE,CAAE,MAAO,CAAC,CAAC,CACtB,GAAID,EAAE,CAAGC,EAAE,CAAE,MAAO,EAAC,CACrB,MAAO,EAAC,CACV,CAAC,CAAC,CACJ,CAAC,CAAE,CAACb,KAAK,CAAC,CAAC,CAEX;AACA,KAAM,CAAAc,YAAY,CAAG/J,KAAK,CAACwJ,OAAO,CAChC,IAAMD,WAAW,CAACS,MAAM,CAAExI,CAAC,EAAKmD,aAAa,CAACnD,CAAC,CAAEqD,KAAK,CAAC,GAAK,SAAS,CAAC,CACtE,CAAC0E,WAAW,CAAE1E,KAAK,CACrB,CAAC,CAED,mBACExE,KAAA,QACEqF,KAAK,CAAE,CACLuE,QAAQ,CAAE,QAAQ,CAClBC,MAAM,CAAE,WAAW,CACnBvE,OAAO,CAAE,MAAM,CACfwE,UAAU,CAAE,iDAAiD,CAC7DhD,KAAK,CAAE,SACT,CAAE,CAAAZ,QAAA,eAEFpG,IAAA,UAAAoG,QAAA,89BAsBS,CAAC,cAGVlG,KAAA,YACE,kBAAgB,eAAe,CAC/BqF,KAAK,CAAE,CACLS,SAAS,CAAE,QAAQ,CACnBiE,YAAY,CAAE,MAAM,CACpBzE,OAAO,CAAE,MAAM,CACfE,eAAe,CAAE,SAAS,CAC1BD,YAAY,CAAE,MAAM,CACpByE,SAAS,CAAE,6BACb,CAAE,CAAA9D,QAAA,eAEFpG,IAAA,OAAIiJ,EAAE,CAAC,eAAe,CAAC1D,KAAK,CAAE,CAAEyB,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,GAAG,CAAE8C,MAAM,CAAE,CAAE,CAAE,CAAA3D,QAAA,CAAC,wBAEhF,CAAI,CAAC,cACLpG,IAAA,MAAGuF,KAAK,CAAE,CAAEwB,QAAQ,CAAE,EAAE,CAAE+C,QAAQ,CAAE,GAAG,CAAEC,MAAM,CAAE,YAAY,CAAE/C,KAAK,CAAE,SAAU,CAAE,CAAAZ,QAAA,CAAC,8BAEnF,CAAG,CAAC,EACG,CAAC,CAGTO,OAAO,cACNzG,KAAA,YAASqF,KAAK,CAAE,CAAES,SAAS,CAAE,QAAQ,CAAE+D,MAAM,CAAE,QAAS,CAAE,CAAA3D,QAAA,eACxDpG,IAAA,QAAKmK,SAAS,CAAC,SAAS,CAAE,CAAC,cAC3BnK,IAAA,MAAGuF,KAAK,CAAE,CAAEyB,KAAK,CAAE,SAAS,CAAED,QAAQ,CAAE,EAAG,CAAE,CAAAX,QAAA,CAAC,wBAAsB,CAAG,CAAC,EACjE,CAAC,CACR2C,KAAK,cACP7I,KAAA,YAASqF,KAAK,CAAE,CAAES,SAAS,CAAE,QAAQ,CAAE+D,MAAM,CAAE,QAAQ,CAAE/C,KAAK,CAAE,SAAU,CAAE,CAAAZ,QAAA,eAC1ElG,KAAA,MAAAkG,QAAA,EAAG,6BAA2B,CAAC2C,KAAK,EAAI,CAAC,cACzC/I,IAAA,WACEoK,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAE,CACxChF,KAAK,CAAE,CACLC,OAAO,CAAE,WAAW,CACpBqB,UAAU,CAAE,SAAS,CACrBG,KAAK,CAAE,OAAO,CACdrB,MAAM,CAAE,MAAM,CACdF,YAAY,CAAE,CAAC,CACf+E,MAAM,CAAE,SAAS,CACjBvD,UAAU,CAAE,GAAG,CACfF,QAAQ,CAAE,EAAE,CACZ0D,SAAS,CAAE,EAAE,CACbP,SAAS,CAAE,gCACb,CAAE,CACFQ,WAAW,CAAGxC,CAAC,EAAMA,CAAC,CAACyC,aAAa,CAACpF,KAAK,CAACG,eAAe,CAAG,SAAW,CACxEkF,UAAU,CAAG1C,CAAC,EAAMA,CAAC,CAACyC,aAAa,CAACpF,KAAK,CAACG,eAAe,CAAG,SAAW,CAAAU,QAAA,CACxE,YAED,CAAQ,CAAC,EACF,CAAC,CACRwD,YAAY,CAAC3I,MAAM,GAAK,CAAC,cAC3Bf,KAAA,YAASqF,KAAK,CAAE,CAAES,SAAS,CAAE,QAAQ,CAAE+D,MAAM,CAAE,QAAQ,CAAE/C,KAAK,CAAE,SAAS,CAAED,QAAQ,CAAE,EAAG,CAAE,CAAAX,QAAA,eACxFpG,IAAA,MAAAoG,QAAA,CAAG,6BAA2B,CAAG,CAAC,cAClCpG,IAAA,CAACF,IAAI,EACH+K,EAAE,CAAC,QAAQ,CACXtF,KAAK,CAAE,CACLK,OAAO,CAAE,cAAc,CACvB6E,SAAS,CAAE,EAAE,CACbjF,OAAO,CAAE,WAAW,CACpBqB,UAAU,CAAE,SAAS,CACrBG,KAAK,CAAE,OAAO,CACd8D,cAAc,CAAE,MAAM,CACtBrF,YAAY,CAAE,CAAC,CACfwB,UAAU,CAAE,GAAG,CACfiD,SAAS,CAAE,gCACb,CAAE,CACFQ,WAAW,CAAGxC,CAAC,EAAMA,CAAC,CAACyC,aAAa,CAACpF,KAAK,CAACG,eAAe,CAAG,SAAW,CACxEkF,UAAU,CAAG1C,CAAC,EAAMA,CAAC,CAACyC,aAAa,CAACpF,KAAK,CAACG,eAAe,CAAG,SAAW,CAAAU,QAAA,CACxE,qCAED,CAAM,CAAC,EACA,CAAC,cAEVlG,KAAA,YAASiK,SAAS,CAAC,aAAa,CAAC,aAAW,qBAAqB,CAAA/D,QAAA,eAE/DlG,KAAA,YAAS,kBAAgB,aAAa,CAACiK,SAAS,CAAC,SAAS,CAAA/D,QAAA,eACxDpG,IAAA,OACEiJ,EAAE,CAAC,aAAa,CAChB1D,KAAK,CAAE,CACLS,SAAS,CAAE,QAAQ,CACnBiE,YAAY,CAAE,MAAM,CACpBjD,KAAK,CAAE,SAAS,CAChBC,UAAU,CAAE,GAAG,CACf8D,aAAa,CAAE,KACjB,CAAE,CAAA3E,QAAA,CACH,eAED,CAAI,CAAC,cAELpG,IAAA,QACEuF,KAAK,CAAE,CACLK,OAAO,CAAE,MAAM,CACfoF,mBAAmB,CAAE,gBAAgB,CACrCjF,GAAG,CAAE,MACP,CAAE,CAAAK,QAAA,CAEDwD,YAAY,CAACxI,GAAG,CAAC,CAACqD,IAAI,CAAEwG,KAAK,GAAK,CACjC,KAAM,CAAAC,MAAM,CAAG1G,aAAa,CAACC,IAAI,CAAEC,KAAK,CAAC,CACzC,KAAM,CAAAyG,MAAM,CAAGD,MAAM,GAAK,MAAM,CAEhC,KAAM,CAAAE,QAAQ,CAAGC,KAAK,CAACC,OAAO,CAAC7G,IAAI,CAAC8G,KAAK,CAAC,CACtC9G,IAAI,CAAC8G,KAAK,CACVF,KAAK,CAACC,OAAO,CAAC7G,IAAI,CAAC+G,UAAU,CAAC,CAC9B/G,IAAI,CAAC+G,UAAU,CAACxH,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAC3B,EAAE,CACN,KAAM,CAAAyH,QAAQ,CAAGJ,KAAK,CAACC,OAAO,CAAC7G,IAAI,CAACiH,KAAK,CAAC,CACtCjH,IAAI,CAACiH,KAAK,CACVL,KAAK,CAACC,OAAO,CAAC7G,IAAI,CAAC+G,UAAU,CAAC,CAC9B/G,IAAI,CAAC+G,UAAU,CAACxH,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAC3B,EAAE,CAEN,KAAM,CAAAuH,KAAK,CAAGzK,QAAQ,CAACsK,QAAQ,CAAC,CAACpH,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAC5C,KAAM,CAAA0H,KAAK,CAAG5K,QAAQ,CAAC2K,QAAQ,CAAC,CAACzH,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAC5C,KAAM,CAAA2H,MAAM,CAAGJ,KAAK,CAACtK,MAAM,CAAGyK,KAAK,CAACzK,MAAM,CAAG,CAAC,CAE9C,mBACEf,KAAA,QAEEiK,SAAS,CAAEgB,MAAM,CAAG,YAAY,CAAGjK,SAAW;AAAA,CAC9CqE,KAAK,CAAE,CACLE,YAAY,CAAE,EAAE,CAChB0B,QAAQ,CAAE,QAAQ,CAClB+C,SAAS,CAAEiB,MAAM,CACb,+DAA+D,CAC/D,8BAA8B,CAClCzF,eAAe,CAAE,MAAM,CACvBE,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvB+F,UAAU,CAAE,6CACd,CAAE,CACFC,YAAY,CAAG3D,CAAC,EAAK,CACnB,GAAI,CAACiD,MAAM,CAAE,CACXjD,CAAC,CAACyC,aAAa,CAACpF,KAAK,CAACuG,SAAS,CAAG,kBAAkB,CACpD5D,CAAC,CAACyC,aAAa,CAACpF,KAAK,CAAC2E,SAAS,CAC7B,8BAA8B,CAClC,CACF,CAAE,CACF6B,YAAY,CAAG7D,CAAC,EAAK,CACnB,GAAI,CAACiD,MAAM,CAAE,CACXjD,CAAC,CAACyC,aAAa,CAACpF,KAAK,CAACuG,SAAS,CAAG,eAAe,CACjD5D,CAAC,CAACyC,aAAa,CAACpF,KAAK,CAAC2E,SAAS,CAC7B,8BAA8B,CAClC,CACF,CAAE,CAAA9D,QAAA,eAGFlG,KAAA,QACEqF,KAAK,CAAE,CACLC,OAAO,CAAE,WAAW,CACpBE,eAAe,CAAE,SAAS,CAC1BsG,YAAY,CAAE,mBAAmB,CACjCC,UAAU,CAAE,MACd,CAAE,CAAA7F,QAAA,eAEFpG,IAAA,OACEuF,KAAK,CAAE,CACLwE,MAAM,CAAE,CAAC,CACT/C,KAAK,CAAE,SAAS,CAChBC,UAAU,CAAE,GAAG,CACfF,QAAQ,CAAE,QAAQ,CAClBmF,UAAU,CAAE,IAAI,CAChB9E,YAAY,CAAE,UAAU,CACxBF,UAAU,CAAE,QAAQ,CACpBC,QAAQ,CAAE,QACZ,CAAE,CACFhB,KAAK,CAAE1B,IAAI,CAAC0B,KAAM,CAAAC,QAAA,CAEjB3B,IAAI,CAAC0B,KAAK,CACT,CAAC,cACLjG,KAAA,QACEqF,KAAK,CAAE,CACLK,OAAO,CAAE,MAAM,CACfuG,cAAc,CAAE,eAAe,CAC/BpF,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,SAAS,CAChByD,SAAS,CAAE,CAAC,CACZxD,UAAU,CAAE,GACd,CAAE,CAAAb,QAAA,eAEFpG,IAAA,SAAAoG,QAAA,CACG3B,IAAI,CAACG,IAAI,CAAGvC,cAAc,CAACoC,IAAI,CAACG,IAAI,CAAC,CAAG,mBAAmB,CACxD,CAAC,cACP5E,IAAA,SAAAoG,QAAA,CAAO3B,IAAI,CAACI,IAAI,EAAI,kBAAkB,CAAO,CAAC,EAC3C,CAAC,EACH,CAAC,cAGN7E,IAAA,QACEuF,KAAK,CAAE,CACLC,OAAO,CAAE,WAAW,CACpBI,OAAO,CAAE,MAAM,CACfoF,mBAAmB,CAAE,SAAS,CAC9BjF,GAAG,CAAE,EACP,CAAE,CAAAK,QAAA,CAED,CAACuF,MAAM,cACN3L,IAAA,MACEuF,KAAK,CAAE,CACLyB,KAAK,CAAE,SAAS,CAChBhB,SAAS,CAAE,QAAQ,CACnBR,OAAO,CAAE,QAAQ,CACjB4G,UAAU,CAAE,QAAQ,CACpBnF,UAAU,CAAE,GAAG,CACfoF,SAAS,CAAE,QAAQ,CACnBtC,MAAM,CAAE,CACV,CAAE,CAAA3D,QAAA,CACH,oCAED,CAAG,CAAC,cAEJlG,KAAA,CAAAE,SAAA,EAAAgG,QAAA,eACElG,KAAA,QAAAkG,QAAA,eACElG,KAAA,QACEqF,KAAK,CAAE,CACLK,OAAO,CAAE,MAAM,CACfuG,cAAc,CAAE,eAAe,CAC/BrG,UAAU,CAAE,QAAQ,CACpBmE,YAAY,CAAE,CAChB,CAAE,CAAA7D,QAAA,eAEFpG,IAAA,WAAQuF,KAAK,CAAE,CAAEyB,KAAK,CAAE,SAAU,CAAE,CAAAZ,QAAA,CAAC,SAAO,CAAQ,CAAC,cACrDlG,KAAA,SAAMqF,KAAK,CAAE,CAAEwB,QAAQ,CAAE,EAAE,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAZ,QAAA,EAC7CmF,KAAK,CAACtK,MAAM,CAAC,IAChB,EAAM,CAAC,EACJ,CAAC,cACNjB,IAAA,QACEuF,KAAK,CAAE,CACLK,OAAO,CAAE,MAAM,CACf0G,gBAAgB,CAAE,4BAA4B,CAC9CvG,GAAG,CAAE,EACP,CAAE,CAAAK,QAAA,CAEDmF,KAAK,CAACnK,GAAG,CAAC,CAACkE,IAAI,CAAEhE,CAAC,gBACjBtB,IAAA,CAACiF,QAAQ,EAAoCK,IAAI,CAAEA,IAAK,QAAAzC,MAAA,CAAnCvB,CAAC,MAAAuB,MAAA,CAAI,CAAAyC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEtD,IAAI,GAAIV,CAAC,CAAiB,CAC3D,CAAC,CACC,CAAC,EACH,CAAC,cAENpB,KAAA,QAAAkG,QAAA,eACElG,KAAA,QACEqF,KAAK,CAAE,CACLK,OAAO,CAAE,MAAM,CACfuG,cAAc,CAAE,eAAe,CAC/BrG,UAAU,CAAE,QAAQ,CACpBmE,YAAY,CAAE,CAChB,CAAE,CAAA7D,QAAA,eAEFpG,IAAA,WAAQuF,KAAK,CAAE,CAAEyB,KAAK,CAAE,SAAU,CAAE,CAAAZ,QAAA,CAAC,SAAO,CAAQ,CAAC,cACrDlG,KAAA,SAAMqF,KAAK,CAAE,CAAEwB,QAAQ,CAAE,EAAE,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAZ,QAAA,EAC7CsF,KAAK,CAACzK,MAAM,CAAC,IAChB,EAAM,CAAC,EACJ,CAAC,cACNjB,IAAA,QACEuF,KAAK,CAAE,CACLK,OAAO,CAAE,MAAM,CACf0G,gBAAgB,CAAE,4BAA4B,CAC9CvG,GAAG,CAAE,EACP,CAAE,CAAAK,QAAA,CAEDsF,KAAK,CAACtK,GAAG,CAAC,CAACkE,IAAI,CAAEhE,CAAC,gBACjBtB,IAAA,CAACiF,QAAQ,EAAoCK,IAAI,CAAEA,IAAK,QAAAzC,MAAA,CAAnCvB,CAAC,MAAAuB,MAAA,CAAI,CAAAyC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEtD,IAAI,GAAIV,CAAC,CAAiB,CAC3D,CAAC,CACC,CAAC,EACH,CAAC,EACN,CACH,CACE,CAAC,GArJD2J,KAsJF,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACC,CAAC,cAGV/K,KAAA,YAAS,kBAAgB,eAAe,CAACiK,SAAS,CAAC,UAAU,CAAC5E,KAAK,CAAE,CAAEgH,WAAW,CAAE,KAAM,CAAE,CAAAnG,QAAA,eAC1FpG,IAAA,OACEiJ,EAAE,CAAC,eAAe,CAClB1D,KAAK,CAAE,CACLyB,KAAK,CAAE,SAAS,CAChBC,UAAU,CAAE,GAAG,CACf8D,aAAa,CAAE,OAAO,CACtBhB,MAAM,CAAE,UAAU,CAClB/D,SAAS,CAAE,OACb,CAAE,CAAAI,QAAA,CACH,iBAED,CAAI,CAAC,cAELpG,IAAA,QACEuF,KAAK,CAAE,CACLE,YAAY,CAAE,EAAE,CAChBD,OAAO,CAAE,EAAE,CACXqB,UAAU,CAAE,SAAS,CACrBL,KAAK,CAAE,GACT,CAAE,CAAAJ,QAAA,cAEFpG,IAAA,CAACqH,uBAAuB,GAAE,CAAC,CACxB,CAAC,EACC,CAAC,EACH,CACV,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}