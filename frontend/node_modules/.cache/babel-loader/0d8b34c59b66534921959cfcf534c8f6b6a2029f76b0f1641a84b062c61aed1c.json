{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useTheme.js\nimport { useEffect, useState, useCallback } from \"react\";\nconst STORAGE_KEY = \"theme\"; // \"dark\" | \"light\" | \"system\"\n\nexport function useTheme() {\n  _s();\n  const getInitial = () => {\n    var _window$matchMedia, _window, _window$matchMedia$ca;\n    // 1) Si el usuario eligió un tema anteriormente\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored === \"dark\" || stored === \"light\") return stored;\n\n    // 2) Por defecto: respeta el sistema\n    const prefersDark = (_window$matchMedia = (_window = window).matchMedia) === null || _window$matchMedia === void 0 ? void 0 : (_window$matchMedia$ca = _window$matchMedia.call(_window, \"(prefers-color-scheme: dark)\")) === null || _window$matchMedia$ca === void 0 ? void 0 : _window$matchMedia$ca.matches;\n    return prefersDark ? \"dark\" : \"light\";\n  };\n  const [theme, setThemeState] = useState(getInitial);\n  const applyTheme = useCallback(t => {\n    // Aplica el atributo data-theme en <html>\n    document.documentElement.setAttribute(\"data-theme\", t);\n  }, []);\n  const setTheme = useCallback(t => {\n    setThemeState(t);\n    localStorage.setItem(STORAGE_KEY, t);\n    applyTheme(t);\n  }, [applyTheme]);\n\n  // Inicializa al montar\n  useEffect(() => {\n    applyTheme(theme);\n    // Reacciona si el sistema cambia (solo cuando el usuario no ha guardado preferencia)\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (!stored) {\n      var _mq$addEventListener;\n      const mq = window.matchMedia(\"(prefers-color-scheme: dark)\");\n      const handler = e => applyTheme(e.matches ? \"dark\" : \"light\");\n      (_mq$addEventListener = mq.addEventListener) === null || _mq$addEventListener === void 0 ? void 0 : _mq$addEventListener.call(mq, \"change\", handler);\n      return () => {\n        var _mq$removeEventListen;\n        return (_mq$removeEventListen = mq.removeEventListener) === null || _mq$removeEventListen === void 0 ? void 0 : _mq$removeEventListen.call(mq, \"change\", handler);\n      };\n    }\n  }, [theme, applyTheme]);\n\n  // Atajo para toggle\n  const toggle = useCallback(() => {\n    setTheme(theme === \"dark\" ? \"light\" : \"dark\");\n  }, [theme, setTheme]);\n  return {\n    theme,\n    setTheme,\n    toggle\n  };\n}\n_s(useTheme, \"pXY2hYgvRddECmEzeXgrC/Cb8sE=\");","map":{"version":3,"names":["useEffect","useState","useCallback","STORAGE_KEY","useTheme","_s","getInitial","_window$matchMedia","_window","_window$matchMedia$ca","stored","localStorage","getItem","prefersDark","window","matchMedia","call","matches","theme","setThemeState","applyTheme","t","document","documentElement","setAttribute","setTheme","setItem","_mq$addEventListener","mq","handler","e","addEventListener","_mq$removeEventListen","removeEventListener","toggle"],"sources":["E:/Visual Studio Code/WhaleCorpProject/frontend/src/hooks/useTheme.js"],"sourcesContent":["// src/hooks/useTheme.js\r\nimport { useEffect, useState, useCallback } from \"react\";\r\n\r\nconst STORAGE_KEY = \"theme\"; // \"dark\" | \"light\" | \"system\"\r\n\r\nexport function useTheme() {\r\n  const getInitial = () => {\r\n    // 1) Si el usuario eligió un tema anteriormente\r\n    const stored = localStorage.getItem(STORAGE_KEY);\r\n    if (stored === \"dark\" || stored === \"light\") return stored;\r\n\r\n    // 2) Por defecto: respeta el sistema\r\n    const prefersDark = window.matchMedia?.(\"(prefers-color-scheme: dark)\")?.matches;\r\n    return prefersDark ? \"dark\" : \"light\";\r\n  };\r\n\r\n  const [theme, setThemeState] = useState(getInitial);\r\n\r\n  const applyTheme = useCallback((t) => {\r\n    // Aplica el atributo data-theme en <html>\r\n    document.documentElement.setAttribute(\"data-theme\", t);\r\n  }, []);\r\n\r\n  const setTheme = useCallback((t) => {\r\n    setThemeState(t);\r\n    localStorage.setItem(STORAGE_KEY, t);\r\n    applyTheme(t);\r\n  }, [applyTheme]);\r\n\r\n  // Inicializa al montar\r\n  useEffect(() => {\r\n    applyTheme(theme);\r\n    // Reacciona si el sistema cambia (solo cuando el usuario no ha guardado preferencia)\r\n    const stored = localStorage.getItem(STORAGE_KEY);\r\n    if (!stored) {\r\n      const mq = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n      const handler = (e) => applyTheme(e.matches ? \"dark\" : \"light\");\r\n      mq.addEventListener?.(\"change\", handler);\r\n      return () => mq.removeEventListener?.(\"change\", handler);\r\n    }\r\n  }, [theme, applyTheme]);\r\n\r\n  // Atajo para toggle\r\n  const toggle = useCallback(() => {\r\n    setTheme(theme === \"dark\" ? \"light\" : \"dark\");\r\n  }, [theme, setTheme]);\r\n\r\n  return { theme, setTheme, toggle };\r\n}\r\n"],"mappings":";AAAA;AACA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAExD,MAAMC,WAAW,GAAG,OAAO,CAAC,CAAC;;AAE7B,OAAO,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACzB,MAAMC,UAAU,GAAGA,CAAA,KAAM;IAAA,IAAAC,kBAAA,EAAAC,OAAA,EAAAC,qBAAA;IACvB;IACA,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAACT,WAAW,CAAC;IAChD,IAAIO,MAAM,KAAK,MAAM,IAAIA,MAAM,KAAK,OAAO,EAAE,OAAOA,MAAM;;IAE1D;IACA,MAAMG,WAAW,IAAAN,kBAAA,GAAG,CAAAC,OAAA,GAAAM,MAAM,EAACC,UAAU,cAAAR,kBAAA,wBAAAE,qBAAA,GAAjBF,kBAAA,CAAAS,IAAA,CAAAR,OAAA,EAAoB,8BAA8B,CAAC,cAAAC,qBAAA,uBAAnDA,qBAAA,CAAqDQ,OAAO;IAChF,OAAOJ,WAAW,GAAG,MAAM,GAAG,OAAO;EACvC,CAAC;EAED,MAAM,CAACK,KAAK,EAAEC,aAAa,CAAC,GAAGlB,QAAQ,CAACK,UAAU,CAAC;EAEnD,MAAMc,UAAU,GAAGlB,WAAW,CAAEmB,CAAC,IAAK;IACpC;IACAC,QAAQ,CAACC,eAAe,CAACC,YAAY,CAAC,YAAY,EAAEH,CAAC,CAAC;EACxD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,QAAQ,GAAGvB,WAAW,CAAEmB,CAAC,IAAK;IAClCF,aAAa,CAACE,CAAC,CAAC;IAChBV,YAAY,CAACe,OAAO,CAACvB,WAAW,EAAEkB,CAAC,CAAC;IACpCD,UAAU,CAACC,CAAC,CAAC;EACf,CAAC,EAAE,CAACD,UAAU,CAAC,CAAC;;EAEhB;EACApB,SAAS,CAAC,MAAM;IACdoB,UAAU,CAACF,KAAK,CAAC;IACjB;IACA,MAAMR,MAAM,GAAGC,YAAY,CAACC,OAAO,CAACT,WAAW,CAAC;IAChD,IAAI,CAACO,MAAM,EAAE;MAAA,IAAAiB,oBAAA;MACX,MAAMC,EAAE,GAAGd,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC;MAC5D,MAAMc,OAAO,GAAIC,CAAC,IAAKV,UAAU,CAACU,CAAC,CAACb,OAAO,GAAG,MAAM,GAAG,OAAO,CAAC;MAC/D,CAAAU,oBAAA,GAAAC,EAAE,CAACG,gBAAgB,cAAAJ,oBAAA,uBAAnBA,oBAAA,CAAAX,IAAA,CAAAY,EAAE,EAAoB,QAAQ,EAAEC,OAAO,CAAC;MACxC,OAAO;QAAA,IAAAG,qBAAA;QAAA,QAAAA,qBAAA,GAAMJ,EAAE,CAACK,mBAAmB,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAAhB,IAAA,CAAAY,EAAE,EAAuB,QAAQ,EAAEC,OAAO,CAAC;MAAA;IAC1D;EACF,CAAC,EAAE,CAACX,KAAK,EAAEE,UAAU,CAAC,CAAC;;EAEvB;EACA,MAAMc,MAAM,GAAGhC,WAAW,CAAC,MAAM;IAC/BuB,QAAQ,CAACP,KAAK,KAAK,MAAM,GAAG,OAAO,GAAG,MAAM,CAAC;EAC/C,CAAC,EAAE,CAACA,KAAK,EAAEO,QAAQ,CAAC,CAAC;EAErB,OAAO;IAAEP,KAAK;IAAEO,QAAQ;IAAES;EAAO,CAAC;AACpC;AAAC7B,EAAA,CA3CeD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}