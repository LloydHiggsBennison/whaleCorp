{"ast":null,"code":"var _jsxFileName = \"E:\\\\Visual Studio Code\\\\WhaleCorpProject\\\\frontend\\\\src\\\\components\\\\HomePage.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/components/HomePage.jsx\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport AdminPanel from \"./AdminPanel\";\nimport CardSlot from \"./CardSlot\";\nimport UserProfile from \"./UserProfile\";\n\n// Claves de localStorage\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LS_KEYS = {\n  USER_DATA: \"whale_user_data\",\n  CARDS: \"whale_cards\"\n};\n\n// Regla de orden: estas clases siempre al final (por equipo), con orden estable\nconst SPECIAL_TAIL = new Set([\"Bard\", \"Paladin\", \"Artist\", \"Valkyrie\"]);\nconst sortTeam = arr => {\n  const withIndex = (arr || []).map((c, i) => ({\n    c,\n    i\n  }));\n  withIndex.sort((a, b) => {\n    var _a$c, _a$c$class, _b$c, _b$c$class;\n    const aIsTail = SPECIAL_TAIL.has((_a$c = a.c) === null || _a$c === void 0 ? void 0 : (_a$c$class = _a$c.class) === null || _a$c$class === void 0 ? void 0 : _a$c$class.name);\n    const bIsTail = SPECIAL_TAIL.has((_b$c = b.c) === null || _b$c === void 0 ? void 0 : (_b$c$class = _b$c.class) === null || _b$c$class === void 0 ? void 0 : _b$c$class.name);\n    if (aIsTail !== bIsTail) return aIsTail ? 1 : -1;\n    return a.i - b.i; // estable dentro del mismo grupo\n  });\n  return withIndex.map(x => x.c);\n};\nexport default function HomePage() {\n  _s();\n  // Si tienes email desde auth real, reemplázalo aquí\n  const [userEmail] = useState(\"usuario@ejemplo.com\");\n\n  // userData = { characters: [], labels: [] }\n  const [userData, setUserData] = useState({\n    characters: [],\n    labels: []\n  });\n\n  // cards = [{ id, title, date, time, team1, team2, characters }]\n  const [cards, setCards] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // ----- Carga inicial desde localStorage -----\n  useEffect(() => {\n    setLoading(true);\n    try {\n      const savedUser = localStorage.getItem(LS_KEYS.USER_DATA);\n      if (savedUser) setUserData(JSON.parse(savedUser));\n      const savedCards = localStorage.getItem(LS_KEYS.CARDS);\n      if (savedCards) setCards(JSON.parse(savedCards));\n      setError(\"\");\n    } catch (e) {\n      console.warn(\"Error leyendo localStorage:\", e);\n      setError(\"No se pudo cargar información local.\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // ----- Persistencia automática -----\n  useEffect(() => {\n    try {\n      localStorage.setItem(LS_KEYS.USER_DATA, JSON.stringify(userData));\n    } catch (e) {\n      console.warn(\"No se pudo guardar userData:\", e);\n    }\n  }, [userData]);\n  useEffect(() => {\n    try {\n      localStorage.setItem(LS_KEYS.CARDS, JSON.stringify(cards));\n    } catch (e) {\n      console.warn(\"No se pudo guardar cards:\", e);\n    }\n  }, [cards]);\n\n  // Derivado: personajes disponibles para selects\n  const allCharacters = useMemo(() => userData.characters || [], [userData]);\n\n  // ----- Handlers de tarjetas (usados por AdminPanel y CardSlot) -----\n  // Guardar lista completa (crear/editar desde el modal)\n  const onSaveCards = nextCards => {\n    // Aseguramos estructura, orden y compat con `characters`\n    const normalized = (nextCards || []).map(card => {\n      var _card$id;\n      const team1 = sortTeam((card.team1 || []).slice(0, 4));\n      const team2 = sortTeam((card.team2 || []).slice(0, 4));\n      return {\n        id: (_card$id = card.id) !== null && _card$id !== void 0 ? _card$id : Date.now(),\n        title: (card.title || \"Sin título\").trim(),\n        date: card.date || \"\",\n        time: card.time || \"\",\n        team1,\n        team2,\n        characters: [...team1, ...team2]\n      };\n    });\n    setCards(normalized);\n  };\n\n  // Actualizar una tarjeta en caliente (desde cada CardSlot)\n  const onUpdateCardData = (cardId, partial) => {\n    setCards(prev => prev.map(c => {\n      if (c.id !== cardId) return c;\n      let next = {\n        ...c,\n        ...partial\n      };\n\n      // Si llegan team1/team2, normalizamos y sincronizamos characters.\n      if (partial.team1 || partial.team2) {\n        var _ref, _partial$team, _ref2, _partial$team2;\n        const t1Raw = (_ref = (_partial$team = partial.team1) !== null && _partial$team !== void 0 ? _partial$team : c.team1) !== null && _ref !== void 0 ? _ref : [];\n        const t2Raw = (_ref2 = (_partial$team2 = partial.team2) !== null && _partial$team2 !== void 0 ? _partial$team2 : c.team2) !== null && _ref2 !== void 0 ? _ref2 : [];\n        const team1 = sortTeam(t1Raw).slice(0, 4);\n        const team2 = sortTeam(t2Raw).slice(0, 4);\n        next.team1 = team1;\n        next.team2 = team2;\n        next.characters = [...team1, ...team2];\n      } else if (Array.isArray(next.characters) && (!next.team1 || !next.team2)) {\n        var _next$team, _next$team2;\n        // Compatibilidad: si solo existe characters, rellenamos teams por si acaso\n        const team1 = ((_next$team = next.team1) !== null && _next$team !== void 0 ? _next$team : next.characters.slice(0, 4)).slice(0, 4);\n        const team2 = ((_next$team2 = next.team2) !== null && _next$team2 !== void 0 ? _next$team2 : next.characters.slice(4, 8)).slice(0, 4);\n        next.team1 = sortTeam(team1);\n        next.team2 = sortTeam(team2);\n        next.characters = [...next.team1, ...next.team2];\n      }\n      return next;\n    }));\n  };\n  const onDeleteCard = cardId => {\n    setCards(prev => prev.filter(c => c.id !== cardId));\n  };\n\n  // ----- UI -----\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"1200px\",\n      margin: \"20px auto\",\n      padding: \"20px\",\n      fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n      color: \"#34495e\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"32px\",\n        padding: \"18px\",\n        backgroundColor: \"#f7f9fc\",\n        borderRadius: \"10px\",\n        boxShadow: \"0 4px 10px rgba(0,0,0,0.05)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: \"#1e88e5\",\n          fontWeight: 700,\n          margin: 0\n        },\n        children: \"Bienvenido a WhaleCorp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: 16,\n          margin: \"8px 0 0\",\n          color: \"#66788a\"\n        },\n        children: \"A page made with love \\u2665\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        margin: \"50px 0\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"#95a5a6\",\n          fontSize: 16\n        },\n        children: \"Cargando datos...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        margin: \"50px 0\",\n        color: \"#e74c3c\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.reload(),\n        style: {\n          padding: \"10px 20px\",\n          background: \"#1e88e5\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: \"6px\",\n          cursor: \"pointer\",\n          fontWeight: \"600\",\n          fontSize: \"16px\",\n          marginTop: \"10px\",\n          boxShadow: \"0 2px 6px rgba(30,136,229,0.4)\"\n        },\n        onMouseOver: e => e.currentTarget.style.backgroundColor = \"#1565c0\",\n        onMouseOut: e => e.currentTarget.style.backgroundColor = \"#1e88e5\",\n        children: \"Reintentar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(UserProfile, {\n        userEmail: userEmail,\n        userData: userData,\n        setUserData: setUserData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 30\n        },\n        children: /*#__PURE__*/_jsxDEV(AdminPanel, {\n          cards: cards,\n          allCharacters: allCharacters,\n          onSaveCards: onSaveCards\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        style: {\n          marginTop: 40\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginBottom: 10,\n            color: \"#2c3e50\",\n            fontWeight: 700\n          },\n          children: \"Tablero\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), cards.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"#7f8c8d\",\n            fontSize: 16\n          },\n          children: \"No hay tarjetas a\\xFAn. Crea una en el Panel de Administraci\\xF3n.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(3, 1fr)\",\n            gap: 24\n          },\n          children: cards.map(card => /*#__PURE__*/_jsxDEV(CardSlot, {\n            card: card,\n            allCharacters: allCharacters,\n            onUpdateCardData: onUpdateCardData,\n            onDeleteCard: onDeleteCard\n          }, card.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"slKDAKEmKH/5K/0/nDtlPJeXdGo=\");\n_c = HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","AdminPanel","CardSlot","UserProfile","jsxDEV","_jsxDEV","Fragment","_Fragment","LS_KEYS","USER_DATA","CARDS","SPECIAL_TAIL","Set","sortTeam","arr","withIndex","map","c","i","sort","a","b","_a$c","_a$c$class","_b$c","_b$c$class","aIsTail","has","class","name","bIsTail","x","HomePage","_s","userEmail","userData","setUserData","characters","labels","cards","setCards","loading","setLoading","error","setError","savedUser","localStorage","getItem","JSON","parse","savedCards","e","console","warn","setItem","stringify","allCharacters","onSaveCards","nextCards","normalized","card","_card$id","team1","slice","team2","id","Date","now","title","trim","date","time","onUpdateCardData","cardId","partial","prev","next","_ref","_partial$team","_ref2","_partial$team2","t1Raw","t2Raw","Array","isArray","_next$team","_next$team2","onDeleteCard","filter","style","maxWidth","margin","padding","fontFamily","color","children","textAlign","marginBottom","backgroundColor","borderRadius","boxShadow","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","onClick","window","location","reload","background","border","cursor","marginTop","onMouseOver","currentTarget","onMouseOut","length","display","gridTemplateColumns","gap","_c","$RefreshReg$"],"sources":["E:/Visual Studio Code/WhaleCorpProject/frontend/src/components/HomePage.jsx"],"sourcesContent":["// frontend/src/components/HomePage.jsx\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport AdminPanel from \"./AdminPanel\";\r\nimport CardSlot from \"./CardSlot\";\r\nimport UserProfile from \"./UserProfile\";\r\n\r\n// Claves de localStorage\r\nconst LS_KEYS = {\r\n  USER_DATA: \"whale_user_data\",\r\n  CARDS: \"whale_cards\",\r\n};\r\n\r\n// Regla de orden: estas clases siempre al final (por equipo), con orden estable\r\nconst SPECIAL_TAIL = new Set([\"Bard\", \"Paladin\", \"Artist\", \"Valkyrie\"]);\r\nconst sortTeam = (arr) => {\r\n  const withIndex = (arr || []).map((c, i) => ({ c, i }));\r\n  withIndex.sort((a, b) => {\r\n    const aIsTail = SPECIAL_TAIL.has(a.c?.class?.name);\r\n    const bIsTail = SPECIAL_TAIL.has(b.c?.class?.name);\r\n    if (aIsTail !== bIsTail) return aIsTail ? 1 : -1;\r\n    return a.i - b.i; // estable dentro del mismo grupo\r\n  });\r\n  return withIndex.map((x) => x.c);\r\n};\r\n\r\nexport default function HomePage() {\r\n  // Si tienes email desde auth real, reemplázalo aquí\r\n  const [userEmail] = useState(\"usuario@ejemplo.com\");\r\n\r\n  // userData = { characters: [], labels: [] }\r\n  const [userData, setUserData] = useState({ characters: [], labels: [] });\r\n\r\n  // cards = [{ id, title, date, time, team1, team2, characters }]\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // ----- Carga inicial desde localStorage -----\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    try {\r\n      const savedUser = localStorage.getItem(LS_KEYS.USER_DATA);\r\n      if (savedUser) setUserData(JSON.parse(savedUser));\r\n\r\n      const savedCards = localStorage.getItem(LS_KEYS.CARDS);\r\n      if (savedCards) setCards(JSON.parse(savedCards));\r\n\r\n      setError(\"\");\r\n    } catch (e) {\r\n      console.warn(\"Error leyendo localStorage:\", e);\r\n      setError(\"No se pudo cargar información local.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // ----- Persistencia automática -----\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(LS_KEYS.USER_DATA, JSON.stringify(userData));\r\n    } catch (e) {\r\n      console.warn(\"No se pudo guardar userData:\", e);\r\n    }\r\n  }, [userData]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(LS_KEYS.CARDS, JSON.stringify(cards));\r\n    } catch (e) {\r\n      console.warn(\"No se pudo guardar cards:\", e);\r\n    }\r\n  }, [cards]);\r\n\r\n  // Derivado: personajes disponibles para selects\r\n  const allCharacters = useMemo(() => userData.characters || [], [userData]);\r\n\r\n  // ----- Handlers de tarjetas (usados por AdminPanel y CardSlot) -----\r\n  // Guardar lista completa (crear/editar desde el modal)\r\n  const onSaveCards = (nextCards) => {\r\n    // Aseguramos estructura, orden y compat con `characters`\r\n    const normalized = (nextCards || []).map((card) => {\r\n      const team1 = sortTeam((card.team1 || []).slice(0, 4));\r\n      const team2 = sortTeam((card.team2 || []).slice(0, 4));\r\n      return {\r\n        id: card.id ?? Date.now(),\r\n        title: (card.title || \"Sin título\").trim(),\r\n        date: card.date || \"\",\r\n        time: card.time || \"\",\r\n        team1,\r\n        team2,\r\n        characters: [...team1, ...team2],\r\n      };\r\n    });\r\n    setCards(normalized);\r\n  };\r\n\r\n  // Actualizar una tarjeta en caliente (desde cada CardSlot)\r\n  const onUpdateCardData = (cardId, partial) => {\r\n    setCards((prev) =>\r\n      prev.map((c) => {\r\n        if (c.id !== cardId) return c;\r\n        let next = { ...c, ...partial };\r\n\r\n        // Si llegan team1/team2, normalizamos y sincronizamos characters.\r\n        if (partial.team1 || partial.team2) {\r\n          const t1Raw = partial.team1 ?? c.team1 ?? [];\r\n          const t2Raw = partial.team2 ?? c.team2 ?? [];\r\n          const team1 = sortTeam(t1Raw).slice(0, 4);\r\n          const team2 = sortTeam(t2Raw).slice(0, 4);\r\n          next.team1 = team1;\r\n          next.team2 = team2;\r\n          next.characters = [...team1, ...team2];\r\n        } else if (Array.isArray(next.characters) && (!next.team1 || !next.team2)) {\r\n          // Compatibilidad: si solo existe characters, rellenamos teams por si acaso\r\n          const team1 = (next.team1 ?? next.characters.slice(0, 4)).slice(0, 4);\r\n          const team2 = (next.team2 ?? next.characters.slice(4, 8)).slice(0, 4);\r\n          next.team1 = sortTeam(team1);\r\n          next.team2 = sortTeam(team2);\r\n          next.characters = [...next.team1, ...next.team2];\r\n        }\r\n\r\n        return next;\r\n      })\r\n    );\r\n  };\r\n\r\n  const onDeleteCard = (cardId) => {\r\n    setCards((prev) => prev.filter((c) => c.id !== cardId));\r\n  };\r\n\r\n  // ----- UI -----\r\n  return (\r\n    <div\r\n      style={{\r\n        maxWidth: \"1200px\",\r\n        margin: \"20px auto\",\r\n        padding: \"20px\",\r\n        fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\r\n        color: \"#34495e\",\r\n      }}\r\n    >\r\n      {/* Hero */}\r\n      <div\r\n        style={{\r\n          textAlign: \"center\",\r\n          marginBottom: \"32px\",\r\n          padding: \"18px\",\r\n          backgroundColor: \"#f7f9fc\",\r\n          borderRadius: \"10px\",\r\n          boxShadow: \"0 4px 10px rgba(0,0,0,0.05)\",\r\n        }}\r\n      >\r\n        <h1 style={{ color: \"#1e88e5\", fontWeight: 700, margin: 0 }}>Bienvenido a WhaleCorp</h1>\r\n        <p style={{ fontSize: 16, margin: \"8px 0 0\", color: \"#66788a\" }}>A page made with love ♥</p>\r\n      </div>\r\n\r\n      {/* Estados de carga/errores */}\r\n      {loading ? (\r\n        <div style={{ textAlign: \"center\", margin: \"50px 0\" }}>\r\n          <p style={{ color: \"#95a5a6\", fontSize: 16 }}>Cargando datos...</p>\r\n        </div>\r\n      ) : error ? (\r\n        <div style={{ textAlign: \"center\", margin: \"50px 0\", color: \"#e74c3c\" }}>\r\n          <p>Error: {error}</p>\r\n          <button\r\n            onClick={() => window.location.reload()}\r\n            style={{\r\n              padding: \"10px 20px\",\r\n              background: \"#1e88e5\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: \"6px\",\r\n              cursor: \"pointer\",\r\n              fontWeight: \"600\",\r\n              fontSize: \"16px\",\r\n              marginTop: \"10px\",\r\n              boxShadow: \"0 2px 6px rgba(30,136,229,0.4)\",\r\n            }}\r\n            onMouseOver={(e) => (e.currentTarget.style.backgroundColor = \"#1565c0\")}\r\n            onMouseOut={(e) => (e.currentTarget.style.backgroundColor = \"#1e88e5\")}\r\n          >\r\n            Reintentar\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Perfil de usuario (gestiona personajes/etiquetas) */}\r\n          <UserProfile userEmail={userEmail} userData={userData} setUserData={setUserData} />\r\n\r\n          {/* AdminPanel: crear/editar tarjetas (popup por equipos) */}\r\n          <div style={{ marginTop: 30 }}>\r\n            <AdminPanel cards={cards} allCharacters={allCharacters} onSaveCards={onSaveCards} />\r\n          </div>\r\n\r\n          {/* Tablero de edición rápida por tarjeta (2 columnas: team1 | team2) */}\r\n          <section style={{ marginTop: 40 }}>\r\n            <h2 style={{ marginBottom: 10, color: \"#2c3e50\", fontWeight: 700 }}>Tablero</h2>\r\n\r\n            {cards.length === 0 ? (\r\n              <p style={{ color: \"#7f8c8d\", fontSize: 16 }}>No hay tarjetas aún. Crea una en el Panel de Administración.</p>\r\n            ) : (\r\n              <div\r\n                style={{\r\n                  display: \"grid\",\r\n                  gridTemplateColumns: \"repeat(3, 1fr)\",\r\n                  gap: 24,\r\n                }}\r\n              >\r\n                {cards.map((card) => (\r\n                  <CardSlot\r\n                    key={card.id}\r\n                    card={card}\r\n                    allCharacters={allCharacters}\r\n                    onUpdateCardData={onUpdateCardData}\r\n                    onDeleteCard={onDeleteCard}\r\n                  />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </section>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}