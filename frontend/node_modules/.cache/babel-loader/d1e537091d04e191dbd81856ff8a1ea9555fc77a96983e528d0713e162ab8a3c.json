{"ast":null,"code":"var _jsxFileName = \"E:\\\\Visual Studio Code\\\\WhaleCorpProject\\\\frontend\\\\src\\\\components\\\\Streamings.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CHANNELS = [\"https://www.twitch.tv/trickmasteh\", \"https://www.twitch.tv/blawbberto\", \"https://www.twitch.tv/kaosniight\", \"https://www.twitch.tv/khangsoofly\", \"https://www.twitch.tv/faaaxy\", \"https://www.twitch.tv/takeshijoga\"];\n\n// Normaliza a \"login\" de Twitch (minúsculas, sin @, etc.)\nconst normalizeLogin = raw => {\n  if (!raw) return null;\n  const s = String(raw).trim();\n  try {\n    if (s.startsWith(\"http\")) {\n      var _parts$;\n      const u = new URL(s);\n      const parts = u.pathname.split(\"/\").filter(Boolean);\n      return ((_parts$ = parts[0]) === null || _parts$ === void 0 ? void 0 : _parts$.toLowerCase()) || null;\n    }\n  } catch {}\n  return s.replace(/^@/, \"\").replace(/\\s+/g, \"\").toLowerCase();\n};\n\n// Determina si la respuesta del backend indica que está live\nconst isJsonLive = j => {\n  if (!j) return false;\n  if (j.live === true) return true;\n  if (j.isLive === true) return true;\n  if (j.data && typeof j.data === \"object\" && j.data.type === \"live\") return true;\n  if (j.status === \"live\") return true;\n  return false;\n};\n\n// Obtiene el login desde el JSON, o cae al fallback\nconst pickLogin = (j, fallbackLogin) => {\n  var _j$data;\n  return (j === null || j === void 0 ? void 0 : j.channel) || (j === null || j === void 0 ? void 0 : j.login) || (j === null || j === void 0 ? void 0 : j.user) || (j === null || j === void 0 ? void 0 : j.username) || (j === null || j === void 0 ? void 0 : (_j$data = j.data) === null || _j$data === void 0 ? void 0 : _j$data.user_login) || fallbackLogin;\n};\nexport default function Streamings({\n  channels = CHANNELS,\n  pollIntervalMs = 120000,\n  maxCards = 12,\n  cardWidth = 220,\n  probeEndpoint = \"/api/stream/live-status\",\n  onLiveCountChange\n}) {\n  _s();\n  const [liveList, setLiveList] = useState([]); // [{channel, thumbUrl, w, h}]\n  const [loading, setLoading] = useState(true);\n  const timerRef = useRef(null);\n\n  // Preconnect leve\n  useEffect(() => {\n    const add = href => {\n      const link = document.createElement(\"link\");\n      link.rel = \"preconnect\";\n      link.href = href;\n      link.crossOrigin = \"\";\n      document.head.appendChild(link);\n      return link;\n    };\n    const a = add(\"https://static-cdn.jtvnw.net\");\n    const b = add(\"https://www.twitch.tv\");\n    return () => {\n      a.remove();\n      b.remove();\n    };\n  }, []);\n  const normalized = useMemo(() => (channels || []).map(normalizeLogin).filter(Boolean).slice(0, maxCards), [channels, maxCards]);\n  const notify = count => {\n    if (typeof onLiveCountChange === \"function\") {\n      try {\n        onLiveCountChange(count);\n      } catch {}\n    }\n  };\n  const checkLive = async signal => {\n    if (!normalized.length) {\n      setLiveList([]);\n      setLoading(false);\n      notify(0);\n      return;\n    }\n    setLoading(true);\n    const qs = login => {\n      const p = new URLSearchParams();\n      // soporta backends que esperen \"channel\" o \"login\"\n      p.set(\"channel\", login);\n      p.set(\"login\", login);\n      // evita caches intermedias\n      p.set(\"_\", Date.now().toString());\n      return `${probeEndpoint}?${p.toString()}`;\n    };\n    try {\n      const resList = await Promise.allSettled(normalized.map(login => fetch(qs(login), {\n        cache: \"no-store\",\n        signal\n      }).then(r => r.ok ? r.json().catch(() => null) : null)));\n      const lives = [];\n      for (let i = 0; i < resList.length; i++) {\n        const json = resList[i].status === \"fulfilled\" ? resList[i].value : null;\n        const fallbackLogin = normalized[i];\n        if (isJsonLive(json)) {\n          const login = pickLogin(json, fallbackLogin);\n          if (!login) continue;\n          const safeLogin = String(login).toLowerCase();\n          lives.push({\n            channel: safeLogin,\n            thumbUrl: `https://static-cdn.jtvnw.net/previews-ttv/live_user_${encodeURIComponent(safeLogin)}-320x180.jpg?cb=${Date.now()}`,\n            w: 320,\n            h: 180\n          });\n        }\n      }\n      setLiveList(lives);\n      notify(lives.length);\n    } catch (e) {\n      // En caso de error de red, deja lista vacía\n      console.error(\"checkLive error\", e);\n      setLiveList([]);\n      notify(0);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    var _window$requestIdleCa, _window$requestIdleCa2, _window;\n    const ctrl = new AbortController();\n    const start = () => {\n      if (document.visibilityState === \"visible\") checkLive(ctrl.signal);\n    };\n    const ric = (_window$requestIdleCa = (_window$requestIdleCa2 = (_window = window).requestIdleCallback) === null || _window$requestIdleCa2 === void 0 ? void 0 : _window$requestIdleCa2.call(_window, start)) !== null && _window$requestIdleCa !== void 0 ? _window$requestIdleCa : setTimeout(start, 500);\n    timerRef.current = setInterval(() => {\n      if (document.visibilityState === \"visible\") checkLive(ctrl.signal);\n    }, pollIntervalMs);\n    const vis = () => document.visibilityState === \"visible\" && checkLive(ctrl.signal);\n    document.addEventListener(\"visibilitychange\", vis);\n    return () => {\n      window.cancelIdleCallback ? window.cancelIdleCallback(ric) : clearTimeout(ric);\n      clearInterval(timerRef.current);\n      document.removeEventListener(\"visibilitychange\", vis);\n      ctrl.abort();\n    };\n  }, [normalized, pollIntervalMs]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const cardHeight = Math.round(cardWidth * 9 / 16);\n\n  // Si no hay nada que mostrar, no renderizamos\n  if (loading && liveList.length === 0 || liveList.length === 0) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"aria-label\": \"List of live streamings\",\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: 12,\n      alignItems: \"flex-end\"\n    },\n    children: liveList.map(s => /*#__PURE__*/_jsxDEV(\"a\", {\n      href: `https://www.twitch.tv/${encodeURIComponent(s.channel)}`,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      style: {\n        textDecoration: \"none\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\",\n          border: \"3px solid #000\",\n          borderRadius: 10,\n          background: \"#f7f9fc\",\n          overflow: \"hidden\",\n          width: cardWidth,\n          contentVisibility: \"auto\",\n          containIntrinsicSize: `${cardHeight + 48}px`,\n          marginLeft: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: 8,\n            left: 8,\n            background: \"#ff3b30\",\n            color: \"#fff\",\n            fontSize: 12,\n            padding: \"2px 8px\",\n            borderRadius: 999,\n            fontWeight: 700,\n            letterSpacing: 0.5,\n            zIndex: 2\n          },\n          children: \"LIVE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: s.thumbUrl,\n          srcSet: `${s.thumbUrl} ${s.w}w`,\n          sizes: `${cardWidth}px`,\n          alt: `${s.channel} en vivo`,\n          width: cardWidth,\n          height: cardHeight,\n          loading: \"lazy\",\n          decoding: \"async\",\n          fetchpriority: \"low\",\n          style: {\n            width: \"100%\",\n            height: cardHeight,\n            objectFit: \"cover\",\n            display: \"block\",\n            background: \"#555\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"8px 10px 10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700,\n              color: \"#1e2a38\",\n              marginBottom: 2,\n              textTransform: \"capitalize\",\n              fontSize: 14\n            },\n            children: s.channel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 11,\n              color: \"#66788a\"\n            },\n            children: \"Click to open on Twitch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this)\n    }, s.channel, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n}\n_s(Streamings, \"1tyxN5oSaYzBC2qk1jP444Xoh+0=\");\n_c = Streamings;\nvar _c;\n$RefreshReg$(_c, \"Streamings\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsxDEV","_jsxDEV","CHANNELS","normalizeLogin","raw","s","String","trim","startsWith","_parts$","u","URL","parts","pathname","split","filter","Boolean","toLowerCase","replace","isJsonLive","j","live","isLive","data","type","status","pickLogin","fallbackLogin","_j$data","channel","login","user","username","user_login","Streamings","channels","pollIntervalMs","maxCards","cardWidth","probeEndpoint","onLiveCountChange","_s","liveList","setLiveList","loading","setLoading","timerRef","add","href","link","document","createElement","rel","crossOrigin","head","appendChild","a","b","remove","normalized","map","slice","notify","count","checkLive","signal","length","qs","p","URLSearchParams","set","Date","now","toString","resList","Promise","allSettled","fetch","cache","then","r","ok","json","catch","lives","i","value","safeLogin","push","thumbUrl","encodeURIComponent","w","h","e","console","error","_window$requestIdleCa","_window$requestIdleCa2","_window","ctrl","AbortController","start","visibilityState","ric","window","requestIdleCallback","call","setTimeout","current","setInterval","vis","addEventListener","cancelIdleCallback","clearTimeout","clearInterval","removeEventListener","abort","cardHeight","Math","round","style","display","flexDirection","gap","alignItems","children","target","textDecoration","position","border","borderRadius","background","overflow","width","contentVisibility","containIntrinsicSize","marginLeft","top","left","color","fontSize","padding","fontWeight","letterSpacing","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","src","srcSet","sizes","alt","height","decoding","fetchpriority","objectFit","marginBottom","textTransform","_c","$RefreshReg$"],"sources":["E:/Visual Studio Code/WhaleCorpProject/frontend/src/components/Streamings.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\n\r\nconst CHANNELS = [\r\n  \"https://www.twitch.tv/trickmasteh\",\r\n  \"https://www.twitch.tv/blawbberto\",\r\n  \"https://www.twitch.tv/kaosniight\",\r\n  \"https://www.twitch.tv/khangsoofly\",\r\n  \"https://www.twitch.tv/faaaxy\",\r\n  \"https://www.twitch.tv/takeshijoga\",\r\n];\r\n\r\n// Normaliza a \"login\" de Twitch (minúsculas, sin @, etc.)\r\nconst normalizeLogin = (raw) => {\r\n  if (!raw) return null;\r\n  const s = String(raw).trim();\r\n  try {\r\n    if (s.startsWith(\"http\")) {\r\n      const u = new URL(s);\r\n      const parts = u.pathname.split(\"/\").filter(Boolean);\r\n      return parts[0]?.toLowerCase() || null;\r\n    }\r\n  } catch {}\r\n  return s.replace(/^@/, \"\").replace(/\\s+/g, \"\").toLowerCase();\r\n};\r\n\r\n// Determina si la respuesta del backend indica que está live\r\nconst isJsonLive = (j) => {\r\n  if (!j) return false;\r\n  if (j.live === true) return true;\r\n  if (j.isLive === true) return true;\r\n  if (j.data && typeof j.data === \"object\" && j.data.type === \"live\") return true;\r\n  if (j.status === \"live\") return true;\r\n  return false;\r\n};\r\n\r\n// Obtiene el login desde el JSON, o cae al fallback\r\nconst pickLogin = (j, fallbackLogin) => {\r\n  return (\r\n    j?.channel ||\r\n    j?.login ||\r\n    j?.user ||\r\n    j?.username ||\r\n    j?.data?.user_login ||\r\n    fallbackLogin\r\n  );\r\n};\r\n\r\nexport default function Streamings({\r\n  channels = CHANNELS,\r\n  pollIntervalMs = 120000,\r\n  maxCards = 12,\r\n  cardWidth = 220,\r\n  probeEndpoint = \"/api/stream/live-status\",\r\n  onLiveCountChange,\r\n}) {\r\n  const [liveList, setLiveList] = useState([]); // [{channel, thumbUrl, w, h}]\r\n  const [loading, setLoading] = useState(true);\r\n  const timerRef = useRef(null);\r\n\r\n  // Preconnect leve\r\n  useEffect(() => {\r\n    const add = (href) => {\r\n      const link = document.createElement(\"link\");\r\n      link.rel = \"preconnect\";\r\n      link.href = href;\r\n      link.crossOrigin = \"\";\r\n      document.head.appendChild(link);\r\n      return link;\r\n    };\r\n    const a = add(\"https://static-cdn.jtvnw.net\");\r\n    const b = add(\"https://www.twitch.tv\");\r\n    return () => {\r\n      a.remove();\r\n      b.remove();\r\n    };\r\n  }, []);\r\n\r\n  const normalized = useMemo(\r\n    () =>\r\n      (channels || [])\r\n        .map(normalizeLogin)\r\n        .filter(Boolean)\r\n        .slice(0, maxCards),\r\n    [channels, maxCards]\r\n  );\r\n\r\n  const notify = (count) => {\r\n    if (typeof onLiveCountChange === \"function\") {\r\n      try {\r\n        onLiveCountChange(count);\r\n      } catch {}\r\n    }\r\n  };\r\n\r\n  const checkLive = async (signal) => {\r\n    if (!normalized.length) {\r\n      setLiveList([]);\r\n      setLoading(false);\r\n      notify(0);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    const qs = (login) => {\r\n      const p = new URLSearchParams();\r\n      // soporta backends que esperen \"channel\" o \"login\"\r\n      p.set(\"channel\", login);\r\n      p.set(\"login\", login);\r\n      // evita caches intermedias\r\n      p.set(\"_\", Date.now().toString());\r\n      return `${probeEndpoint}?${p.toString()}`;\r\n    };\r\n\r\n    try {\r\n      const resList = await Promise.allSettled(\r\n        normalized.map((login) =>\r\n          fetch(qs(login), { cache: \"no-store\", signal }).then((r) =>\r\n            r.ok ? r.json().catch(() => null) : null\r\n          )\r\n        )\r\n      );\r\n\r\n      const lives = [];\r\n      for (let i = 0; i < resList.length; i++) {\r\n        const json = resList[i].status === \"fulfilled\" ? resList[i].value : null;\r\n        const fallbackLogin = normalized[i];\r\n        if (isJsonLive(json)) {\r\n          const login = pickLogin(json, fallbackLogin);\r\n          if (!login) continue;\r\n          const safeLogin = String(login).toLowerCase();\r\n          lives.push({\r\n            channel: safeLogin,\r\n            thumbUrl: `https://static-cdn.jtvnw.net/previews-ttv/live_user_${encodeURIComponent(\r\n              safeLogin\r\n            )}-320x180.jpg?cb=${Date.now()}`,\r\n            w: 320,\r\n            h: 180,\r\n          });\r\n        }\r\n      }\r\n\r\n      setLiveList(lives);\r\n      notify(lives.length);\r\n    } catch (e) {\r\n      // En caso de error de red, deja lista vacía\r\n      console.error(\"checkLive error\", e);\r\n      setLiveList([]);\r\n      notify(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const ctrl = new AbortController();\r\n\r\n    const start = () => {\r\n      if (document.visibilityState === \"visible\") checkLive(ctrl.signal);\r\n    };\r\n\r\n    const ric =\r\n      window.requestIdleCallback?.(start) ??\r\n      setTimeout(start, 500);\r\n\r\n    timerRef.current = setInterval(() => {\r\n      if (document.visibilityState === \"visible\") checkLive(ctrl.signal);\r\n    }, pollIntervalMs);\r\n\r\n    const vis = () =>\r\n      document.visibilityState === \"visible\" && checkLive(ctrl.signal);\r\n    document.addEventListener(\"visibilitychange\", vis);\r\n\r\n    return () => {\r\n      window.cancelIdleCallback\r\n        ? window.cancelIdleCallback(ric)\r\n        : clearTimeout(ric);\r\n      clearInterval(timerRef.current);\r\n      document.removeEventListener(\"visibilitychange\", vis);\r\n      ctrl.abort();\r\n    };\r\n  }, [normalized, pollIntervalMs]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const cardHeight = Math.round((cardWidth * 9) / 16);\r\n\r\n  // Si no hay nada que mostrar, no renderizamos\r\n  if ((loading && liveList.length === 0) || liveList.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      aria-label=\"List of live streamings\"\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: 12,\r\n        alignItems: \"flex-end\",\r\n      }}\r\n    >\r\n      {liveList.map((s) => (\r\n        <a\r\n          key={s.channel}\r\n          href={`https://www.twitch.tv/${encodeURIComponent(s.channel)}`}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          style={{ textDecoration: \"none\" }}\r\n        >\r\n          <div\r\n            style={{\r\n              position: \"relative\",\r\n              border: \"3px solid #000\",\r\n              borderRadius: 10,\r\n              background: \"#f7f9fc\",\r\n              overflow: \"hidden\",\r\n              width: cardWidth,\r\n              contentVisibility: \"auto\",\r\n              containIntrinsicSize: `${cardHeight + 48}px`,\r\n              marginLeft: \"auto\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                top: 8,\r\n                left: 8,\r\n                background: \"#ff3b30\",\r\n                color: \"#fff\",\r\n                fontSize: 12,\r\n                padding: \"2px 8px\",\r\n                borderRadius: 999,\r\n                fontWeight: 700,\r\n                letterSpacing: 0.5,\r\n                zIndex: 2,\r\n              }}\r\n            >\r\n              LIVE\r\n            </div>\r\n\r\n            <img\r\n              src={s.thumbUrl}\r\n              srcSet={`${s.thumbUrl} ${s.w}w`}\r\n              sizes={`${cardWidth}px`}\r\n              alt={`${s.channel} en vivo`}\r\n              width={cardWidth}\r\n              height={cardHeight}\r\n              loading=\"lazy\"\r\n              decoding=\"async\"\r\n              fetchpriority=\"low\"\r\n              style={{\r\n                width: \"100%\",\r\n                height: cardHeight,\r\n                objectFit: \"cover\",\r\n                display: \"block\",\r\n                background: \"#555\",\r\n              }}\r\n            />\r\n\r\n            <div style={{ padding: \"8px 10px 10px\" }}>\r\n              <div\r\n                style={{\r\n                  fontWeight: 700,\r\n                  color: \"#1e2a38\",\r\n                  marginBottom: 2,\r\n                  textTransform: \"capitalize\",\r\n                  fontSize: 14,\r\n                }}\r\n              >\r\n                {s.channel}\r\n              </div>\r\n              <div style={{ fontSize: 11, color: \"#66788a\" }}>\r\n                Click to open on Twitch\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}